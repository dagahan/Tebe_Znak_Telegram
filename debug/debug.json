{"text": "2025-06-06T14:01:48.738771+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.561173", "seconds": 1.561173}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035385618560, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:01:48.738771+07:00", "timestamp": 1749193308.738771}}}
{"text": "2025-06-06T14:01:48.773186+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.595588", "seconds": 1.595588}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035385618560, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:01:48.773186+07:00", "timestamp": 1749193308.773186}}}
{"text": "2025-06-06T14:01:48.773857+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.596259", "seconds": 1.596259}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035385618560, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:01:48.773857+07:00", "timestamp": 1749193308.773857}}}
{"text": "2025-06-06T14:01:48.819503+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.641905", "seconds": 1.641905}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035314091712, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:01:48.819503+07:00", "timestamp": 1749193308.819503}}}
{"text": "2025-06-06T14:01:53.739634+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.562036", "seconds": 6.562036}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:01:53.739634+07:00", "timestamp": 1749193313.739634}}}
{"text": "2025-06-06T14:01:53.755470+0700 INFO Constructed message for Настя: Ты в центре внимания, даже если этого не хочешь.\n", "record": {"elapsed": {"repr": "0:00:06.577872", "seconds": 6.577872}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Ты в центре внимания, даже если этого не хочешь.", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:01:53.755470+07:00", "timestamp": 1749193313.75547}}}
{"text": "2025-06-06T14:01:58.739222+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.561624", "seconds": 11.561624}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:01:58.739222+07:00", "timestamp": 1749193318.739222}}}
{"text": "2025-06-06T14:01:58.761631+0700 INFO Constructed message for Настя: какой сегодня момент стоит твоей улыбки?\n", "record": {"elapsed": {"repr": "0:00:11.584033", "seconds": 11.584033}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: какой сегодня момент стоит твоей улыбки?", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:01:58.761631+07:00", "timestamp": 1749193318.761631}}}
{"text": "2025-06-06T14:02:03.739008+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:16.561410", "seconds": 16.56141}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:03.739008+07:00", "timestamp": 1749193323.739008}}}
{"text": "2025-06-06T14:02:03.755055+0700 INFO Constructed message for Настя: Настя, ты как Wi-Fi, всегда на связи.\n", "record": {"elapsed": {"repr": "0:00:16.577457", "seconds": 16.577457}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Настя, ты как Wi-Fi, всегда на связи.", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:03.755055+07:00", "timestamp": 1749193323.755055}}}
{"text": "2025-06-06T14:02:08.739167+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:21.561569", "seconds": 21.561569}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:08.739167+07:00", "timestamp": 1749193328.739167}}}
{"text": "2025-06-06T14:02:08.753526+0700 INFO Constructed message for Настя: Ты достойна счастья каждый день.\n", "record": {"elapsed": {"repr": "0:00:21.575928", "seconds": 21.575928}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Ты достойна счастья каждый день.", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:08.753526+07:00", "timestamp": 1749193328.753526}}}
{"text": "2025-06-06T14:02:13.739203+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:26.561605", "seconds": 26.561605}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:13.739203+07:00", "timestamp": 1749193333.739203}}}
{"text": "2025-06-06T14:02:13.755133+0700 INFO Constructed message for Настя: сегодня твое время сиять\n", "record": {"elapsed": {"repr": "0:00:26.577535", "seconds": 26.577535}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: сегодня твое время сиять", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:13.755133+07:00", "timestamp": 1749193333.755133}}}
{"text": "2025-06-06T14:02:18.739643+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:31.562045", "seconds": 31.562045}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:18.739643+07:00", "timestamp": 1749193338.739643}}}
{"text": "2025-06-06T14:02:18.754367+0700 INFO Constructed message for Настя: Настя, ты фонарь, освещающий путь другим.\n", "record": {"elapsed": {"repr": "0:00:31.576769", "seconds": 31.576769}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Настя, ты фонарь, освещающий путь другим.", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:18.754367+07:00", "timestamp": 1749193338.754367}}}
{"text": "2025-06-06T14:02:23.739008+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:36.561410", "seconds": 36.56141}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:23.739008+07:00", "timestamp": 1749193343.739008}}}
{"text": "2025-06-06T14:02:23.754736+0700 INFO Constructed message for Настя: сегодня только твой день\n", "record": {"elapsed": {"repr": "0:00:36.577138", "seconds": 36.577138}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: сегодня только твой день", "module": "publisher", "name": "services.publisher", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035305699008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:02:23.754736+07:00", "timestamp": 1749193343.754736}}}
{"text": "2025-06-06T14:02:28.319970+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:41.142372", "seconds": 41.142372}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035385618560, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:02:28.319970+07:00", "timestamp": 1749193348.31997}}}
{"text": "2025-06-06T14:02:28.320330+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:41.142732", "seconds": 41.142732}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035385618560, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:02:28.320330+07:00", "timestamp": 1749193348.32033}}}
{"text": "2025-06-06T14:02:31.321042+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:44.143444", "seconds": 44.143444}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1133614, "name": "MainProcess"}, "thread": {"id": 131035385618560, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:02:31.321042+07:00", "timestamp": 1749193351.321042}}}
{"text": "2025-06-06T14:06:48.547544+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:02.038981", "seconds": 2.038981}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133380839232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:06:48.547544+07:00", "timestamp": 1749193608.547544}}}
{"text": "2025-06-06T14:06:48.559852+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:02.051289", "seconds": 2.051289}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133380839232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:06:48.559852+07:00", "timestamp": 1749193608.559852}}}
{"text": "2025-06-06T14:06:48.560724+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:02.052161", "seconds": 2.052161}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133380839232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:06:48.560724+07:00", "timestamp": 1749193608.560724}}}
{"text": "2025-06-06T14:06:48.598568+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:02.090005", "seconds": 2.090005}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133291415232, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:06:48.598568+07:00", "timestamp": 1749193608.598568}}}
{"text": "2025-06-06T14:06:53.548362+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:07.039799", "seconds": 7.039799}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133283022528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:06:53.548362+07:00", "timestamp": 1749193613.548362}}}
{"text": "2025-06-06T14:06:53.562390+0700 INFO Constructed message for Настя: Ты сильнее, чем кажешься, и это факт.\n", "record": {"elapsed": {"repr": "0:00:07.053827", "seconds": 7.053827}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Ты сильнее, чем кажешься, и это факт.", "module": "publisher", "name": "services.publisher", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133283022528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:06:53.562390+07:00", "timestamp": 1749193613.56239}}}
{"text": "2025-06-06T14:06:58.548125+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:12.039562", "seconds": 12.039562}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133283022528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:06:58.548125+07:00", "timestamp": 1749193618.548125}}}
{"text": "2025-06-06T14:06:58.561823+0700 INFO Constructed message for Настя: сегодня время новых побед\n", "record": {"elapsed": {"repr": "0:00:12.053260", "seconds": 12.05326}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: сегодня время новых побед", "module": "publisher", "name": "services.publisher", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133283022528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:06:58.561823+07:00", "timestamp": 1749193618.561823}}}
{"text": "2025-06-06T14:07:02.518026+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:16.009463", "seconds": 16.009463}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133380839232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:02.518026+07:00", "timestamp": 1749193622.518026}}}
{"text": "2025-06-06T14:07:02.518533+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:16.009970", "seconds": 16.00997}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133380839232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:02.518533+07:00", "timestamp": 1749193622.518533}}}
{"text": "2025-06-06T14:07:05.519848+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:19.011285", "seconds": 19.011285}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134359, "name": "MainProcess"}, "thread": {"id": 134133380839232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:05.519848+07:00", "timestamp": 1749193625.519848}}}
{"text": "2025-06-06T14:07:08.060614+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.086348", "seconds": 1.086348}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134513, "name": "MainProcess"}, "thread": {"id": 139285426673472, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:08.060614+07:00", "timestamp": 1749193628.060614}}}
{"text": "2025-06-06T14:07:08.063285+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.089019", "seconds": 1.089019}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134513, "name": "MainProcess"}, "thread": {"id": 139285426673472, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:08.063285+07:00", "timestamp": 1749193628.063285}}}
{"text": "2025-06-06T14:07:08.063979+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.089713", "seconds": 1.089713}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134513, "name": "MainProcess"}, "thread": {"id": 139285426673472, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:08.063979+07:00", "timestamp": 1749193628.063979}}}
{"text": "2025-06-06T14:07:08.096066+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.121800", "seconds": 1.1218}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1134513, "name": "MainProcess"}, "thread": {"id": 139285337470656, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:07:08.096066+07:00", "timestamp": 1749193628.096066}}}
{"text": "2025-06-06T14:07:10.369614+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:03.395348", "seconds": 3.395348}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134513, "name": "MainProcess"}, "thread": {"id": 139285426673472, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:10.369614+07:00", "timestamp": 1749193630.369614}}}
{"text": "2025-06-06T14:07:10.370026+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:03.395760", "seconds": 3.39576}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134513, "name": "MainProcess"}, "thread": {"id": 139285426673472, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:10.370026+07:00", "timestamp": 1749193630.370026}}}
{"text": "2025-06-06T14:07:13.370754+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:06.396488", "seconds": 6.396488}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134513, "name": "MainProcess"}, "thread": {"id": 139285426673472, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:13.370754+07:00", "timestamp": 1749193633.370754}}}
{"text": "2025-06-06T14:07:27.124997+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.080592", "seconds": 1.080592}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134750, "name": "MainProcess"}, "thread": {"id": 130345977046848, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:27.124997+07:00", "timestamp": 1749193647.124997}}}
{"text": "2025-06-06T14:07:27.127782+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.083377", "seconds": 1.083377}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134750, "name": "MainProcess"}, "thread": {"id": 130345977046848, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:27.127782+07:00", "timestamp": 1749193647.127782}}}
{"text": "2025-06-06T14:07:27.128388+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.083983", "seconds": 1.083983}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134750, "name": "MainProcess"}, "thread": {"id": 130345977046848, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:27.128388+07:00", "timestamp": 1749193647.128388}}}
{"text": "2025-06-06T14:07:27.158815+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.114410", "seconds": 1.11441}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1134750, "name": "MainProcess"}, "thread": {"id": 130345887332032, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:07:27.158815+07:00", "timestamp": 1749193647.158815}}}
{"text": "2025-06-06T14:07:28.967700+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:02.923295", "seconds": 2.923295}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134750, "name": "MainProcess"}, "thread": {"id": 130345977046848, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:28.967700+07:00", "timestamp": 1749193648.9677}}}
{"text": "2025-06-06T14:07:28.968018+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:02.923613", "seconds": 2.923613}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134750, "name": "MainProcess"}, "thread": {"id": 130345977046848, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:28.968018+07:00", "timestamp": 1749193648.968018}}}
{"text": "2025-06-06T14:07:31.968307+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:05.923902", "seconds": 5.923902}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1134750, "name": "MainProcess"}, "thread": {"id": 130345977046848, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:07:31.968307+07:00", "timestamp": 1749193651.968307}}}
{"text": "2025-06-06T14:21:58.084378+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.031363", "seconds": 1.031363}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647444199232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:21:58.084378+07:00", "timestamp": 1749194518.084378}}}
{"text": "2025-06-06T14:21:58.086963+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.033948", "seconds": 1.033948}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647444199232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:21:58.086963+07:00", "timestamp": 1749194518.086963}}}
{"text": "2025-06-06T14:21:58.087521+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.034506", "seconds": 1.034506}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647444199232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:21:58.087521+07:00", "timestamp": 1749194518.087521}}}
{"text": "2025-06-06T14:21:58.123935+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.070920", "seconds": 1.07092}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647355520704, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:21:58.123935+07:00", "timestamp": 1749194518.123935}}}
{"text": "2025-06-06T14:22:03.085119+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.032104", "seconds": 6.032104}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647347128000, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:22:03.085119+07:00", "timestamp": 1749194523.085119}}}
{"text": "2025-06-06T14:22:03.100103+0700 INFO Constructed message for Настя: Иногда достаточно просто сделать первый шаг.\n", "record": {"elapsed": {"repr": "0:00:06.047088", "seconds": 6.047088}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Иногда достаточно просто сделать первый шаг.", "module": "publisher", "name": "services.publisher", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647347128000, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:22:03.100103+07:00", "timestamp": 1749194523.100103}}}
{"text": "2025-06-06T14:22:08.084876+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.031861", "seconds": 11.031861}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647347128000, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:22:08.084876+07:00", "timestamp": 1749194528.084876}}}
{"text": "2025-06-06T14:22:08.098998+0700 INFO Constructed message for Настя: Сегодня отличный день, чтобы попробовать что-то новое.\n", "record": {"elapsed": {"repr": "0:00:11.045983", "seconds": 11.045983}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Сегодня отличный день, чтобы попробовать что-то новое.", "module": "publisher", "name": "services.publisher", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647347128000, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:22:08.098998+07:00", "timestamp": 1749194528.098998}}}
{"text": "2025-06-06T14:22:13.084978+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:16.031963", "seconds": 16.031963}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647347128000, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:22:13.084978+07:00", "timestamp": 1749194533.084978}}}
{"text": "2025-06-06T14:22:13.098556+0700 INFO Constructed message for Настя: Твоя энергия сегодня на пике, используй это.\n", "record": {"elapsed": {"repr": "0:00:16.045541", "seconds": 16.045541}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Твоя энергия сегодня на пике, используй это.", "module": "publisher", "name": "services.publisher", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647347128000, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:22:13.098556+07:00", "timestamp": 1749194533.098556}}}
{"text": "2025-06-06T14:22:13.838534+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:16.785519", "seconds": 16.785519}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647444199232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:22:13.838534+07:00", "timestamp": 1749194533.838534}}}
{"text": "2025-06-06T14:22:13.839146+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:16.786131", "seconds": 16.786131}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647444199232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:22:13.839146+07:00", "timestamp": 1749194533.839146}}}
{"text": "2025-06-06T14:22:16.839784+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:19.786769", "seconds": 19.786769}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135560, "name": "MainProcess"}, "thread": {"id": 138647444199232, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:22:16.839784+07:00", "timestamp": 1749194536.839784}}}
{"text": "2025-06-06T14:25:57.587730+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.046704", "seconds": 1.046704}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135941, "name": "MainProcess"}, "thread": {"id": 134400199472960, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:25:57.587730+07:00", "timestamp": 1749194757.58773}}}
{"text": "2025-06-06T14:25:57.590246+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.049220", "seconds": 1.04922}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135941, "name": "MainProcess"}, "thread": {"id": 134400199472960, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:25:57.590246+07:00", "timestamp": 1749194757.590246}}}
{"text": "2025-06-06T14:25:57.590740+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.049714", "seconds": 1.049714}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135941, "name": "MainProcess"}, "thread": {"id": 134400199472960, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:25:57.590740+07:00", "timestamp": 1749194757.59074}}}
{"text": "2025-06-06T14:25:57.621689+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.080663", "seconds": 1.080663}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1135941, "name": "MainProcess"}, "thread": {"id": 134400109967040, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:25:57.621689+07:00", "timestamp": 1749194757.621689}}}
{"text": "2025-06-06T14:26:01.312194+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:04.771168", "seconds": 4.771168}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135941, "name": "MainProcess"}, "thread": {"id": 134400199472960, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:26:01.312194+07:00", "timestamp": 1749194761.312194}}}
{"text": "2025-06-06T14:26:01.312585+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:04.771559", "seconds": 4.771559}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135941, "name": "MainProcess"}, "thread": {"id": 134400199472960, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:26:01.312585+07:00", "timestamp": 1749194761.312585}}}
{"text": "2025-06-06T14:26:04.313328+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:07.772302", "seconds": 7.772302}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1135941, "name": "MainProcess"}, "thread": {"id": 134400199472960, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:26:04.313328+07:00", "timestamp": 1749194764.313328}}}
{"text": "2025-06-06T14:26:51.587554+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.099018", "seconds": 1.099018}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136112, "name": "MainProcess"}, "thread": {"id": 129877924210496, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:26:51.587554+07:00", "timestamp": 1749194811.587554}}}
{"text": "2025-06-06T14:26:51.590223+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.101687", "seconds": 1.101687}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136112, "name": "MainProcess"}, "thread": {"id": 129877924210496, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:26:51.590223+07:00", "timestamp": 1749194811.590223}}}
{"text": "2025-06-06T14:26:51.590815+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.102279", "seconds": 1.102279}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136112, "name": "MainProcess"}, "thread": {"id": 129877924210496, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:26:51.590815+07:00", "timestamp": 1749194811.590815}}}
{"text": "2025-06-06T14:26:51.621448+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.132912", "seconds": 1.132912}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1136112, "name": "MainProcess"}, "thread": {"id": 129877835511488, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:26:51.621448+07:00", "timestamp": 1749194811.621448}}}
{"text": "2025-06-06T14:26:56.588492+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.099956", "seconds": 6.099956}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1136112, "name": "MainProcess"}, "thread": {"id": 129877827118784, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:26:56.588492+07:00", "timestamp": 1749194816.588492}}}
{"text": "2025-06-06T14:26:56.602286+0700 INFO Constructed message for Настя: Ты создаёшь свою историю шаг за шагом.\n", "record": {"elapsed": {"repr": "0:00:06.113750", "seconds": 6.11375}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Ты создаёшь свою историю шаг за шагом.", "module": "publisher", "name": "services.publisher", "process": {"id": 1136112, "name": "MainProcess"}, "thread": {"id": 129877827118784, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:26:56.602286+07:00", "timestamp": 1749194816.602286}}}
{"text": "2025-06-06T14:26:57.211760+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:06.723224", "seconds": 6.723224}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136112, "name": "MainProcess"}, "thread": {"id": 129877924210496, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:26:57.211760+07:00", "timestamp": 1749194817.21176}}}
{"text": "2025-06-06T14:26:57.212116+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:06.723580", "seconds": 6.72358}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136112, "name": "MainProcess"}, "thread": {"id": 129877924210496, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:26:57.212116+07:00", "timestamp": 1749194817.212116}}}
{"text": "2025-06-06T14:27:00.212836+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:09.724300", "seconds": 9.7243}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136112, "name": "MainProcess"}, "thread": {"id": 129877924210496, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:00.212836+07:00", "timestamp": 1749194820.212836}}}
{"text": "2025-06-06T14:27:10.546515+0700 DEBUG [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.064599", "seconds": 1.064599}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1136271, "name": "MainProcess"}, "thread": {"id": 123549654681408, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:10.546515+07:00", "timestamp": 1749194830.546515}}}
{"text": "2025-06-06T14:27:10.547268+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.065352", "seconds": 1.065352}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136271, "name": "MainProcess"}, "thread": {"id": 123549654681408, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:10.547268+07:00", "timestamp": 1749194830.547268}}}
{"text": "2025-06-06T14:27:10.549629+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.067713", "seconds": 1.067713}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136271, "name": "MainProcess"}, "thread": {"id": 123549654681408, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:10.549629+07:00", "timestamp": 1749194830.549629}}}
{"text": "2025-06-06T14:27:10.550185+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.068269", "seconds": 1.068269}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136271, "name": "MainProcess"}, "thread": {"id": 123549654681408, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:10.550185+07:00", "timestamp": 1749194830.550185}}}
{"text": "2025-06-06T14:27:10.581660+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.099744", "seconds": 1.099744}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1136271, "name": "MainProcess"}, "thread": {"id": 123549566105280, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:27:10.581660+07:00", "timestamp": 1749194830.58166}}}
{"text": "2025-06-06T14:27:13.486502+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:04.004586", "seconds": 4.004586}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136271, "name": "MainProcess"}, "thread": {"id": 123549654681408, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:13.486502+07:00", "timestamp": 1749194833.486502}}}
{"text": "2025-06-06T14:27:13.487059+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:04.005143", "seconds": 4.005143}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136271, "name": "MainProcess"}, "thread": {"id": 123549654681408, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:13.487059+07:00", "timestamp": 1749194833.487059}}}
{"text": "2025-06-06T14:27:16.488019+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:07.006103", "seconds": 7.006103}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136271, "name": "MainProcess"}, "thread": {"id": 123549654681408, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:16.488019+07:00", "timestamp": 1749194836.488019}}}
{"text": "2025-06-06T14:27:55.575796+0700 DEBUG SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.055458", "seconds": 1.055458}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469757720384, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:55.575796+07:00", "timestamp": 1749194875.575796}}}
{"text": "2025-06-06T14:27:55.576530+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.056192", "seconds": 1.056192}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469757720384, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:55.576530+07:00", "timestamp": 1749194875.57653}}}
{"text": "2025-06-06T14:27:55.578966+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.058628", "seconds": 1.058628}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469757720384, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:55.578966+07:00", "timestamp": 1749194875.578966}}}
{"text": "2025-06-06T14:27:55.579561+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.059223", "seconds": 1.059223}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469757720384, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:27:55.579561+07:00", "timestamp": 1749194875.579561}}}
{"text": "2025-06-06T14:27:55.612890+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.092552", "seconds": 1.092552}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469669353152, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:27:55.612890+07:00", "timestamp": 1749194875.61289}}}
{"text": "2025-06-06T14:28:00.577200+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.056862", "seconds": 6.056862}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469587564224, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:28:00.577200+07:00", "timestamp": 1749194880.5772}}}
{"text": "2025-06-06T14:28:00.593223+0700 INFO Constructed message for Настя: Твоя сила — в твоём сердце, помни это.\n", "record": {"elapsed": {"repr": "0:00:06.072885", "seconds": 6.072885}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Твоя сила — в твоём сердце, помни это.", "module": "publisher", "name": "services.publisher", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469587564224, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:28:00.593223+07:00", "timestamp": 1749194880.593223}}}
{"text": "2025-06-06T14:28:01.585814+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:07.065476", "seconds": 7.065476}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469757720384, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:28:01.585814+07:00", "timestamp": 1749194881.585814}}}
{"text": "2025-06-06T14:28:01.586208+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.065870", "seconds": 7.06587}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469757720384, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:28:01.586208+07:00", "timestamp": 1749194881.586208}}}
{"text": "2025-06-06T14:28:04.586735+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.066397", "seconds": 10.066397}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136443, "name": "MainProcess"}, "thread": {"id": 134469757720384, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:28:04.586735+07:00", "timestamp": 1749194884.586735}}}
{"text": "2025-06-06T14:29:50.226768+0700 DEBUG colorama.Fore.RED + SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.070284", "seconds": 1.070284}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 24, "message": "colorama.Fore.RED + SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1136691, "name": "MainProcess"}, "thread": {"id": 130181121550144, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:29:50.226768+07:00", "timestamp": 1749194990.226768}}}
{"text": "2025-06-06T14:29:50.227559+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.071075", "seconds": 1.071075}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136691, "name": "MainProcess"}, "thread": {"id": 130181121550144, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:29:50.227559+07:00", "timestamp": 1749194990.227559}}}
{"text": "2025-06-06T14:29:50.229656+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.073172", "seconds": 1.073172}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136691, "name": "MainProcess"}, "thread": {"id": 130181121550144, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:29:50.229656+07:00", "timestamp": 1749194990.229656}}}
{"text": "2025-06-06T14:29:50.230456+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.073972", "seconds": 1.073972}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136691, "name": "MainProcess"}, "thread": {"id": 130181121550144, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:29:50.230456+07:00", "timestamp": 1749194990.230456}}}
{"text": "2025-06-06T14:29:50.263077+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.106593", "seconds": 1.106593}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1136691, "name": "MainProcess"}, "thread": {"id": 130181033359040, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:29:50.263077+07:00", "timestamp": 1749194990.263077}}}
{"text": "2025-06-06T14:29:52.310101+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:03.153617", "seconds": 3.153617}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136691, "name": "MainProcess"}, "thread": {"id": 130181121550144, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:29:52.310101+07:00", "timestamp": 1749194992.310101}}}
{"text": "2025-06-06T14:29:52.310527+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:03.154043", "seconds": 3.154043}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136691, "name": "MainProcess"}, "thread": {"id": 130181121550144, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:29:52.310527+07:00", "timestamp": 1749194992.310527}}}
{"text": "2025-06-06T14:29:55.310813+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:06.154329", "seconds": 6.154329}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136691, "name": "MainProcess"}, "thread": {"id": 130181121550144, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:29:55.310813+07:00", "timestamp": 1749194995.310813}}}
{"text": "2025-06-06T14:30:04.515061+0700 DEBUG \u001b[31m SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.061323", "seconds": 1.061323}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 24, "message": "\u001b[31m SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1136833, "name": "MainProcess"}, "thread": {"id": 133142943831872, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:04.515061+07:00", "timestamp": 1749195004.515061}}}
{"text": "2025-06-06T14:30:04.515896+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.062158", "seconds": 1.062158}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136833, "name": "MainProcess"}, "thread": {"id": 133142943831872, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:04.515896+07:00", "timestamp": 1749195004.515896}}}
{"text": "2025-06-06T14:30:04.518127+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.064389", "seconds": 1.064389}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136833, "name": "MainProcess"}, "thread": {"id": 133142943831872, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:04.518127+07:00", "timestamp": 1749195004.518127}}}
{"text": "2025-06-06T14:30:04.519198+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.065460", "seconds": 1.06546}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136833, "name": "MainProcess"}, "thread": {"id": 133142943831872, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:04.519198+07:00", "timestamp": 1749195004.519198}}}
{"text": "2025-06-06T14:30:04.555844+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.102106", "seconds": 1.102106}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1136833, "name": "MainProcess"}, "thread": {"id": 133142855808704, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:30:04.555844+07:00", "timestamp": 1749195004.555844}}}
{"text": "2025-06-06T14:30:06.210194+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:02.756456", "seconds": 2.756456}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136833, "name": "MainProcess"}, "thread": {"id": 133142943831872, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:06.210194+07:00", "timestamp": 1749195006.210194}}}
{"text": "2025-06-06T14:30:06.210556+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:02.756818", "seconds": 2.756818}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136833, "name": "MainProcess"}, "thread": {"id": 133142943831872, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:06.210556+07:00", "timestamp": 1749195006.210556}}}
{"text": "2025-06-06T14:30:09.211048+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:05.757310", "seconds": 5.75731}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136833, "name": "MainProcess"}, "thread": {"id": 133142943831872, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:09.211048+07:00", "timestamp": 1749195009.211048}}}
{"text": "2025-06-06T14:30:15.565333+0700 DEBUG \u001b[34m SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.081501", "seconds": 1.081501}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 24, "message": "\u001b[34m SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1136956, "name": "MainProcess"}, "thread": {"id": 123230178879296, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:15.565333+07:00", "timestamp": 1749195015.565333}}}
{"text": "2025-06-06T14:30:15.566068+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.082236", "seconds": 1.082236}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136956, "name": "MainProcess"}, "thread": {"id": 123230178879296, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:15.566068+07:00", "timestamp": 1749195015.566068}}}
{"text": "2025-06-06T14:30:15.568201+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.084369", "seconds": 1.084369}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136956, "name": "MainProcess"}, "thread": {"id": 123230178879296, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:15.568201+07:00", "timestamp": 1749195015.568201}}}
{"text": "2025-06-06T14:30:15.568748+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.084916", "seconds": 1.084916}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136956, "name": "MainProcess"}, "thread": {"id": 123230178879296, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:15.568748+07:00", "timestamp": 1749195015.568748}}}
{"text": "2025-06-06T14:30:15.601291+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.117459", "seconds": 1.117459}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1136956, "name": "MainProcess"}, "thread": {"id": 123230089115328, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:30:15.601291+07:00", "timestamp": 1749195015.601291}}}
{"text": "2025-06-06T14:30:20.560374+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:06.076542", "seconds": 6.076542}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136956, "name": "MainProcess"}, "thread": {"id": 123230178879296, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:20.560374+07:00", "timestamp": 1749195020.560374}}}
{"text": "2025-06-06T14:30:20.560729+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:06.076897", "seconds": 6.076897}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136956, "name": "MainProcess"}, "thread": {"id": 123230178879296, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:20.560729+07:00", "timestamp": 1749195020.560729}}}
{"text": "2025-06-06T14:30:23.560980+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:09.077148", "seconds": 9.077148}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1136956, "name": "MainProcess"}, "thread": {"id": 123230178879296, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:30:23.560980+07:00", "timestamp": 1749195023.56098}}}
{"text": "2025-06-06T14:31:20.084946+0700 DEBUG \u001b[34m SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')].\n", "record": {"elapsed": {"repr": "0:00:01.048584", "seconds": 1.048584}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 24, "message": "\u001b[34m SQL request SELECT * FROM channels result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')].", "module": "database", "name": "core.database", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431647868736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:20.084946+07:00", "timestamp": 1749195080.084946}}}
{"text": "2025-06-06T14:31:20.085609+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.049247", "seconds": 1.049247}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431647868736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:20.085609+07:00", "timestamp": 1749195080.085609}}}
{"text": "2025-06-06T14:31:20.087714+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.051352", "seconds": 1.051352}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431647868736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:20.087714+07:00", "timestamp": 1749195080.087714}}}
{"text": "2025-06-06T14:31:20.088270+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.051908", "seconds": 1.051908}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431647868736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:20.088270+07:00", "timestamp": 1749195080.08827}}}
{"text": "2025-06-06T14:31:20.120971+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.084609", "seconds": 1.084609}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431559907008, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:31:20.120971+07:00", "timestamp": 1749195080.120971}}}
{"text": "2025-06-06T14:31:25.086346+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.049984", "seconds": 6.049984}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431551514304, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:31:25.086346+07:00", "timestamp": 1749195085.086346}}}
{"text": "2025-06-06T14:31:25.101165+0700 INFO Constructed message for Настя: сегодня отличное время, чтобы начать\n", "record": {"elapsed": {"repr": "0:00:06.064803", "seconds": 6.064803}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: сегодня отличное время, чтобы начать", "module": "publisher", "name": "services.publisher", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431551514304, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:31:25.101165+07:00", "timestamp": 1749195085.101165}}}
{"text": "2025-06-06T14:31:26.459501+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:07.423139", "seconds": 7.423139}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431647868736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:26.459501+07:00", "timestamp": 1749195086.459501}}}
{"text": "2025-06-06T14:31:26.459891+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.423529", "seconds": 7.423529}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431647868736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:26.459891+07:00", "timestamp": 1749195086.459891}}}
{"text": "2025-06-06T14:31:29.460302+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.423940", "seconds": 10.42394}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137146, "name": "MainProcess"}, "thread": {"id": 134431647868736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:29.460302+07:00", "timestamp": 1749195089.460302}}}
{"text": "2025-06-06T14:31:49.269432+0700 DEBUG \u001b[34m SQL request INSERT INTO channels VALUES (0, '-1002392744548', 'Алина') result: [].\n", "record": {"elapsed": {"repr": "0:00:01.133307", "seconds": 1.133307}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 24, "message": "\u001b[34m SQL request INSERT INTO channels VALUES (0, '-1002392744548', 'Алина') result: [].", "module": "database", "name": "core.database", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304760444736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:49.269432+07:00", "timestamp": 1749195109.269432}}}
{"text": "2025-06-06T14:31:49.270254+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.134129", "seconds": 1.134129}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304760444736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:49.270254+07:00", "timestamp": 1749195109.270254}}}
{"text": "2025-06-06T14:31:49.272538+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.136413", "seconds": 1.136413}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304760444736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:49.272538+07:00", "timestamp": 1749195109.272538}}}
{"text": "2025-06-06T14:31:49.275577+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.139452", "seconds": 1.139452}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304760444736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:31:49.275577+07:00", "timestamp": 1749195109.275577}}}
{"text": "2025-06-06T14:31:49.304267+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.168142", "seconds": 1.168142}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304671725248, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:31:49.304267+07:00", "timestamp": 1749195109.304267}}}
{"text": "2025-06-06T14:31:54.270960+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.134835", "seconds": 6.134835}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304663332544, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:31:54.270960+07:00", "timestamp": 1749195114.27096}}}
{"text": "2025-06-06T14:31:54.285443+0700 INFO Constructed message for Настя: Иногда нужно просто остановиться и подышать.\n", "record": {"elapsed": {"repr": "0:00:06.149318", "seconds": 6.149318}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Иногда нужно просто остановиться и подышать.", "module": "publisher", "name": "services.publisher", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304663332544, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:31:54.285443+07:00", "timestamp": 1749195114.285443}}}
{"text": "2025-06-06T14:31:59.270632+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.134507", "seconds": 11.134507}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304663332544, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:31:59.270632+07:00", "timestamp": 1749195119.270632}}}
{"text": "2025-06-06T14:31:59.286030+0700 INFO Constructed message for Настя: Твоя сила в твоей искренности.\n", "record": {"elapsed": {"repr": "0:00:11.149905", "seconds": 11.149905}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Твоя сила в твоей искренности.", "module": "publisher", "name": "services.publisher", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304663332544, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:31:59.286030+07:00", "timestamp": 1749195119.28603}}}
{"text": "2025-06-06T14:32:04.271157+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:16.135032", "seconds": 16.135032}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304663332544, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:32:04.271157+07:00", "timestamp": 1749195124.271157}}}
{"text": "2025-06-06T14:32:04.287193+0700 INFO Constructed message for Настя: Ты сильная, даже если не чувствуешь этого.\n", "record": {"elapsed": {"repr": "0:00:16.151068", "seconds": 16.151068}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Ты сильная, даже если не чувствуешь этого.", "module": "publisher", "name": "services.publisher", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304663332544, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:32:04.287193+07:00", "timestamp": 1749195124.287193}}}
{"text": "2025-06-06T14:32:04.511190+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:16.375065", "seconds": 16.375065}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304760444736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:04.511190+07:00", "timestamp": 1749195124.51119}}}
{"text": "2025-06-06T14:32:04.511591+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:16.375466", "seconds": 16.375466}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304760444736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:04.511591+07:00", "timestamp": 1749195124.511591}}}
{"text": "2025-06-06T14:32:07.512339+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:19.376214", "seconds": 19.376214}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137321, "name": "MainProcess"}, "thread": {"id": 134304760444736, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:07.512339+07:00", "timestamp": 1749195127.512339}}}
{"text": "2025-06-06T14:32:11.674196+0700 DEBUG \u001b[32m SQL request INSERT INTO channels VALUES (0, '-1002392744548', 'Алина') has been done!\n", "record": {"elapsed": {"repr": "0:00:01.055344", "seconds": 1.055344}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 27, "message": "\u001b[32m SQL request INSERT INTO channels VALUES (0, '-1002392744548', 'Алина') has been done!", "module": "database", "name": "core.database", "process": {"id": 1137508, "name": "MainProcess"}, "thread": {"id": 130808894359360, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:11.674196+07:00", "timestamp": 1749195131.674196}}}
{"text": "2025-06-06T14:32:11.674949+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.056097", "seconds": 1.056097}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137508, "name": "MainProcess"}, "thread": {"id": 130808894359360, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:11.674949+07:00", "timestamp": 1749195131.674949}}}
{"text": "2025-06-06T14:32:11.677117+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.058265", "seconds": 1.058265}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137508, "name": "MainProcess"}, "thread": {"id": 130808894359360, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:11.677117+07:00", "timestamp": 1749195131.677117}}}
{"text": "2025-06-06T14:32:11.677676+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.058824", "seconds": 1.058824}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137508, "name": "MainProcess"}, "thread": {"id": 130808894359360, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:11.677676+07:00", "timestamp": 1749195131.677676}}}
{"text": "2025-06-06T14:32:11.711362+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.092510", "seconds": 1.09251}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1137508, "name": "MainProcess"}, "thread": {"id": 130808830490304, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:32:11.711362+07:00", "timestamp": 1749195131.711362}}}
{"text": "2025-06-06T14:32:14.010482+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:03.391630", "seconds": 3.39163}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137508, "name": "MainProcess"}, "thread": {"id": 130808894359360, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:14.010482+07:00", "timestamp": 1749195134.010482}}}
{"text": "2025-06-06T14:32:14.010838+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:03.391986", "seconds": 3.391986}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137508, "name": "MainProcess"}, "thread": {"id": 130808894359360, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:14.010838+07:00", "timestamp": 1749195134.010838}}}
{"text": "2025-06-06T14:32:17.011280+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:06.392428", "seconds": 6.392428}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137508, "name": "MainProcess"}, "thread": {"id": 130808894359360, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:32:17.011280+07:00", "timestamp": 1749195137.01128}}}
{"text": "2025-06-06T14:35:46.929718+0700 DEBUG \u001b[32m SQL request 'INSERT INTO channels VALUES (0, '-1002392744548', 'Алина')' has been done!\n", "record": {"elapsed": {"repr": "0:00:01.051094", "seconds": 1.051094}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 28, "message": "\u001b[32m SQL request 'INSERT INTO channels VALUES (0, '-1002392744548', 'Алина')' has been done!", "module": "database", "name": "core.database", "process": {"id": 1137859, "name": "MainProcess"}, "thread": {"id": 127482693556032, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:35:46.929718+07:00", "timestamp": 1749195346.929718}}}
{"text": "2025-06-06T14:35:46.930392+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.051768", "seconds": 1.051768}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137859, "name": "MainProcess"}, "thread": {"id": 127482693556032, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:35:46.930392+07:00", "timestamp": 1749195346.930392}}}
{"text": "2025-06-06T14:35:46.932829+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.054205", "seconds": 1.054205}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137859, "name": "MainProcess"}, "thread": {"id": 127482693556032, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:35:46.932829+07:00", "timestamp": 1749195346.932829}}}
{"text": "2025-06-06T14:35:46.933408+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.054784", "seconds": 1.054784}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137859, "name": "MainProcess"}, "thread": {"id": 127482693556032, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:35:46.933408+07:00", "timestamp": 1749195346.933408}}}
{"text": "2025-06-06T14:35:46.964506+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.085882", "seconds": 1.085882}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1137859, "name": "MainProcess"}, "thread": {"id": 127482604811968, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:35:46.964506+07:00", "timestamp": 1749195346.964506}}}
{"text": "2025-06-06T14:35:48.333390+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:02.454766", "seconds": 2.454766}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137859, "name": "MainProcess"}, "thread": {"id": 127482693556032, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:35:48.333390+07:00", "timestamp": 1749195348.33339}}}
{"text": "2025-06-06T14:35:48.333757+0700 INFO Waiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:02.455133", "seconds": 2.455133}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Waiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137859, "name": "MainProcess"}, "thread": {"id": 127482693556032, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:35:48.333757+07:00", "timestamp": 1749195348.333757}}}
{"text": "2025-06-06T14:35:51.334143+0700 INFO Service 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:05.455519", "seconds": 5.455519}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Service 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1137859, "name": "MainProcess"}, "thread": {"id": 127482693556032, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:35:51.334143+07:00", "timestamp": 1749195351.334143}}}
{"text": "2025-06-06T14:37:12.626436+0700 DEBUG \u001b[32mSQL request 'INSERT INTO channels VALUES (0, '-1002392744548', 'Алина')' has been done!\n", "record": {"elapsed": {"repr": "0:00:01.299598", "seconds": 1.299598}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 28, "message": "\u001b[32mSQL request 'INSERT INTO channels VALUES (0, '-1002392744548', 'Алина')' has been done!", "module": "database", "name": "core.database", "process": {"id": 1138074, "name": "MainProcess"}, "thread": {"id": 129740741089088, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:37:12.626436+07:00", "timestamp": 1749195432.626436}}}
{"text": "2025-06-06T14:37:12.627547+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.300709", "seconds": 1.300709}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138074, "name": "MainProcess"}, "thread": {"id": 129740741089088, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:37:12.627547+07:00", "timestamp": 1749195432.627547}}}
{"text": "2025-06-06T14:37:12.630784+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.303946", "seconds": 1.303946}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138074, "name": "MainProcess"}, "thread": {"id": 129740741089088, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:37:12.630784+07:00", "timestamp": 1749195432.630784}}}
{"text": "2025-06-06T14:37:12.631355+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.304517", "seconds": 1.304517}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138074, "name": "MainProcess"}, "thread": {"id": 129740741089088, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:37:12.631355+07:00", "timestamp": 1749195432.631355}}}
{"text": "2025-06-06T14:37:12.667253+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.340415", "seconds": 1.340415}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1138074, "name": "MainProcess"}, "thread": {"id": 129740651361984, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:37:12.667253+07:00", "timestamp": 1749195432.667253}}}
{"text": "2025-06-06T14:37:13.507732+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:02.180894", "seconds": 2.180894}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138074, "name": "MainProcess"}, "thread": {"id": 129740741089088, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:37:13.507732+07:00", "timestamp": 1749195433.507732}}}
{"text": "2025-06-06T14:37:13.508141+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:02.181303", "seconds": 2.181303}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138074, "name": "MainProcess"}, "thread": {"id": 129740741089088, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:37:13.508141+07:00", "timestamp": 1749195433.508141}}}
{"text": "2025-06-06T14:37:16.508591+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:05.181753", "seconds": 5.181753}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138074, "name": "MainProcess"}, "thread": {"id": 129740741089088, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:37:16.508591+07:00", "timestamp": 1749195436.508591}}}
{"text": "2025-06-06T14:45:33.416895+0700 DEBUG \u001b[32mSQL request 'INSERT INTO channels VALUES (0, '-1002392744548', 'Алина')' has been done!\n", "record": {"elapsed": {"repr": "0:00:01.060172", "seconds": 1.060172}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 27, "message": "\u001b[32mSQL request 'INSERT INTO channels VALUES (0, '-1002392744548', 'Алина')' has been done!", "module": "database", "name": "core.database", "process": {"id": 1138592, "name": "MainProcess"}, "thread": {"id": 135114269517632, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:45:33.416895+07:00", "timestamp": 1749195933.416895}}}
{"text": "2025-06-06T14:45:33.417601+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.060878", "seconds": 1.060878}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138592, "name": "MainProcess"}, "thread": {"id": 135114269517632, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:45:33.417601+07:00", "timestamp": 1749195933.417601}}}
{"text": "2025-06-06T14:45:33.420034+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.063311", "seconds": 1.063311}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138592, "name": "MainProcess"}, "thread": {"id": 135114269517632, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:45:33.420034+07:00", "timestamp": 1749195933.420034}}}
{"text": "2025-06-06T14:45:33.420584+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.063861", "seconds": 1.063861}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138592, "name": "MainProcess"}, "thread": {"id": 135114269517632, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:45:33.420584+07:00", "timestamp": 1749195933.420584}}}
{"text": "2025-06-06T14:45:33.452323+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.095600", "seconds": 1.0956}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1138592, "name": "MainProcess"}, "thread": {"id": 135114179737280, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:45:33.452323+07:00", "timestamp": 1749195933.452323}}}
{"text": "2025-06-06T14:45:36.855548+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:04.498825", "seconds": 4.498825}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138592, "name": "MainProcess"}, "thread": {"id": 135114269517632, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:45:36.855548+07:00", "timestamp": 1749195936.855548}}}
{"text": "2025-06-06T14:45:36.855907+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:04.499184", "seconds": 4.499184}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138592, "name": "MainProcess"}, "thread": {"id": 135114269517632, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:45:36.855907+07:00", "timestamp": 1749195936.855907}}}
{"text": "2025-06-06T14:45:39.856462+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:07.499739", "seconds": 7.499739}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138592, "name": "MainProcess"}, "thread": {"id": 135114269517632, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:45:39.856462+07:00", "timestamp": 1749195939.856462}}}
{"text": "2025-06-06T14:46:20.361540+0700 DEBUG \u001b[32mSQL request 'PRAGMA foreign_keys = ON' has been done!\n", "record": {"elapsed": {"repr": "0:00:01.057641", "seconds": 1.057641}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "\u001b[32mSQL request 'PRAGMA foreign_keys = ON' has been done!", "module": "database", "name": "core.database", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094626547520, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:46:20.361540+07:00", "timestamp": 1749195980.36154}}}
{"text": "2025-06-06T14:46:20.361964+0700 INFO \u001b[32mDatabase connection established\n", "record": {"elapsed": {"repr": "0:00:01.058065", "seconds": 1.058065}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 15, "message": "\u001b[32mDatabase connection established", "module": "database", "name": "core.database", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094626547520, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:46:20.361964+07:00", "timestamp": 1749195980.361964}}}
{"text": "2025-06-06T14:46:20.363907+0700 DEBUG \u001b[32mSQL request 'INSERT INTO channels VALUES (0, '-1002392744548', 'Алина')' has been done!\n", "record": {"elapsed": {"repr": "0:00:01.060008", "seconds": 1.060008}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "\u001b[32mSQL request 'INSERT INTO channels VALUES (0, '-1002392744548', 'Алина')' has been done!", "module": "database", "name": "core.database", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094626547520, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:46:20.363907+07:00", "timestamp": 1749195980.363907}}}
{"text": "2025-06-06T14:46:20.364471+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.060572", "seconds": 1.060572}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094626547520, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:46:20.364471+07:00", "timestamp": 1749195980.364471}}}
{"text": "2025-06-06T14:46:20.367089+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.063190", "seconds": 1.06319}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094626547520, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:46:20.367089+07:00", "timestamp": 1749195980.367089}}}
{"text": "2025-06-06T14:46:20.367637+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.063738", "seconds": 1.063738}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094626547520, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:46:20.367637+07:00", "timestamp": 1749195980.367637}}}
{"text": "2025-06-06T14:46:20.398696+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.094797", "seconds": 1.094797}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094536816320, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:46:20.398696+07:00", "timestamp": 1749195980.398696}}}
{"text": "2025-06-06T14:46:25.365369+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.061470", "seconds": 6.06147}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094528423616, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:46:25.365369+07:00", "timestamp": 1749195985.365369}}}
{"text": "2025-06-06T14:46:25.379284+0700 INFO Constructed message for Настя: Ты достойна любви и уважения.\n", "record": {"elapsed": {"repr": "0:00:06.075385", "seconds": 6.075385}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Ты достойна любви и уважения.", "module": "publisher", "name": "services.publisher", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094528423616, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:46:25.379284+07:00", "timestamp": 1749195985.379284}}}
{"text": "2025-06-06T14:46:27.254993+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:07.951094", "seconds": 7.951094}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094626547520, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:46:27.254993+07:00", "timestamp": 1749195987.254993}}}
{"text": "2025-06-06T14:46:27.255346+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.951447", "seconds": 7.951447}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094626547520, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:46:27.255346+07:00", "timestamp": 1749195987.255346}}}
{"text": "2025-06-06T14:46:30.255748+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.951849", "seconds": 10.951849}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1138734, "name": "MainProcess"}, "thread": {"id": 138094626547520, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:46:30.255748+07:00", "timestamp": 1749195990.255748}}}
{"text": "2025-06-06T14:50:29.481839+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.048175", "seconds": 1.048175}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.481839+07:00", "timestamp": 1749196229.481839}}}
{"text": "2025-06-06T14:50:29.482224+0700 INFO \u001b[32mDatabase connection established\n", "record": {"elapsed": {"repr": "0:00:01.048560", "seconds": 1.04856}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 15, "message": "\u001b[32mDatabase connection established", "module": "database", "name": "core.database", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.482224+07:00", "timestamp": 1749196229.482224}}}
{"text": "2025-06-06T14:50:29.482628+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL,\n            bot_token TEXT NOT NULL,\n            dataset_path TEXT\n        )\n", "record": {"elapsed": {"repr": "0:00:01.048964", "seconds": 1.048964}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL,\n            bot_token TEXT NOT NULL,\n            dataset_path TEXT\n        )", "module": "database", "name": "core.database", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.482628+07:00", "timestamp": 1749196229.482628}}}
{"text": "2025-06-06T14:50:29.484333+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS messages (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            content TEXT NOT NULL,\n            hash TEXT UNIQUE NOT NULL,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE\n        )\n", "record": {"elapsed": {"repr": "0:00:01.050669", "seconds": 1.050669}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS messages (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            content TEXT NOT NULL,\n            hash TEXT UNIQUE NOT NULL,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE\n        )", "module": "database", "name": "core.database", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.484333+07:00", "timestamp": 1749196229.484333}}}
{"text": "2025-06-06T14:50:29.485975+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS message_history (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            message_id INTEGER NOT NULL,\n            used_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE,\n            FOREIGN KEY (message_id) REFERENCES messages(id) ON DELETE CASCADE\n        )\n", "record": {"elapsed": {"repr": "0:00:01.052311", "seconds": 1.052311}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS message_history (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            message_id INTEGER NOT NULL,\n            used_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE,\n            FOREIGN KEY (message_id) REFERENCES messages(id) ON DELETE CASCADE\n        )", "module": "database", "name": "core.database", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.485975+07:00", "timestamp": 1749196229.485975}}}
{"text": "2025-06-06T14:50:29.486124+0700 INFO Database structure created\n", "record": {"elapsed": {"repr": "0:00:01.052460", "seconds": 1.05246}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Database structure created", "module": "database", "name": "core.database", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.486124+07:00", "timestamp": 1749196229.486124}}}
{"text": "2025-06-06T14:50:29.486249+0700 ERROR An error has been caught in function 'insert_channel', process 'MainProcess' (1139131), thread 'MainThread' (129070406784832):\nTraceback (most recent call last):\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/startup.py\", line 57, in <module>\n    service.run_service()\n    │       └ <function SchedulerService.run_service at 0x7563869dee80>\n    └ <services.scheduler.SchedulerService object at 0x756388b98830>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 84, in run_service\n    self.data_base.test_db()\n    │    │         └ <function DataBase.test_db at 0x7563869dec00>\n    │    └ <core.database.DataBase object at 0x7563869c0ec0>\n    └ <services.scheduler.SchedulerService object at 0x756388b98830>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 100, in test_db\n    chan_id = self.insert_channel(\n              │    └ <function DataBase.insert_channel at 0x7563869de520>\n              └ <core.database.DataBase object at 0x7563869c0ec0>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 85, in insert_channel\n    self.SQL_request(query, (tg_id, name, bot_token, dataset_path))\n    │    │           │       │      │     │          └ 'data/aline.json'\n    │    │           │       │      │     └ '123:bot_token'\n    │    │           │       │      └ 'Алина'\n    │    │           │       └ '-1002392744548'\n    │    │           └ '\\n        INSERT INTO channels (tg_id, name, bot_token, dataset_path)\\n        VALUES (?, ?, ?, ?)\\n        '\n    │    └ <function DataBase.SQL_request at 0x7563869de0c0>\n    └ <core.database.DataBase object at 0x7563869c0ec0>\n\nTypeError: DataBase.SQL_request() takes 2 positional arguments but 3 were given\n", "record": {"elapsed": {"repr": "0:00:01.052585", "seconds": 1.052585}, "exception": {"type": "TypeError", "value": "DataBase.SQL_request() takes 2 positional arguments but 3 were given", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "insert_channel", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 85, "message": "An error has been caught in function 'insert_channel', process 'MainProcess' (1139131), thread 'MainThread' (129070406784832):", "module": "database", "name": "core.database", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.486249+07:00", "timestamp": 1749196229.486249}}}
{"text": "2025-06-06T14:50:29.488364+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.054700", "seconds": 1.0547}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.488364+07:00", "timestamp": 1749196229.488364}}}
{"text": "2025-06-06T14:50:29.488540+0700 INFO Channels: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.054876", "seconds": 1.054876}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "test_db", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 109, "message": "Channels: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.488540+07:00", "timestamp": 1749196229.48854}}}
{"text": "2025-06-06T14:50:29.489025+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.055361", "seconds": 1.055361}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.489025+07:00", "timestamp": 1749196229.489025}}}
{"text": "2025-06-06T14:50:29.491477+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.057813", "seconds": 1.057813}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.491477+07:00", "timestamp": 1749196229.491477}}}
{"text": "2025-06-06T14:50:29.491957+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.058293", "seconds": 1.058293}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:29.491957+07:00", "timestamp": 1749196229.491957}}}
{"text": "2025-06-06T14:50:29.525247+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.091583", "seconds": 1.091583}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070318745280, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:50:29.525247+07:00", "timestamp": 1749196229.525247}}}
{"text": "2025-06-06T14:50:34.004164+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:05.570500", "seconds": 5.5705}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:34.004164+07:00", "timestamp": 1749196234.004164}}}
{"text": "2025-06-06T14:50:34.004601+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:05.570937", "seconds": 5.570937}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:34.004601+07:00", "timestamp": 1749196234.004601}}}
{"text": "2025-06-06T14:50:37.005181+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:08.571517", "seconds": 8.571517}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139131, "name": "MainProcess"}, "thread": {"id": 129070406784832, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:50:37.005181+07:00", "timestamp": 1749196237.005181}}}
{"text": "2025-06-06T14:51:10.784889+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.038099", "seconds": 1.038099}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.784889+07:00", "timestamp": 1749196270.784889}}}
{"text": "2025-06-06T14:51:10.785295+0700 INFO \u001b[32mDatabase connection established\n", "record": {"elapsed": {"repr": "0:00:01.038505", "seconds": 1.038505}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 15, "message": "\u001b[32mDatabase connection established", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.785295+07:00", "timestamp": 1749196270.785295}}}
{"text": "2025-06-06T14:51:10.785749+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL,\n            bot_token TEXT NOT NULL,\n            dataset_path TEXT\n        )\n", "record": {"elapsed": {"repr": "0:00:01.038959", "seconds": 1.038959}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL,\n            bot_token TEXT NOT NULL,\n            dataset_path TEXT\n        )", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.785749+07:00", "timestamp": 1749196270.785749}}}
{"text": "2025-06-06T14:51:10.786003+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS messages (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            content TEXT NOT NULL,\n            hash TEXT UNIQUE NOT NULL,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE\n        )\n", "record": {"elapsed": {"repr": "0:00:01.039213", "seconds": 1.039213}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS messages (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            content TEXT NOT NULL,\n            hash TEXT UNIQUE NOT NULL,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE\n        )", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.786003+07:00", "timestamp": 1749196270.786003}}}
{"text": "2025-06-06T14:51:10.786258+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS message_history (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            message_id INTEGER NOT NULL,\n            used_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE,\n            FOREIGN KEY (message_id) REFERENCES messages(id) ON DELETE CASCADE\n        )\n", "record": {"elapsed": {"repr": "0:00:01.039468", "seconds": 1.039468}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS message_history (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            message_id INTEGER NOT NULL,\n            used_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE,\n            FOREIGN KEY (message_id) REFERENCES messages(id) ON DELETE CASCADE\n        )", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.786258+07:00", "timestamp": 1749196270.786258}}}
{"text": "2025-06-06T14:51:10.786480+0700 INFO Database structure created\n", "record": {"elapsed": {"repr": "0:00:01.039690", "seconds": 1.03969}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Database structure created", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.786480+07:00", "timestamp": 1749196270.78648}}}
{"text": "2025-06-06T14:51:10.786661+0700 ERROR Database error: table channels has no column named tg_id\n", "record": {"elapsed": {"repr": "0:00:01.039871", "seconds": 1.039871}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 39, "message": "Database error: table channels has no column named tg_id", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.786661+07:00", "timestamp": 1749196270.786661}}}
{"text": "2025-06-06T14:51:10.786842+0700 ERROR Failed query: \n        INSERT INTO channels (tg_id, name, bot_token, dataset_path)\n        VALUES (?, ?, ?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.040052", "seconds": 1.040052}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 40, "message": "Failed query: \n        INSERT INTO channels (tg_id, name, bot_token, dataset_path)\n        VALUES (?, ?, ?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.786842+07:00", "timestamp": 1749196270.786842}}}
{"text": "2025-06-06T14:51:10.787005+0700 ERROR An error has been caught in function 'insert_channel', process 'MainProcess' (1139295), thread 'MainThread' (129340082321216):\nTraceback (most recent call last):\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/startup.py\", line 57, in <module>\n    service.run_service()\n    │       └ <function SchedulerService.run_service at 0x75a2507dee80>\n    └ <services.scheduler.SchedulerService object at 0x75a252998830>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 84, in run_service\n    self.data_base.test_db()\n    │    │         └ <function DataBase.test_db at 0x75a2507dec00>\n    │    └ <core.database.DataBase object at 0x75a2507c0ec0>\n    └ <services.scheduler.SchedulerService object at 0x75a252998830>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 100, in test_db\n    chan_id = self.insert_channel(\n              │    └ <function DataBase.insert_channel at 0x75a2507de520>\n              └ <core.database.DataBase object at 0x75a2507c0ec0>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 85, in insert_channel\n    self.SQL_request(query, (tg_id, name, bot_token, dataset_path))\n    │    │           │       │      │     │          └ 'data/aline.json'\n    │    │           │       │      │     └ '123:bot_token'\n    │    │           │       │      └ 'Алина'\n    │    │           │       └ '-1002392744548'\n    │    │           └ '\\n        INSERT INTO channels (tg_id, name, bot_token, dataset_path)\\n        VALUES (?, ?, ?, ?)\\n        '\n    │    └ <function DataBase.SQL_request at 0x75a2507de0c0>\n    └ <core.database.DataBase object at 0x75a2507c0ec0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 26, in SQL_request\n    self.cursor.execute(request, params)\n    │    │      │       │        └ ('-1002392744548', 'Алина', '123:bot_token', 'data/aline.json')\n    │    │      │       └ '\\n        INSERT INTO channels (tg_id, name, bot_token, dataset_path)\\n        VALUES (?, ?, ?, ?)\\n        '\n    │    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    │    └ <sqlite3.Cursor object at 0x75a2507f9ec0>\n    └ <core.database.DataBase object at 0x75a2507c0ec0>\n\nsqlite3.OperationalError: table channels has no column named tg_id\n", "record": {"elapsed": {"repr": "0:00:01.040215", "seconds": 1.040215}, "exception": {"type": "OperationalError", "value": "table channels has no column named tg_id", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "insert_channel", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 85, "message": "An error has been caught in function 'insert_channel', process 'MainProcess' (1139295), thread 'MainThread' (129340082321216):", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.787005+07:00", "timestamp": 1749196270.787005}}}
{"text": "2025-06-06T14:51:10.788621+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.041831", "seconds": 1.041831}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.788621+07:00", "timestamp": 1749196270.788621}}}
{"text": "2025-06-06T14:51:10.788807+0700 INFO Channels: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.042017", "seconds": 1.042017}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "test_db", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 109, "message": "Channels: [(0, '-1002392744548', 'Алина'), (1, '-1002392744548', 'Алина'), (0, '', ''), (0, '', ''), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина'), (0, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.788807+07:00", "timestamp": 1749196270.788807}}}
{"text": "2025-06-06T14:51:10.789299+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.042509", "seconds": 1.042509}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.789299+07:00", "timestamp": 1749196270.789299}}}
{"text": "2025-06-06T14:51:10.791720+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.044930", "seconds": 1.04493}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.791720+07:00", "timestamp": 1749196270.79172}}}
{"text": "2025-06-06T14:51:10.792319+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.045529", "seconds": 1.045529}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:10.792319+07:00", "timestamp": 1749196270.792319}}}
{"text": "2025-06-06T14:51:10.827320+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.080530", "seconds": 1.08053}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129339993618112, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 14:51:10.827320+07:00", "timestamp": 1749196270.82732}}}
{"text": "2025-06-06T14:51:15.789974+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.043184", "seconds": 6.043184}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129339985225408, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:51:15.789974+07:00", "timestamp": 1749196275.789974}}}
{"text": "2025-06-06T14:51:15.804586+0700 INFO Constructed message for Настя: Каждое решение приближает тебя к цели.\n", "record": {"elapsed": {"repr": "0:00:06.057796", "seconds": 6.057796}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Каждое решение приближает тебя к цели.", "module": "publisher", "name": "services.publisher", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129339985225408, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 14:51:15.804586+07:00", "timestamp": 1749196275.804586}}}
{"text": "2025-06-06T14:51:16.086767+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:06.339977", "seconds": 6.339977}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:16.086767+07:00", "timestamp": 1749196276.086767}}}
{"text": "2025-06-06T14:51:16.087233+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:06.340443", "seconds": 6.340443}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:16.087233+07:00", "timestamp": 1749196276.087233}}}
{"text": "2025-06-06T14:51:19.088240+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:09.341450", "seconds": 9.34145}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1139295, "name": "MainProcess"}, "thread": {"id": 129340082321216, "name": "MainThread"}, "time": {"repr": "2025-06-06 14:51:19.088240+07:00", "timestamp": 1749196279.08824}}}
{"text": "2025-06-06T15:06:34.164654+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.093192", "seconds": 1.093192}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.164654+07:00", "timestamp": 1749197194.164654}}}
{"text": "2025-06-06T15:06:34.165087+0700 INFO \u001b[32mDatabase connection established\n", "record": {"elapsed": {"repr": "0:00:01.093625", "seconds": 1.093625}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 15, "message": "\u001b[32mDatabase connection established", "module": "database", "name": "core.database", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.165087+07:00", "timestamp": 1749197194.165087}}}
{"text": "2025-06-06T15:06:34.167058+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL,\n            bot_token TEXT NOT NULL,\n            dataset_path TEXT\n        )\n", "record": {"elapsed": {"repr": "0:00:01.095596", "seconds": 1.095596}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL,\n            bot_token TEXT NOT NULL,\n            dataset_path TEXT\n        )", "module": "database", "name": "core.database", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.167058+07:00", "timestamp": 1749197194.167058}}}
{"text": "2025-06-06T15:06:34.168427+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS messages (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            content TEXT NOT NULL,\n            hash TEXT UNIQUE NOT NULL,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE\n        )\n", "record": {"elapsed": {"repr": "0:00:01.096965", "seconds": 1.096965}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS messages (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            content TEXT NOT NULL,\n            hash TEXT UNIQUE NOT NULL,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE\n        )", "module": "database", "name": "core.database", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.168427+07:00", "timestamp": 1749197194.168427}}}
{"text": "2025-06-06T15:06:34.169731+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS message_history (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            message_id INTEGER NOT NULL,\n            used_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE,\n            FOREIGN KEY (message_id) REFERENCES messages(id) ON DELETE CASCADE\n        )\n", "record": {"elapsed": {"repr": "0:00:01.098269", "seconds": 1.098269}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS message_history (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            channel_id INTEGER NOT NULL,\n            message_id INTEGER NOT NULL,\n            used_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE,\n            FOREIGN KEY (message_id) REFERENCES messages(id) ON DELETE CASCADE\n        )", "module": "database", "name": "core.database", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.169731+07:00", "timestamp": 1749197194.169731}}}
{"text": "2025-06-06T15:06:34.169866+0700 INFO Database structure created\n", "record": {"elapsed": {"repr": "0:00:01.098404", "seconds": 1.098404}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 76, "message": "Database structure created", "module": "database", "name": "core.database", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.169866+07:00", "timestamp": 1749197194.169866}}}
{"text": "2025-06-06T15:06:34.171021+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name, bot_token, dataset_path)\n        VALUES (?, ?, ?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.099559", "seconds": 1.099559}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name, bot_token, dataset_path)\n        VALUES (?, ?, ?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.171021+07:00", "timestamp": 1749197194.171021}}}
{"text": "2025-06-06T15:06:34.171203+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина', '123:bot_token', 'data/aline.json')]\n", "record": {"elapsed": {"repr": "0:00:01.099741", "seconds": 1.099741}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина', '123:bot_token', 'data/aline.json')]", "module": "database", "name": "core.database", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.171203+07:00", "timestamp": 1749197194.171203}}}
{"text": "2025-06-06T15:06:34.171322+0700 INFO Channels: [(1, '-1002392744548', 'Алина', '123:bot_token', 'data/aline.json')]\n", "record": {"elapsed": {"repr": "0:00:01.099860", "seconds": 1.09986}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "test_db", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 109, "message": "Channels: [(1, '-1002392744548', 'Алина', '123:bot_token', 'data/aline.json')]", "module": "database", "name": "core.database", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.171322+07:00", "timestamp": 1749197194.171322}}}
{"text": "2025-06-06T15:06:34.171833+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.100371", "seconds": 1.100371}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.171833+07:00", "timestamp": 1749197194.171833}}}
{"text": "2025-06-06T15:06:34.174263+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.102801", "seconds": 1.102801}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.174263+07:00", "timestamp": 1749197194.174263}}}
{"text": "2025-06-06T15:06:34.174750+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.103288", "seconds": 1.103288}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:34.174750+07:00", "timestamp": 1749197194.17475}}}
{"text": "2025-06-06T15:06:34.206141+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.134679", "seconds": 1.134679}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818405091008, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:06:34.206141+07:00", "timestamp": 1749197194.206141}}}
{"text": "2025-06-06T15:06:37.102858+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:04.031396", "seconds": 4.031396}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:37.102858+07:00", "timestamp": 1749197197.102858}}}
{"text": "2025-06-06T15:06:37.103192+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:04.031730", "seconds": 4.03173}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:37.103192+07:00", "timestamp": 1749197197.103192}}}
{"text": "2025-06-06T15:06:40.103916+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:07.032454", "seconds": 7.032454}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140147, "name": "MainProcess"}, "thread": {"id": 133818493794112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:06:40.103916+07:00", "timestamp": 1749197200.103916}}}
{"text": "2025-06-06T15:09:53.318185+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.171112", "seconds": 1.171112}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.318185+07:00", "timestamp": 1749197393.318185}}}
{"text": "2025-06-06T15:09:53.318690+0700 INFO \u001b[32mDatabase connection established\n", "record": {"elapsed": {"repr": "0:00:01.171617", "seconds": 1.171617}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 15, "message": "\u001b[32mDatabase connection established", "module": "database", "name": "core.database", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.318690+07:00", "timestamp": 1749197393.31869}}}
{"text": "2025-06-06T15:09:53.319149+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )\n", "record": {"elapsed": {"repr": "0:00:01.172076", "seconds": 1.172076}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )", "module": "database", "name": "core.database", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.319149+07:00", "timestamp": 1749197393.319149}}}
{"text": "2025-06-06T15:09:53.319359+0700 INFO \u001b[32mDatabase structure created\n", "record": {"elapsed": {"repr": "0:00:01.172286", "seconds": 1.172286}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 52, "message": "\u001b[32mDatabase structure created", "module": "database", "name": "core.database", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.319359+07:00", "timestamp": 1749197393.319359}}}
{"text": "2025-06-06T15:09:53.319519+0700 ERROR An error has been caught in function 'test_db', process 'MainProcess' (1140439), thread 'MainThread' (123752757229376):\nTraceback (most recent call last):\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/startup.py\", line 57, in <module>\n    service.run_service()\n    │       └ <function SchedulerService.run_service at 0x708d69d02de0>\n    └ <services.scheduler.SchedulerService object at 0x708d6c114830>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 84, in run_service\n    self.data_base.test_db()\n    │    │         └ <function DataBase.test_db at 0x708d69d02b60>\n    │    └ <core.database.DataBase object at 0x708d6a1e5010>\n    └ <services.scheduler.SchedulerService object at 0x708d6c114830>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 74, in test_db\n    chan_id = self.insert_channel(\n              │    └ <function DataBase.insert_channel at 0x708d69d02480>\n              └ <core.database.DataBase object at 0x708d6a1e5010>\n\nTypeError: DataBase.insert_channel() missing 1 required positional argument: 'bot_token'\n", "record": {"elapsed": {"repr": "0:00:01.172446", "seconds": 1.172446}, "exception": {"type": "TypeError", "value": "DataBase.insert_channel() missing 1 required positional argument: 'bot_token'", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "test_db", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 74, "message": "An error has been caught in function 'test_db', process 'MainProcess' (1140439), thread 'MainThread' (123752757229376):", "module": "database", "name": "core.database", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.319519+07:00", "timestamp": 1749197393.319519}}}
{"text": "2025-06-06T15:09:53.320775+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина', '123:bot_token', 'data/aline.json')]\n", "record": {"elapsed": {"repr": "0:00:01.173702", "seconds": 1.173702}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина', '123:bot_token', 'data/aline.json')]", "module": "database", "name": "core.database", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.320775+07:00", "timestamp": 1749197393.320775}}}
{"text": "2025-06-06T15:09:53.320916+0700 INFO Channels: [(1, '-1002392744548', 'Алина', '123:bot_token', 'data/aline.json')]\n", "record": {"elapsed": {"repr": "0:00:01.173843", "seconds": 1.173843}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "test_db", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 80, "message": "Channels: [(1, '-1002392744548', 'Алина', '123:bot_token', 'data/aline.json')]", "module": "database", "name": "core.database", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.320916+07:00", "timestamp": 1749197393.320916}}}
{"text": "2025-06-06T15:09:53.321603+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.174530", "seconds": 1.17453}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.321603+07:00", "timestamp": 1749197393.321603}}}
{"text": "2025-06-06T15:09:53.324300+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.177227", "seconds": 1.177227}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.324300+07:00", "timestamp": 1749197393.3243}}}
{"text": "2025-06-06T15:09:53.324833+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.177760", "seconds": 1.17776}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:53.324833+07:00", "timestamp": 1749197393.324833}}}
{"text": "2025-06-06T15:09:53.358251+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.211178", "seconds": 1.211178}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752667936448, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:09:53.358251+07:00", "timestamp": 1749197393.358251}}}
{"text": "2025-06-06T15:09:56.726486+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:04.579413", "seconds": 4.579413}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:56.726486+07:00", "timestamp": 1749197396.726486}}}
{"text": "2025-06-06T15:09:56.726849+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:04.579776", "seconds": 4.579776}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:56.726849+07:00", "timestamp": 1749197396.726849}}}
{"text": "2025-06-06T15:09:59.727327+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:07.580254", "seconds": 7.580254}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140439, "name": "MainProcess"}, "thread": {"id": 123752757229376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:09:59.727327+07:00", "timestamp": 1749197399.727327}}}
{"text": "2025-06-06T15:10:24.532019+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.149741", "seconds": 1.149741}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.532019+07:00", "timestamp": 1749197424.532019}}}
{"text": "2025-06-06T15:10:24.532447+0700 INFO \u001b[32mDatabase connection established\n", "record": {"elapsed": {"repr": "0:00:01.150169", "seconds": 1.150169}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 15, "message": "\u001b[32mDatabase connection established", "module": "database", "name": "core.database", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.532447+07:00", "timestamp": 1749197424.532447}}}
{"text": "2025-06-06T15:10:24.534434+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )\n", "record": {"elapsed": {"repr": "0:00:01.152156", "seconds": 1.152156}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )", "module": "database", "name": "core.database", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.534434+07:00", "timestamp": 1749197424.534434}}}
{"text": "2025-06-06T15:10:24.534587+0700 INFO \u001b[32mDatabase structure created\n", "record": {"elapsed": {"repr": "0:00:01.152309", "seconds": 1.152309}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 52, "message": "\u001b[32mDatabase structure created", "module": "database", "name": "core.database", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.534587+07:00", "timestamp": 1749197424.534587}}}
{"text": "2025-06-06T15:10:24.534715+0700 ERROR An error has been caught in function 'test_db', process 'MainProcess' (1140636), thread 'MainThread' (132709739378496):\nTraceback (most recent call last):\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/startup.py\", line 57, in <module>\n    service.run_service()\n    │       └ <function SchedulerService.run_service at 0x78b2df906de0>\n    └ <services.scheduler.SchedulerService object at 0x78b2e1cd0830>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 84, in run_service\n    self.data_base.test_db()\n    │    │         └ <function DataBase.test_db at 0x78b2df906b60>\n    │    └ <core.database.DataBase object at 0x78b2dfdb1010>\n    └ <services.scheduler.SchedulerService object at 0x78b2e1cd0830>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 74, in test_db\n    chan_id = self.insert_channel(\n              │    └ <function DataBase.insert_channel at 0x78b2df906480>\n              └ <core.database.DataBase object at 0x78b2dfdb1010>\n\nTypeError: DataBase.insert_channel() missing 1 required positional argument: 'bot_token'\n", "record": {"elapsed": {"repr": "0:00:01.152437", "seconds": 1.152437}, "exception": {"type": "TypeError", "value": "DataBase.insert_channel() missing 1 required positional argument: 'bot_token'", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "test_db", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 74, "message": "An error has been caught in function 'test_db', process 'MainProcess' (1140636), thread 'MainThread' (132709739378496):", "module": "database", "name": "core.database", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.534715+07:00", "timestamp": 1749197424.534715}}}
{"text": "2025-06-06T15:10:24.535850+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: []\n", "record": {"elapsed": {"repr": "0:00:01.153572", "seconds": 1.153572}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: []", "module": "database", "name": "core.database", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.535850+07:00", "timestamp": 1749197424.53585}}}
{"text": "2025-06-06T15:10:24.535982+0700 INFO Channels: []\n", "record": {"elapsed": {"repr": "0:00:01.153704", "seconds": 1.153704}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "test_db", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 80, "message": "Channels: []", "module": "database", "name": "core.database", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.535982+07:00", "timestamp": 1749197424.535982}}}
{"text": "2025-06-06T15:10:24.536462+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.154184", "seconds": 1.154184}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.536462+07:00", "timestamp": 1749197424.536462}}}
{"text": "2025-06-06T15:10:24.539037+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.156759", "seconds": 1.156759}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.539037+07:00", "timestamp": 1749197424.539037}}}
{"text": "2025-06-06T15:10:24.539808+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.157530", "seconds": 1.15753}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:24.539808+07:00", "timestamp": 1749197424.539808}}}
{"text": "2025-06-06T15:10:24.583862+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.201584", "seconds": 1.201584}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709650265792, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:10:24.583862+07:00", "timestamp": 1749197424.583862}}}
{"text": "2025-06-06T15:10:27.502021+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:04.119743", "seconds": 4.119743}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:27.502021+07:00", "timestamp": 1749197427.502021}}}
{"text": "2025-06-06T15:10:27.502346+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:04.120068", "seconds": 4.120068}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:27.502346+07:00", "timestamp": 1749197427.502346}}}
{"text": "2025-06-06T15:10:30.502831+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:07.120553", "seconds": 7.120553}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140636, "name": "MainProcess"}, "thread": {"id": 132709739378496, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:10:30.502831+07:00", "timestamp": 1749197430.502831}}}
{"text": "2025-06-06T15:11:05.627928+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.046624", "seconds": 1.046624}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.627928+07:00", "timestamp": 1749197465.627928}}}
{"text": "2025-06-06T15:11:05.628282+0700 INFO \u001b[32mDatabase connection established\n", "record": {"elapsed": {"repr": "0:00:01.046978", "seconds": 1.046978}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 15, "message": "\u001b[32mDatabase connection established", "module": "database", "name": "core.database", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.628282+07:00", "timestamp": 1749197465.628282}}}
{"text": "2025-06-06T15:11:05.630501+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )\n", "record": {"elapsed": {"repr": "0:00:01.049197", "seconds": 1.049197}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )", "module": "database", "name": "core.database", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.630501+07:00", "timestamp": 1749197465.630501}}}
{"text": "2025-06-06T15:11:05.630655+0700 INFO \u001b[32mDatabase structure created\n", "record": {"elapsed": {"repr": "0:00:01.049351", "seconds": 1.049351}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 52, "message": "\u001b[32mDatabase structure created", "module": "database", "name": "core.database", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.630655+07:00", "timestamp": 1749197465.630655}}}
{"text": "2025-06-06T15:11:05.631772+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.050468", "seconds": 1.050468}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.631772+07:00", "timestamp": 1749197465.631772}}}
{"text": "2025-06-06T15:11:05.631965+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.050661", "seconds": 1.050661}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.631965+07:00", "timestamp": 1749197465.631965}}}
{"text": "2025-06-06T15:11:05.632093+0700 INFO Channels: [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:01.050789", "seconds": 1.050789}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "test_db", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 80, "message": "Channels: [(1, '-1002392744548', 'Алина')]", "module": "database", "name": "core.database", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.632093+07:00", "timestamp": 1749197465.632093}}}
{"text": "2025-06-06T15:11:05.632568+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.051264", "seconds": 1.051264}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.632568+07:00", "timestamp": 1749197465.632568}}}
{"text": "2025-06-06T15:11:05.635037+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.053733", "seconds": 1.053733}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.635037+07:00", "timestamp": 1749197465.635037}}}
{"text": "2025-06-06T15:11:05.635538+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.054234", "seconds": 1.054234}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:05.635538+07:00", "timestamp": 1749197465.635538}}}
{"text": "2025-06-06T15:11:05.666437+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.085133", "seconds": 1.085133}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749646100160, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:11:05.666437+07:00", "timestamp": 1749197465.666437}}}
{"text": "2025-06-06T15:11:10.633165+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.051861", "seconds": 6.051861}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749637707456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:11:10.633165+07:00", "timestamp": 1749197470.633165}}}
{"text": "2025-06-06T15:11:10.649424+0700 INFO Constructed message for Настя: сегодня прекрасное время для новых идей\n", "record": {"elapsed": {"repr": "0:00:06.068120", "seconds": 6.06812}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: сегодня прекрасное время для новых идей", "module": "publisher", "name": "services.publisher", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749637707456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:11:10.649424+07:00", "timestamp": 1749197470.649424}}}
{"text": "2025-06-06T15:11:15.633207+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.051903", "seconds": 11.051903}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749637707456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:11:15.633207+07:00", "timestamp": 1749197475.633207}}}
{"text": "2025-06-06T15:11:15.648015+0700 INFO Constructed message for Настя: Ты способна на большее, чем думаешь.\n", "record": {"elapsed": {"repr": "0:00:11.066711", "seconds": 11.066711}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Ты способна на большее, чем думаешь.", "module": "publisher", "name": "services.publisher", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749637707456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:11:15.648015+07:00", "timestamp": 1749197475.648015}}}
{"text": "2025-06-06T15:11:16.925306+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:12.344002", "seconds": 12.344002}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:16.925306+07:00", "timestamp": 1749197476.925306}}}
{"text": "2025-06-06T15:11:16.925722+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:12.344418", "seconds": 12.344418}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:16.925722+07:00", "timestamp": 1749197476.925722}}}
{"text": "2025-06-06T15:11:19.926149+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:15.344845", "seconds": 15.344845}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1140824, "name": "MainProcess"}, "thread": {"id": 132749734242112, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:11:19.926149+07:00", "timestamp": 1749197479.926149}}}
{"text": "2025-06-06T15:14:46.782788+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.138758", "seconds": 1.138758}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.782788+07:00", "timestamp": 1749197686.782788}}}
{"text": "2025-06-06T15:14:46.783152+0700 INFO \u001b[32mDatabase connection established\n", "record": {"elapsed": {"repr": "0:00:01.139122", "seconds": 1.139122}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 15, "message": "\u001b[32mDatabase connection established", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.783152+07:00", "timestamp": 1749197686.783152}}}
{"text": "2025-06-06T15:14:46.783579+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )\n", "record": {"elapsed": {"repr": "0:00:01.139549", "seconds": 1.139549}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.783579+07:00", "timestamp": 1749197686.783579}}}
{"text": "2025-06-06T15:14:46.783755+0700 INFO \u001b[32mDatabase structure created\n", "record": {"elapsed": {"repr": "0:00:01.139725", "seconds": 1.139725}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 52, "message": "\u001b[32mDatabase structure created", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.783755+07:00", "timestamp": 1749197686.783755}}}
{"text": "2025-06-06T15:14:46.785077+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.141047", "seconds": 1.141047}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.785077+07:00", "timestamp": 1749197686.785077}}}
{"text": "2025-06-06T15:14:46.786189+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.142159", "seconds": 1.142159}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.786189+07:00", "timestamp": 1749197686.786189}}}
{"text": "2025-06-06T15:14:46.787233+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.143203", "seconds": 1.143203}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.787233+07:00", "timestamp": 1749197686.787233}}}
{"text": "2025-06-06T15:14:46.788262+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.144232", "seconds": 1.144232}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.788262+07:00", "timestamp": 1749197686.788262}}}
{"text": "2025-06-06T15:14:46.789459+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.145429", "seconds": 1.145429}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.789459+07:00", "timestamp": 1749197686.789459}}}
{"text": "2025-06-06T15:14:46.790606+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.146576", "seconds": 1.146576}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.790606+07:00", "timestamp": 1749197686.790606}}}
{"text": "2025-06-06T15:14:46.791750+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.147720", "seconds": 1.14772}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.791750+07:00", "timestamp": 1749197686.79175}}}
{"text": "2025-06-06T15:14:46.792805+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.148775", "seconds": 1.148775}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.792805+07:00", "timestamp": 1749197686.792805}}}
{"text": "2025-06-06T15:14:46.793886+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.149856", "seconds": 1.149856}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.793886+07:00", "timestamp": 1749197686.793886}}}
{"text": "2025-06-06T15:14:46.796460+0700 DEBUG \u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        \n", "record": {"elapsed": {"repr": "0:00:01.152430", "seconds": 1.15243}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[32mSQL executed: \n        INSERT INTO channels (tg_id, name)\n        VALUES (?, ?)\n        ", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.796460+07:00", "timestamp": 1749197686.79646}}}
{"text": "2025-06-06T15:14:46.797424+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:01.153394", "seconds": 1.153394}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.797424+07:00", "timestamp": 1749197686.797424}}}
{"text": "2025-06-06T15:14:46.798027+0700 INFO Channels: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:01.153997", "seconds": 1.153997}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "test_db", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 130, "message": "Channels: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.798027+07:00", "timestamp": 1749197686.798027}}}
{"text": "2025-06-06T15:14:46.798857+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.154827", "seconds": 1.154827}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.798857+07:00", "timestamp": 1749197686.798857}}}
{"text": "2025-06-06T15:14:46.801551+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.157521", "seconds": 1.157521}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.801551+07:00", "timestamp": 1749197686.801551}}}
{"text": "2025-06-06T15:14:46.802200+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.158170", "seconds": 1.15817}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:46.802200+07:00", "timestamp": 1749197686.8022}}}
{"text": "2025-06-06T15:14:46.834295+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.190265", "seconds": 1.190265}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161687131840, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:14:46.834295+07:00", "timestamp": 1749197686.834295}}}
{"text": "2025-06-06T15:14:49.274058+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:03.630028", "seconds": 3.630028}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:49.274058+07:00", "timestamp": 1749197689.274058}}}
{"text": "2025-06-06T15:14:49.274379+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:03.630349", "seconds": 3.630349}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:49.274379+07:00", "timestamp": 1749197689.274379}}}
{"text": "2025-06-06T15:14:52.274888+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:06.630858", "seconds": 6.630858}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141202, "name": "MainProcess"}, "thread": {"id": 130161775875904, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:14:52.274888+07:00", "timestamp": 1749197692.274888}}}
{"text": "2025-06-06T15:17:18.802165+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.074609", "seconds": 1.074609}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:18.802165+07:00", "timestamp": 1749197838.802165}}}
{"text": "2025-06-06T15:17:18.802912+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )\n", "record": {"elapsed": {"repr": "0:00:01.075356", "seconds": 1.075356}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )", "module": "database", "name": "core.database", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:18.802912+07:00", "timestamp": 1749197838.802912}}}
{"text": "2025-06-06T15:17:18.803123+0700 INFO \u001b[32mDatabase structure created\n", "record": {"elapsed": {"repr": "0:00:01.075567", "seconds": 1.075567}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "\u001b[32mDatabase structure created", "module": "database", "name": "core.database", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:18.803123+07:00", "timestamp": 1749197838.803123}}}
{"text": "2025-06-06T15:17:18.803340+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:01.075784", "seconds": 1.075784}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 31, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:18.803340+07:00", "timestamp": 1749197838.80334}}}
{"text": "2025-06-06T15:17:18.804261+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.076705", "seconds": 1.076705}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:18.804261+07:00", "timestamp": 1749197838.804261}}}
{"text": "2025-06-06T15:17:18.806846+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.079290", "seconds": 1.07929}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:18.806846+07:00", "timestamp": 1749197838.806846}}}
{"text": "2025-06-06T15:17:18.807431+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.079875", "seconds": 1.079875}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:18.807431+07:00", "timestamp": 1749197838.807431}}}
{"text": "2025-06-06T15:17:18.838003+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.110447", "seconds": 1.110447}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154773763776, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:17:18.838003+07:00", "timestamp": 1749197838.838003}}}
{"text": "2025-06-06T15:17:23.805103+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.077547", "seconds": 6.077547}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154765371072, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:17:23.805103+07:00", "timestamp": 1749197843.805103}}}
{"text": "2025-06-06T15:17:23.819543+0700 INFO Constructed message for Настя: Твоя энергия меняет всё вокруг.\n", "record": {"elapsed": {"repr": "0:00:06.091987", "seconds": 6.091987}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Настя: Твоя энергия меняет всё вокруг.", "module": "publisher", "name": "services.publisher", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154765371072, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:17:23.819543+07:00", "timestamp": 1749197843.819543}}}
{"text": "2025-06-06T15:17:26.248933+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:08.521377", "seconds": 8.521377}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:26.248933+07:00", "timestamp": 1749197846.248933}}}
{"text": "2025-06-06T15:17:26.249301+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:08.521745", "seconds": 8.521745}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:26.249301+07:00", "timestamp": 1749197846.249301}}}
{"text": "2025-06-06T15:17:29.249626+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:11.522070", "seconds": 11.52207}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141444, "name": "MainProcess"}, "thread": {"id": 124154863290176, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:17:29.249626+07:00", "timestamp": 1749197849.249626}}}
{"text": "2025-06-06T15:25:09.233573+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.051763", "seconds": 1.051763}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:09.233573+07:00", "timestamp": 1749198309.233573}}}
{"text": "2025-06-06T15:25:09.251691+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.069881", "seconds": 1.069881}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:09.251691+07:00", "timestamp": 1749198309.251691}}}
{"text": "2025-06-06T15:25:09.252464+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )\n", "record": {"elapsed": {"repr": "0:00:01.070654", "seconds": 1.070654}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:09.252464+07:00", "timestamp": 1749198309.252464}}}
{"text": "2025-06-06T15:25:09.252690+0700 INFO \u001b[32mDatabase structure created\n", "record": {"elapsed": {"repr": "0:00:01.070880", "seconds": 1.07088}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "\u001b[32mDatabase structure created", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:09.252690+07:00", "timestamp": 1749198309.25269}}}
{"text": "2025-06-06T15:25:09.252896+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:01.071086", "seconds": 1.071086}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 31, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:09.252896+07:00", "timestamp": 1749198309.252896}}}
{"text": "2025-06-06T15:25:09.253463+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.071653", "seconds": 1.071653}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:09.253463+07:00", "timestamp": 1749198309.253463}}}
{"text": "2025-06-06T15:25:09.255960+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.074150", "seconds": 1.07415}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:09.255960+07:00", "timestamp": 1749198309.25596}}}
{"text": "2025-06-06T15:25:09.256585+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.074775", "seconds": 1.074775}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:09.256585+07:00", "timestamp": 1749198309.256585}}}
{"text": "2025-06-06T15:25:09.291897+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.110087", "seconds": 1.110087}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698956117696, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:25:09.291897+07:00", "timestamp": 1749198309.291897}}}
{"text": "2025-06-06T15:25:14.253996+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.072186", "seconds": 6.072186}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:14.253996+07:00", "timestamp": 1749198314.253996}}}
{"text": "2025-06-06T15:25:14.254317+0700 ERROR Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.\n", "record": {"elapsed": {"repr": "0:00:06.072507", "seconds": 6.072507}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:14.254317+07:00", "timestamp": 1749198314.254317}}}
{"text": "2025-06-06T15:25:14.254479+0700 ERROR Failed query: SELECT * FROM channels\n", "record": {"elapsed": {"repr": "0:00:06.072669", "seconds": 6.072669}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 39, "message": "Failed query: SELECT * FROM channels", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:14.254479+07:00", "timestamp": 1749198314.254479}}}
{"text": "2025-06-06T15:25:14.254600+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1141993), thread 'ThreadPoolExecutor-0_0' (128698947724992):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x750d12166ca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x750d12166a20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n    │    │        │    └ (<weakref at 0x750d0f96f100; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x750d0fde2510>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n    │    └ <function _worker at 0x750d0f968220>\n    └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x750d0f968360>\n    └ <concurrent.futures.thread._WorkItem object at 0x750d0f9882f0>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x750d0f9882f0>\n             │    │   │    └ (<Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x750d0f9882f0>\n             │    └ <function run_job at 0x750d11ac2160>\n             └ <concurrent.futures.thread._WorkItem object at 0x750d0f9882f0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 41, in scheduled_publish\n    result = self.database.select_value()\n             │    │        └ <function DataBase.select_value at 0x750d0f906660>\n             │    └ <core.database.DataBase object at 0x750d0fde0ad0>\n             └ <services.publisher.MessagePublisher object at 0x750d11af9a90>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 66, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x750d0f905e40>\n             └ <core.database.DataBase object at 0x750d0fde0ad0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 25, in SQL_request\n    self.cursor.execute(request, params)\n    │    │      │       │        └ ()\n    │    │      │       └ 'SELECT * FROM channels'\n    │    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    │    └ <sqlite3.Cursor object at 0x750d0fddae40>\n    └ <core.database.DataBase object at 0x750d0fde0ad0>\n\nsqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.\n", "record": {"elapsed": {"repr": "0:00:06.072790", "seconds": 6.07279}, "exception": {"type": "ProgrammingError", "value": "SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 66, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1141993), thread 'ThreadPoolExecutor-0_0' (128698947724992):", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:14.254600+07:00", "timestamp": 1749198314.2546}}}
{"text": "2025-06-06T15:25:19.254224+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.072414", "seconds": 11.072414}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:19.254224+07:00", "timestamp": 1749198319.254224}}}
{"text": "2025-06-06T15:25:19.254542+0700 ERROR Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.\n", "record": {"elapsed": {"repr": "0:00:11.072732", "seconds": 11.072732}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:19.254542+07:00", "timestamp": 1749198319.254542}}}
{"text": "2025-06-06T15:25:19.254691+0700 ERROR Failed query: SELECT * FROM channels\n", "record": {"elapsed": {"repr": "0:00:11.072881", "seconds": 11.072881}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 39, "message": "Failed query: SELECT * FROM channels", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:19.254691+07:00", "timestamp": 1749198319.254691}}}
{"text": "2025-06-06T15:25:19.254847+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1141993), thread 'ThreadPoolExecutor-0_0' (128698947724992):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x750d12166ca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x750d12166a20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n    │    │        │    └ (<weakref at 0x750d0f96f100; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x750d0fde2510>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n    │    └ <function _worker at 0x750d0f968220>\n    └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x750d0f968360>\n    └ <concurrent.futures.thread._WorkItem object at 0x750d0f94d950>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x750d0f94d950>\n             │    │   │    └ (<Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x750d0f94d950>\n             │    └ <function run_job at 0x750d11ac2160>\n             └ <concurrent.futures.thread._WorkItem object at 0x750d0f94d950>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 41, in scheduled_publish\n    result = self.database.select_value()\n             │    │        └ <function DataBase.select_value at 0x750d0f906660>\n             │    └ <core.database.DataBase object at 0x750d0fde0ad0>\n             └ <services.publisher.MessagePublisher object at 0x750d11af9a90>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 66, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x750d0f905e40>\n             └ <core.database.DataBase object at 0x750d0fde0ad0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 25, in SQL_request\n    self.cursor.execute(request, params)\n    │    │      │       │        └ ()\n    │    │      │       └ 'SELECT * FROM channels'\n    │    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    │    └ <sqlite3.Cursor object at 0x750d0fddae40>\n    └ <core.database.DataBase object at 0x750d0fde0ad0>\n\nsqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.\n", "record": {"elapsed": {"repr": "0:00:11.073037", "seconds": 11.073037}, "exception": {"type": "ProgrammingError", "value": "SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 66, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1141993), thread 'ThreadPoolExecutor-0_0' (128698947724992):", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:19.254847+07:00", "timestamp": 1749198319.254847}}}
{"text": "2025-06-06T15:25:24.253979+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:16.072169", "seconds": 16.072169}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:24.253979+07:00", "timestamp": 1749198324.253979}}}
{"text": "2025-06-06T15:25:24.254406+0700 ERROR Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.\n", "record": {"elapsed": {"repr": "0:00:16.072596", "seconds": 16.072596}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:24.254406+07:00", "timestamp": 1749198324.254406}}}
{"text": "2025-06-06T15:25:24.254581+0700 ERROR Failed query: SELECT * FROM channels\n", "record": {"elapsed": {"repr": "0:00:16.072771", "seconds": 16.072771}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 39, "message": "Failed query: SELECT * FROM channels", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:24.254581+07:00", "timestamp": 1749198324.254581}}}
{"text": "2025-06-06T15:25:24.254703+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1141993), thread 'ThreadPoolExecutor-0_0' (128698947724992):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x750d12166ca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x750d12166a20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n    │    │        │    └ (<weakref at 0x750d0f96f100; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x750d0fde2510>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n    │    └ <function _worker at 0x750d0f968220>\n    └ <Thread(ThreadPoolExecutor-0_0, started 128698947724992)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x750d0f968360>\n    └ <concurrent.futures.thread._WorkItem object at 0x750d0f94dd10>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x750d0f94dd10>\n             │    │   │    └ (<Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x750d0f94dd10>\n             │    └ <function run_job at 0x750d11ac2160>\n             └ <concurrent.futures.thread._WorkItem object at 0x750d0f94dd10>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=b8f09532b3a844f5b126d73593927b30 name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 41, in scheduled_publish\n    result = self.database.select_value()\n             │    │        └ <function DataBase.select_value at 0x750d0f906660>\n             │    └ <core.database.DataBase object at 0x750d0fde0ad0>\n             └ <services.publisher.MessagePublisher object at 0x750d11af9a90>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 66, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x750d0f905e40>\n             └ <core.database.DataBase object at 0x750d0fde0ad0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 25, in SQL_request\n    self.cursor.execute(request, params)\n    │    │      │       │        └ ()\n    │    │      │       └ 'SELECT * FROM channels'\n    │    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    │    └ <sqlite3.Cursor object at 0x750d0fddae40>\n    └ <core.database.DataBase object at 0x750d0fde0ad0>\n\nsqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.\n", "record": {"elapsed": {"repr": "0:00:16.072893", "seconds": 16.072893}, "exception": {"type": "ProgrammingError", "value": "SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 128699045357376 and this is thread id 128698947724992.", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 66, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1141993), thread 'ThreadPoolExecutor-0_0' (128698947724992):", "module": "database", "name": "core.database", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128698947724992, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:25:24.254703+07:00", "timestamp": 1749198324.254703}}}
{"text": "2025-06-06T15:25:26.871956+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:18.690146", "seconds": 18.690146}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:26.871956+07:00", "timestamp": 1749198326.871956}}}
{"text": "2025-06-06T15:25:26.872368+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:18.690558", "seconds": 18.690558}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:26.872368+07:00", "timestamp": 1749198326.872368}}}
{"text": "2025-06-06T15:25:29.872591+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:21.690781", "seconds": 21.690781}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1141993, "name": "MainProcess"}, "thread": {"id": 128699045357376, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:25:29.872591+07:00", "timestamp": 1749198329.872591}}}
{"text": "2025-06-06T15:28:05.134715+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.132143", "seconds": 1.132143}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:05.134715+07:00", "timestamp": 1749198485.134715}}}
{"text": "2025-06-06T15:28:05.154311+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.151739", "seconds": 1.151739}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:05.154311+07:00", "timestamp": 1749198485.154311}}}
{"text": "2025-06-06T15:28:05.154975+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )\n", "record": {"elapsed": {"repr": "0:00:01.152403", "seconds": 1.152403}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )", "module": "database", "name": "core.database", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:05.154975+07:00", "timestamp": 1749198485.154975}}}
{"text": "2025-06-06T15:28:05.155144+0700 INFO \u001b[32mDatabase structure created\n", "record": {"elapsed": {"repr": "0:00:01.152572", "seconds": 1.152572}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "\u001b[32mDatabase structure created", "module": "database", "name": "core.database", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:05.155144+07:00", "timestamp": 1749198485.155144}}}
{"text": "2025-06-06T15:28:05.155319+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:01.152747", "seconds": 1.152747}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 31, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:05.155319+07:00", "timestamp": 1749198485.155319}}}
{"text": "2025-06-06T15:28:05.155928+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.153356", "seconds": 1.153356}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:05.155928+07:00", "timestamp": 1749198485.155928}}}
{"text": "2025-06-06T15:28:05.158635+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.156063", "seconds": 1.156063}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:05.158635+07:00", "timestamp": 1749198485.158635}}}
{"text": "2025-06-06T15:28:05.159238+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.156666", "seconds": 1.156666}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:05.159238+07:00", "timestamp": 1749198485.159238}}}
{"text": "2025-06-06T15:28:05.192062+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.189490", "seconds": 1.18949}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487508113088, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:28:05.192062+07:00", "timestamp": 1749198485.192062}}}
{"text": "2025-06-06T15:28:10.156837+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.154265", "seconds": 6.154265}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487499720384, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:28:10.156837+07:00", "timestamp": 1749198490.156837}}}
{"text": "2025-06-06T15:28:10.157319+0700 ERROR Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 136487597008704 and this is thread id 136487499720384.\n", "record": {"elapsed": {"repr": "0:00:06.154747", "seconds": 6.154747}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 136487597008704 and this is thread id 136487499720384.", "module": "database", "name": "core.database", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487499720384, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:28:10.157319+07:00", "timestamp": 1749198490.157319}}}
{"text": "2025-06-06T15:28:10.157526+0700 ERROR Failed query: SELECT * FROM channels\n", "record": {"elapsed": {"repr": "0:00:06.154954", "seconds": 6.154954}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 39, "message": "Failed query: SELECT * FROM channels", "module": "database", "name": "core.database", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487499720384, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:28:10.157526+07:00", "timestamp": 1749198490.157526}}}
{"text": "2025-06-06T15:28:10.157643+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1142354), thread 'ThreadPoolExecutor-0_0' (136487499720384):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7c227bf26ca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 136487499720384)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7c227bf26a20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 136487499720384)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 136487499720384)>\n    │    │        │    └ (<weakref at 0x7c227977f1f0; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x7c2279bb70e0>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 136487499720384)>\n    │    └ <function _worker at 0x7c2279776200>\n    └ <Thread(ThreadPoolExecutor-0_0, started 136487499720384)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x7c2279776340>\n    └ <concurrent.futures.thread._WorkItem object at 0x7c22797942f0>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7c22797942f0>\n             │    │   │    └ (<Job (id=4375ebf3cc5448848fce4ef125c365fa name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7c22797942f0>\n             │    └ <function run_job at 0x7c227b88e160>\n             └ <concurrent.futures.thread._WorkItem object at 0x7c22797942f0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=4375ebf3cc5448848fce4ef125c365fa name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=4375ebf3cc5448848fce4ef125c365fa name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=4375ebf3cc5448848fce4ef125c365fa name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 44, in scheduled_publish\n    result = self.database.select_value()\n             │    │        └ <function DataBase.select_value at 0x7c2279712660>\n             │    └ <core.database.DataBase object at 0x7c2279bb4ad0>\n             └ <services.publisher.MessagePublisher object at 0x7c2279bb4980>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 66, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x7c2279711e40>\n             └ <core.database.DataBase object at 0x7c2279bb4ad0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 25, in SQL_request\n    self.cursor.execute(request, params)\n    │    │      │       │        └ ()\n    │    │      │       └ 'SELECT * FROM channels'\n    │    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    │    └ <sqlite3.Cursor object at 0x7c2279bae540>\n    └ <core.database.DataBase object at 0x7c2279bb4ad0>\n\nsqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 136487597008704 and this is thread id 136487499720384.\n", "record": {"elapsed": {"repr": "0:00:06.155071", "seconds": 6.155071}, "exception": {"type": "ProgrammingError", "value": "SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 136487597008704 and this is thread id 136487499720384.", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 66, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1142354), thread 'ThreadPoolExecutor-0_0' (136487499720384):", "module": "database", "name": "core.database", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487499720384, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:28:10.157643+07:00", "timestamp": 1749198490.157643}}}
{"text": "2025-06-06T15:28:10.159513+0700 ERROR error with publishing for every name: 'NoneType' object is not iterable\n", "record": {"elapsed": {"repr": "0:00:06.156941", "seconds": 6.156941}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "error with publishing for every name: 'NoneType' object is not iterable", "module": "publisher", "name": "services.publisher", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487499720384, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:28:10.159513+07:00", "timestamp": 1749198490.159513}}}
{"text": "2025-06-06T15:28:13.545842+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:09.543270", "seconds": 9.54327}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:13.545842+07:00", "timestamp": 1749198493.545842}}}
{"text": "2025-06-06T15:28:13.546221+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:09.543649", "seconds": 9.543649}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:13.546221+07:00", "timestamp": 1749198493.546221}}}
{"text": "2025-06-06T15:28:16.546968+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:12.544396", "seconds": 12.544396}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142354, "name": "MainProcess"}, "thread": {"id": 136487597008704, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:28:16.546968+07:00", "timestamp": 1749198496.546968}}}
{"text": "2025-06-06T15:34:26.982717+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.030062", "seconds": 1.030062}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:26.982717+07:00", "timestamp": 1749198866.982717}}}
{"text": "2025-06-06T15:34:27.000662+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.048007", "seconds": 1.048007}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:27.000662+07:00", "timestamp": 1749198867.000662}}}
{"text": "2025-06-06T15:34:27.001281+0700 DEBUG \u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )\n", "record": {"elapsed": {"repr": "0:00:01.048626", "seconds": 1.048626}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: \n        CREATE TABLE IF NOT EXISTS channels (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            tg_id TEXT UNIQUE NOT NULL,\n            name TEXT NOT NULL\n        )", "module": "database", "name": "core.database", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:27.001281+07:00", "timestamp": 1749198867.001281}}}
{"text": "2025-06-06T15:34:27.001516+0700 INFO \u001b[32mDatabase structure created\n", "record": {"elapsed": {"repr": "0:00:01.048861", "seconds": 1.048861}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "create_base_structure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "\u001b[32mDatabase structure created", "module": "database", "name": "core.database", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:27.001516+07:00", "timestamp": 1749198867.001516}}}
{"text": "2025-06-06T15:34:27.001728+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:01.049073", "seconds": 1.049073}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 31, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:27.001728+07:00", "timestamp": 1749198867.001728}}}
{"text": "2025-06-06T15:34:27.002278+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.049623", "seconds": 1.049623}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:27.002278+07:00", "timestamp": 1749198867.002278}}}
{"text": "2025-06-06T15:34:27.004877+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.052222", "seconds": 1.052222}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:27.004877+07:00", "timestamp": 1749198867.004877}}}
{"text": "2025-06-06T15:34:27.005436+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.052781", "seconds": 1.052781}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 98, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:27.005436+07:00", "timestamp": 1749198867.005436}}}
{"text": "2025-06-06T15:34:27.036453+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.083798", "seconds": 1.083798}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380294362816, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:34:27.036453+07:00", "timestamp": 1749198867.036453}}}
{"text": "2025-06-06T15:34:28.845273+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:02.892618", "seconds": 2.892618}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 64, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:28.845273+07:00", "timestamp": 1749198868.845273}}}
{"text": "2025-06-06T15:34:28.845600+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:02.892945", "seconds": 2.892945}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:28.845600+07:00", "timestamp": 1749198868.8456}}}
{"text": "2025-06-06T15:34:31.845990+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:05.893335", "seconds": 5.893335}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 104, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1142852, "name": "MainProcess"}, "thread": {"id": 136380382349120, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:34:31.845990+07:00", "timestamp": 1749198871.84599}}}
{"text": "2025-06-06T15:36:04.455203+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.040488", "seconds": 1.040488}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014599034688, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:04.455203+07:00", "timestamp": 1749198964.455203}}}
{"text": "2025-06-06T15:36:04.473742+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.059027", "seconds": 1.059027}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014599034688, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:04.473742+07:00", "timestamp": 1749198964.473742}}}
{"text": "2025-06-06T15:36:04.474506+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.059791", "seconds": 1.059791}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014599034688, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:04.474506+07:00", "timestamp": 1749198964.474506}}}
{"text": "2025-06-06T15:36:04.477169+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.062454", "seconds": 1.062454}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014599034688, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:04.477169+07:00", "timestamp": 1749198964.477169}}}
{"text": "2025-06-06T15:36:04.477749+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.063034", "seconds": 1.063034}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 98, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014599034688, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:04.477749+07:00", "timestamp": 1749198964.477749}}}
{"text": "2025-06-06T15:36:04.509969+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.095254", "seconds": 1.095254}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014535165632, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:36:04.509969+07:00", "timestamp": 1749198964.509969}}}
{"text": "2025-06-06T15:36:09.475352+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.060637", "seconds": 6.060637}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014526772928, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:36:09.475352+07:00", "timestamp": 1749198969.475352}}}
{"text": "2025-06-06T15:36:09.475780+0700 ERROR Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 127014599034688 and this is thread id 127014526772928.\n", "record": {"elapsed": {"repr": "0:00:06.061065", "seconds": 6.061065}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 127014599034688 and this is thread id 127014526772928.", "module": "database", "name": "core.database", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014526772928, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:36:09.475780+07:00", "timestamp": 1749198969.47578}}}
{"text": "2025-06-06T15:36:09.475996+0700 ERROR Failed query: SELECT * FROM channels\n", "record": {"elapsed": {"repr": "0:00:06.061281", "seconds": 6.061281}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 39, "message": "Failed query: SELECT * FROM channels", "module": "database", "name": "core.database", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014526772928, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:36:09.475996+07:00", "timestamp": 1749198969.475996}}}
{"text": "2025-06-06T15:36:09.476187+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1143046), thread 'ThreadPoolExecutor-0_0' (127014526772928):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7384e2caeca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 127014526772928)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7384e2caea20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 127014526772928)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 127014526772928)>\n    │    │        │    └ (<weakref at 0x7384e07af150; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x7384e091f0e0>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 127014526772928)>\n    │    └ <function _worker at 0x7384e07aa160>\n    └ <Thread(ThreadPoolExecutor-0_0, started 127014526772928)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x7384e07aa2a0>\n    └ <concurrent.futures.thread._WorkItem object at 0x7384e07c42f0>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7384e07c42f0>\n             │    │   │    └ (<Job (id=fb97d8d75b0f421a940e8172b7826c82 name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7384e07c42f0>\n             │    └ <function run_job at 0x7384e260a160>\n             └ <concurrent.futures.thread._WorkItem object at 0x7384e07c42f0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=fb97d8d75b0f421a940e8172b7826c82 name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=fb97d8d75b0f421a940e8172b7826c82 name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=fb97d8d75b0f421a940e8172b7826c82 name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 44, in scheduled_publish\n    result = self.database.select_value()\n             │    │        └ <function DataBase.select_value at 0x7384e09425c0>\n             │    └ <core.database.DataBase object at 0x7384e091cad0>\n             └ <services.publisher.MessagePublisher object at 0x7384e2641a90>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 66, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x7384e0941da0>\n             └ <core.database.DataBase object at 0x7384e091cad0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 25, in SQL_request\n    self.cursor.execute(request, params)\n    │    │      │       │        └ ()\n    │    │      │       └ 'SELECT * FROM channels'\n    │    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    │    └ <sqlite3.Cursor object at 0x7384e09179c0>\n    └ <core.database.DataBase object at 0x7384e091cad0>\n\nsqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 127014599034688 and this is thread id 127014526772928.\n", "record": {"elapsed": {"repr": "0:00:06.061472", "seconds": 6.061472}, "exception": {"type": "ProgrammingError", "value": "SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 127014599034688 and this is thread id 127014526772928.", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 66, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1143046), thread 'ThreadPoolExecutor-0_0' (127014526772928):", "module": "database", "name": "core.database", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014526772928, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:36:09.476187+07:00", "timestamp": 1749198969.476187}}}
{"text": "2025-06-06T15:36:09.478222+0700 ERROR error with publishing for every name: 'NoneType' object is not iterable\n", "record": {"elapsed": {"repr": "0:00:06.063507", "seconds": 6.063507}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "error with publishing for every name: 'NoneType' object is not iterable", "module": "publisher", "name": "services.publisher", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014526772928, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:36:09.478222+07:00", "timestamp": 1749198969.478222}}}
{"text": "2025-06-06T15:36:12.019583+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:08.604868", "seconds": 8.604868}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 64, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014599034688, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:12.019583+07:00", "timestamp": 1749198972.019583}}}
{"text": "2025-06-06T15:36:12.019940+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:08.605225", "seconds": 8.605225}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014599034688, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:12.019940+07:00", "timestamp": 1749198972.01994}}}
{"text": "2025-06-06T15:36:15.020540+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:11.605825", "seconds": 11.605825}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 104, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143046, "name": "MainProcess"}, "thread": {"id": 127014599034688, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:15.020540+07:00", "timestamp": 1749198975.02054}}}
{"text": "2025-06-06T15:36:28.689775+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.027397", "seconds": 1.027397}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1143239, "name": "MainProcess"}, "thread": {"id": 139936097756992, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:28.689775+07:00", "timestamp": 1749198988.689775}}}
{"text": "2025-06-06T15:36:28.707569+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.045191", "seconds": 1.045191}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1143239, "name": "MainProcess"}, "thread": {"id": 139936097756992, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:28.707569+07:00", "timestamp": 1749198988.707569}}}
{"text": "2025-06-06T15:36:28.708441+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.046063", "seconds": 1.046063}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143239, "name": "MainProcess"}, "thread": {"id": 139936097756992, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:28.708441+07:00", "timestamp": 1749198988.708441}}}
{"text": "2025-06-06T15:36:28.710944+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.048566", "seconds": 1.048566}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143239, "name": "MainProcess"}, "thread": {"id": 139936097756992, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:28.710944+07:00", "timestamp": 1749198988.710944}}}
{"text": "2025-06-06T15:36:28.711784+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.049406", "seconds": 1.049406}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 98, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143239, "name": "MainProcess"}, "thread": {"id": 139936097756992, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:28.711784+07:00", "timestamp": 1749198988.711784}}}
{"text": "2025-06-06T15:36:28.744266+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.081888", "seconds": 1.081888}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1143239, "name": "MainProcess"}, "thread": {"id": 139936009287360, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:36:28.744266+07:00", "timestamp": 1749198988.744266}}}
{"text": "2025-06-06T15:36:32.201574+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:04.539196", "seconds": 4.539196}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 64, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143239, "name": "MainProcess"}, "thread": {"id": 139936097756992, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:32.201574+07:00", "timestamp": 1749198992.201574}}}
{"text": "2025-06-06T15:36:32.201980+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:04.539602", "seconds": 4.539602}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143239, "name": "MainProcess"}, "thread": {"id": 139936097756992, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:32.201980+07:00", "timestamp": 1749198992.20198}}}
{"text": "2025-06-06T15:36:35.202430+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:07.540052", "seconds": 7.540052}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 104, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143239, "name": "MainProcess"}, "thread": {"id": 139936097756992, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:36:35.202430+07:00", "timestamp": 1749198995.20243}}}
{"text": "2025-06-06T15:39:02.047354+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.065283", "seconds": 1.065283}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045346928448, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:39:02.047354+07:00", "timestamp": 1749199142.047354}}}
{"text": "2025-06-06T15:39:02.066258+0700 DEBUG \u001b[32mSQL executed: PRAGMA foreign_keys = ON\n", "record": {"elapsed": {"repr": "0:00:01.084187", "seconds": 1.084187}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "\u001b[32mSQL executed: PRAGMA foreign_keys = ON", "module": "database", "name": "core.database", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045346928448, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:39:02.066258+07:00", "timestamp": 1749199142.066258}}}
{"text": "2025-06-06T15:39:02.067092+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.085021", "seconds": 1.085021}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045346928448, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:39:02.067092+07:00", "timestamp": 1749199142.067092}}}
{"text": "2025-06-06T15:39:02.069765+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.087694", "seconds": 1.087694}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045346928448, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:39:02.069765+07:00", "timestamp": 1749199142.069765}}}
{"text": "2025-06-06T15:39:02.070439+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.088368", "seconds": 1.088368}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045346928448, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:39:02.070439+07:00", "timestamp": 1749199142.070439}}}
{"text": "2025-06-06T15:39:02.102870+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.120799", "seconds": 1.120799}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045257606848, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:39:02.102870+07:00", "timestamp": 1749199142.10287}}}
{"text": "2025-06-06T15:39:07.067930+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.085859", "seconds": 6.085859}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045249214144, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:39:07.067930+07:00", "timestamp": 1749199147.06793}}}
{"text": "2025-06-06T15:39:07.068295+0700 ERROR Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139045346928448 and this is thread id 139045249214144.\n", "record": {"elapsed": {"repr": "0:00:06.086224", "seconds": 6.086224}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139045346928448 and this is thread id 139045249214144.", "module": "database", "name": "core.database", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045249214144, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:39:07.068295+07:00", "timestamp": 1749199147.068295}}}
{"text": "2025-06-06T15:39:07.068522+0700 ERROR Failed query: SELECT * FROM channels\n", "record": {"elapsed": {"repr": "0:00:06.086451", "seconds": 6.086451}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 39, "message": "Failed query: SELECT * FROM channels", "module": "database", "name": "core.database", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045249214144, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:39:07.068522+07:00", "timestamp": 1749199147.068522}}}
{"text": "2025-06-06T15:39:07.068682+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1143513), thread 'ThreadPoolExecutor-0_0' (139045249214144):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7e7601b82ca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 139045249214144)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7e7601b82a20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 139045249214144)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 139045249214144)>\n    │    │        │    └ (<weakref at 0x7e75ff36b1a0; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x7e75ff7de510>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 139045249214144)>\n    │    └ <function _worker at 0x7e75ff3640e0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 139045249214144)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x7e75ff364220>\n    └ <concurrent.futures.thread._WorkItem object at 0x7e75ff3882f0>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7e75ff3882f0>\n             │    │   │    └ (<Job (id=34c514b790004167b72e924278065bda name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7e75ff3882f0>\n             │    └ <function run_job at 0x7e76014e6160>\n             └ <concurrent.futures.thread._WorkItem object at 0x7e75ff3882f0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=34c514b790004167b72e924278065bda name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=34c514b790004167b72e924278065bda name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=34c514b790004167b72e924278065bda name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 44, in scheduled_publish\n    result = self.data_base.select_value()\n             │    │         └ <function DataBase.select_value at 0x7e75ff3025c0>\n             │    └ <core.database.DataBase object at 0x7e75ff7dcad0>\n             └ <services.publisher.MessagePublisher object at 0x7e75ff7dc980>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 66, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x7e75ff301da0>\n             └ <core.database.DataBase object at 0x7e75ff7dcad0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 25, in SQL_request\n    self.cursor.execute(request, params)\n    │    │      │       │        └ ()\n    │    │      │       └ 'SELECT * FROM channels'\n    │    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    │    └ <sqlite3.Cursor object at 0x7e75ff7c6540>\n    └ <core.database.DataBase object at 0x7e75ff7dcad0>\n\nsqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139045346928448 and this is thread id 139045249214144.\n", "record": {"elapsed": {"repr": "0:00:06.086611", "seconds": 6.086611}, "exception": {"type": "ProgrammingError", "value": "SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139045346928448 and this is thread id 139045249214144.", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 66, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1143513), thread 'ThreadPoolExecutor-0_0' (139045249214144):", "module": "database", "name": "core.database", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045249214144, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:39:07.068682+07:00", "timestamp": 1749199147.068682}}}
{"text": "2025-06-06T15:39:07.070719+0700 ERROR error with publishing for every name: 'NoneType' object is not iterable\n", "record": {"elapsed": {"repr": "0:00:06.088648", "seconds": 6.088648}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "error with publishing for every name: 'NoneType' object is not iterable", "module": "publisher", "name": "services.publisher", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045249214144, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:39:07.070719+07:00", "timestamp": 1749199147.070719}}}
{"text": "2025-06-06T15:39:09.995019+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:09.012948", "seconds": 9.012948}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045346928448, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:39:09.995019+07:00", "timestamp": 1749199149.995019}}}
{"text": "2025-06-06T15:39:09.995295+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:09.013224", "seconds": 9.013224}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045346928448, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:39:09.995295+07:00", "timestamp": 1749199149.995295}}}
{"text": "2025-06-06T15:39:12.995530+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:12.013459", "seconds": 12.013459}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1143513, "name": "MainProcess"}, "thread": {"id": 139045346928448, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:39:12.995530+07:00", "timestamp": 1749199152.99553}}}
{"text": "2025-06-06T15:45:23.555369+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.056217", "seconds": 1.056217}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125726040880960, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:45:23.555369+07:00", "timestamp": 1749199523.555369}}}
{"text": "2025-06-06T15:45:23.557825+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.058673", "seconds": 1.058673}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125726040880960, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:45:23.557825+07:00", "timestamp": 1749199523.557825}}}
{"text": "2025-06-06T15:45:23.558305+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.059153", "seconds": 1.059153}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125726040880960, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:45:23.558305+07:00", "timestamp": 1749199523.558305}}}
{"text": "2025-06-06T15:45:23.590563+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.091411", "seconds": 1.091411}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125725952702144, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:45:23.590563+07:00", "timestamp": 1749199523.590563}}}
{"text": "2025-06-06T15:45:28.555875+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.056723", "seconds": 6.056723}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125725944309440, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:45:28.555875+07:00", "timestamp": 1749199528.555875}}}
{"text": "2025-06-06T15:45:28.556812+0700 ERROR Database error: Cannot operate on a closed database.\n", "record": {"elapsed": {"repr": "0:00:06.057660", "seconds": 6.05766}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 42, "message": "Database error: Cannot operate on a closed database.", "module": "database", "name": "core.database", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125725944309440, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:45:28.556812+07:00", "timestamp": 1749199528.556812}}}
{"text": "2025-06-06T15:45:28.557016+0700 ERROR Failed query: SELECT * FROM channels\n", "record": {"elapsed": {"repr": "0:00:06.057864", "seconds": 6.057864}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 43, "message": "Failed query: SELECT * FROM channels", "module": "database", "name": "core.database", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125725944309440, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:45:28.557016+07:00", "timestamp": 1749199528.557016}}}
{"text": "2025-06-06T15:45:28.557157+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1144186), thread 'ThreadPoolExecutor-0_0' (125725944309440):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7258dd3aeca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 125725944309440)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7258dd3aea20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 125725944309440)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 125725944309440)>\n    │    │        │    └ (<weakref at 0x7258daf28cc0; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x7258db08ae40>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 125725944309440)>\n    │    └ <function _worker at 0x7258daf0c400>\n    └ <Thread(ThreadPoolExecutor-0_0, started 125725944309440)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x7258daf0c540>\n    └ <concurrent.futures.thread._WorkItem object at 0x7258daf302f0>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x7258daf302f0>\n             │    │   │    └ (<Job (id=817e89590c7e463290c5a292ccc72fb0 name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x7258daf302f0>\n             │    └ <function run_job at 0x7258dcd62160>\n             └ <concurrent.futures.thread._WorkItem object at 0x7258daf302f0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=817e89590c7e463290c5a292ccc72fb0 name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=817e89590c7e463290c5a292ccc72fb0 name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=817e89590c7e463290c5a292ccc72fb0 name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 44, in scheduled_publish\n    result = self.data_base.select_value()\n             │    │         └ <function DataBase.select_value at 0x7258dcc1cf40>\n             │    └ <core.database.DataBase object at 0x7258db088ad0>\n             └ <services.publisher.MessagePublisher object at 0x7258dcd99be0>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 70, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x7258dcc1c720>\n             └ <core.database.DataBase object at 0x7258db088ad0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 34, in SQL_request\n    result = self.cursor.fetchall()\n             │    │      └ <method 'fetchall' of 'sqlite3.Cursor' objects>\n             │    └ <sqlite3.Cursor object at 0x7258daf249c0>\n             └ <core.database.DataBase object at 0x7258db088ad0>\n\nsqlite3.ProgrammingError: Cannot operate on a closed database.\n", "record": {"elapsed": {"repr": "0:00:06.058005", "seconds": 6.058005}, "exception": {"type": "ProgrammingError", "value": "Cannot operate on a closed database.", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 70, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1144186), thread 'ThreadPoolExecutor-0_0' (125725944309440):", "module": "database", "name": "core.database", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125725944309440, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:45:28.557157+07:00", "timestamp": 1749199528.557157}}}
{"text": "2025-06-06T15:45:28.560007+0700 ERROR error with publishing for every name: 'NoneType' object is not iterable\n", "record": {"elapsed": {"repr": "0:00:06.060855", "seconds": 6.060855}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "error with publishing for every name: 'NoneType' object is not iterable", "module": "publisher", "name": "services.publisher", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125725944309440, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:45:28.560007+07:00", "timestamp": 1749199528.560007}}}
{"text": "2025-06-06T15:45:30.592151+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:08.092999", "seconds": 8.092999}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125726040880960, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:45:30.592151+07:00", "timestamp": 1749199530.592151}}}
{"text": "2025-06-06T15:45:30.592637+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:08.093485", "seconds": 8.093485}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125726040880960, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:45:30.592637+07:00", "timestamp": 1749199530.592637}}}
{"text": "2025-06-06T15:45:33.593038+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:11.093886", "seconds": 11.093886}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144186, "name": "MainProcess"}, "thread": {"id": 125726040880960, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:45:33.593038+07:00", "timestamp": 1749199533.593038}}}
{"text": "2025-06-06T15:46:28.632220+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.176170", "seconds": 1.17617}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400481195840, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:46:28.632220+07:00", "timestamp": 1749199588.63222}}}
{"text": "2025-06-06T15:46:28.634474+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.178424", "seconds": 1.178424}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400481195840, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:46:28.634474+07:00", "timestamp": 1749199588.634474}}}
{"text": "2025-06-06T15:46:28.635097+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.179047", "seconds": 1.179047}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400481195840, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:46:28.635097+07:00", "timestamp": 1749199588.635097}}}
{"text": "2025-06-06T15:46:28.669368+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.213318", "seconds": 1.213318}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400391648960, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:46:28.669368+07:00", "timestamp": 1749199588.669368}}}
{"text": "2025-06-06T15:46:33.633278+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.177228", "seconds": 6.177228}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.633278+07:00", "timestamp": 1749199593.633278}}}
{"text": "2025-06-06T15:46:33.635421+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:06.179371", "seconds": 6.179371}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.635421+07:00", "timestamp": 1749199593.635421}}}
{"text": "2025-06-06T15:46:33.635835+0700 DEBUG (1, '-1002392744548', 'Алина')\n", "record": {"elapsed": {"repr": "0:00:06.179785", "seconds": 6.179785}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(1, '-1002392744548', 'Алина')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.635835+07:00", "timestamp": 1749199593.635835}}}
{"text": "2025-06-06T15:46:33.635997+0700 DEBUG (2, '-1002454106093', 'Вика')\n", "record": {"elapsed": {"repr": "0:00:06.179947", "seconds": 6.179947}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(2, '-1002454106093', 'Вика')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.635997+07:00", "timestamp": 1749199593.635997}}}
{"text": "2025-06-06T15:46:33.636144+0700 DEBUG (3, '-1002258674996', 'Настя')\n", "record": {"elapsed": {"repr": "0:00:06.180094", "seconds": 6.180094}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(3, '-1002258674996', 'Настя')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.636144+07:00", "timestamp": 1749199593.636144}}}
{"text": "2025-06-06T15:46:33.636284+0700 DEBUG (4, '-1002468795584', 'Лера')\n", "record": {"elapsed": {"repr": "0:00:06.180234", "seconds": 6.180234}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(4, '-1002468795584', 'Лера')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.636284+07:00", "timestamp": 1749199593.636284}}}
{"text": "2025-06-06T15:46:33.636412+0700 DEBUG (5, '-1002344839925', 'Ксюша')\n", "record": {"elapsed": {"repr": "0:00:06.180362", "seconds": 6.180362}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(5, '-1002344839925', 'Ксюша')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.636412+07:00", "timestamp": 1749199593.636412}}}
{"text": "2025-06-06T15:46:33.636543+0700 DEBUG (6, '-1002454378134', 'Лиза')\n", "record": {"elapsed": {"repr": "0:00:06.180493", "seconds": 6.180493}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(6, '-1002454378134', 'Лиза')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.636543+07:00", "timestamp": 1749199593.636543}}}
{"text": "2025-06-06T15:46:33.636688+0700 DEBUG (7, '-1002470954597', 'Маша')\n", "record": {"elapsed": {"repr": "0:00:06.180638", "seconds": 6.180638}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(7, '-1002470954597', 'Маша')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.636688+07:00", "timestamp": 1749199593.636688}}}
{"text": "2025-06-06T15:46:33.636800+0700 DEBUG (8, '-1002434800529', 'Полина')\n", "record": {"elapsed": {"repr": "0:00:06.180750", "seconds": 6.18075}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(8, '-1002434800529', 'Полина')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.636800+07:00", "timestamp": 1749199593.6368}}}
{"text": "2025-06-06T15:46:33.636921+0700 DEBUG (9, '-1002458228603', 'Аня')\n", "record": {"elapsed": {"repr": "0:00:06.180871", "seconds": 6.180871}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(9, '-1002458228603', 'Аня')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.636921+07:00", "timestamp": 1749199593.636921}}}
{"text": "2025-06-06T15:46:33.637065+0700 DEBUG (10, '-1002351719046', 'Даша')\n", "record": {"elapsed": {"repr": "0:00:06.181015", "seconds": 6.181015}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(10, '-1002351719046', 'Даша')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.637065+07:00", "timestamp": 1749199593.637065}}}
{"text": "2025-06-06T15:46:33.637220+0700 DEBUG (11, '-1002418708714', 'Катя')\n", "record": {"elapsed": {"repr": "0:00:06.181170", "seconds": 6.18117}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(11, '-1002418708714', 'Катя')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:33.637220+07:00", "timestamp": 1749199593.63722}}}
{"text": "2025-06-06T15:46:38.633013+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.176963", "seconds": 11.176963}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.633013+07:00", "timestamp": 1749199598.633013}}}
{"text": "2025-06-06T15:46:38.633794+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:11.177744", "seconds": 11.177744}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.633794+07:00", "timestamp": 1749199598.633794}}}
{"text": "2025-06-06T15:46:38.633962+0700 DEBUG (1, '-1002392744548', 'Алина')\n", "record": {"elapsed": {"repr": "0:00:11.177912", "seconds": 11.177912}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(1, '-1002392744548', 'Алина')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.633962+07:00", "timestamp": 1749199598.633962}}}
{"text": "2025-06-06T15:46:38.634081+0700 DEBUG (2, '-1002454106093', 'Вика')\n", "record": {"elapsed": {"repr": "0:00:11.178031", "seconds": 11.178031}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(2, '-1002454106093', 'Вика')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.634081+07:00", "timestamp": 1749199598.634081}}}
{"text": "2025-06-06T15:46:38.634192+0700 DEBUG (3, '-1002258674996', 'Настя')\n", "record": {"elapsed": {"repr": "0:00:11.178142", "seconds": 11.178142}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(3, '-1002258674996', 'Настя')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.634192+07:00", "timestamp": 1749199598.634192}}}
{"text": "2025-06-06T15:46:38.634271+0700 DEBUG (4, '-1002468795584', 'Лера')\n", "record": {"elapsed": {"repr": "0:00:11.178221", "seconds": 11.178221}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(4, '-1002468795584', 'Лера')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.634271+07:00", "timestamp": 1749199598.634271}}}
{"text": "2025-06-06T15:46:38.634372+0700 DEBUG (5, '-1002344839925', 'Ксюша')\n", "record": {"elapsed": {"repr": "0:00:11.178322", "seconds": 11.178322}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(5, '-1002344839925', 'Ксюша')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.634372+07:00", "timestamp": 1749199598.634372}}}
{"text": "2025-06-06T15:46:38.634487+0700 DEBUG (6, '-1002454378134', 'Лиза')\n", "record": {"elapsed": {"repr": "0:00:11.178437", "seconds": 11.178437}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(6, '-1002454378134', 'Лиза')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.634487+07:00", "timestamp": 1749199598.634487}}}
{"text": "2025-06-06T15:46:38.634643+0700 DEBUG (7, '-1002470954597', 'Маша')\n", "record": {"elapsed": {"repr": "0:00:11.178593", "seconds": 11.178593}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(7, '-1002470954597', 'Маша')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.634643+07:00", "timestamp": 1749199598.634643}}}
{"text": "2025-06-06T15:46:38.634764+0700 DEBUG (8, '-1002434800529', 'Полина')\n", "record": {"elapsed": {"repr": "0:00:11.178714", "seconds": 11.178714}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(8, '-1002434800529', 'Полина')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.634764+07:00", "timestamp": 1749199598.634764}}}
{"text": "2025-06-06T15:46:38.634865+0700 DEBUG (9, '-1002458228603', 'Аня')\n", "record": {"elapsed": {"repr": "0:00:11.178815", "seconds": 11.178815}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(9, '-1002458228603', 'Аня')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.634865+07:00", "timestamp": 1749199598.634865}}}
{"text": "2025-06-06T15:46:38.634965+0700 DEBUG (10, '-1002351719046', 'Даша')\n", "record": {"elapsed": {"repr": "0:00:11.178915", "seconds": 11.178915}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(10, '-1002351719046', 'Даша')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.634965+07:00", "timestamp": 1749199598.634965}}}
{"text": "2025-06-06T15:46:38.635068+0700 DEBUG (11, '-1002418708714', 'Катя')\n", "record": {"elapsed": {"repr": "0:00:11.179018", "seconds": 11.179018}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "(11, '-1002418708714', 'Катя')", "module": "publisher", "name": "services.publisher", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400383256256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:46:38.635068+07:00", "timestamp": 1749199598.635068}}}
{"text": "2025-06-06T15:46:40.591543+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:13.135493", "seconds": 13.135493}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400481195840, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:46:40.591543+07:00", "timestamp": 1749199600.591543}}}
{"text": "2025-06-06T15:46:40.591908+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:13.135858", "seconds": 13.135858}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400481195840, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:46:40.591908+07:00", "timestamp": 1749199600.591908}}}
{"text": "2025-06-06T15:46:43.592632+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:16.136582", "seconds": 16.136582}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144395, "name": "MainProcess"}, "thread": {"id": 132400481195840, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:46:43.592632+07:00", "timestamp": 1749199603.592632}}}
{"text": "2025-06-06T15:47:46.361627+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.053406", "seconds": 1.053406}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349969418048, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:47:46.361627+07:00", "timestamp": 1749199666.361627}}}
{"text": "2025-06-06T15:47:46.363773+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.055552", "seconds": 1.055552}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349969418048, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:47:46.363773+07:00", "timestamp": 1749199666.363773}}}
{"text": "2025-06-06T15:47:46.364274+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.056053", "seconds": 1.056053}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349969418048, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:47:46.364274+07:00", "timestamp": 1749199666.364274}}}
{"text": "2025-06-06T15:47:46.395475+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.087254", "seconds": 1.087254}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349879977664, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:47:46.395475+07:00", "timestamp": 1749199666.395475}}}
{"text": "2025-06-06T15:47:51.362520+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.054299", "seconds": 6.054299}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.362520+07:00", "timestamp": 1749199671.36252}}}
{"text": "2025-06-06T15:47:51.363422+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:06.055201", "seconds": 6.055201}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 36, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.363422+07:00", "timestamp": 1749199671.363422}}}
{"text": "2025-06-06T15:47:51.377128+0700 INFO Constructed message for Алина: что сегодня может вдохновить тебя на мечту?\n", "record": {"elapsed": {"repr": "0:00:06.068907", "seconds": 6.068907}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Алина: что сегодня может вдохновить тебя на мечту?", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.377128+07:00", "timestamp": 1749199671.377128}}}
{"text": "2025-06-06T15:47:51.390753+0700 INFO Constructed message for Вика: Не забывай, что ты уникальна, как звезда.\n", "record": {"elapsed": {"repr": "0:00:06.082532", "seconds": 6.082532}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Вика: Не забывай, что ты уникальна, как звезда.", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.390753+07:00", "timestamp": 1749199671.390753}}}
{"text": "2025-06-06T15:47:51.404561+0700 INFO Constructed message for Настя: Твой котик явно любит тебя больше, чем всех остальных.\n", "record": {"elapsed": {"repr": "0:00:06.096340", "seconds": 6.09634}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Настя: Твой котик явно любит тебя больше, чем всех остальных.", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.404561+07:00", "timestamp": 1749199671.404561}}}
{"text": "2025-06-06T15:47:51.418459+0700 INFO Constructed message for Лера: сегодня ты сильнее, чем была вчера\n", "record": {"elapsed": {"repr": "0:00:06.110238", "seconds": 6.110238}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Лера: сегодня ты сильнее, чем была вчера", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.418459+07:00", "timestamp": 1749199671.418459}}}
{"text": "2025-06-06T15:47:51.434267+0700 INFO Constructed message for Ксюша: Мир открыт для твоих возможностей.\n", "record": {"elapsed": {"repr": "0:00:06.126046", "seconds": 6.126046}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Ксюша: Мир открыт для твоих возможностей.", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.434267+07:00", "timestamp": 1749199671.434267}}}
{"text": "2025-06-06T15:47:51.448219+0700 INFO Constructed message for Лиза: Твоя жизнь — это твоё произведение искусства.\n", "record": {"elapsed": {"repr": "0:00:06.139998", "seconds": 6.139998}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Лиза: Твоя жизнь — это твоё произведение искусства.", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.448219+07:00", "timestamp": 1749199671.448219}}}
{"text": "2025-06-06T15:47:51.462134+0700 INFO Constructed message for Маша: сегодня время новых побед\n", "record": {"elapsed": {"repr": "0:00:06.153913", "seconds": 6.153913}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Маша: сегодня время новых побед", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.462134+07:00", "timestamp": 1749199671.462134}}}
{"text": "2025-06-06T15:47:51.475940+0700 INFO Constructed message for Полина: Полина, ты как огонь, согреваешь всех вокруг.\n", "record": {"elapsed": {"repr": "0:00:06.167719", "seconds": 6.167719}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Полина: Полина, ты как огонь, согреваешь всех вокруг.", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.475940+07:00", "timestamp": 1749199671.47594}}}
{"text": "2025-06-06T15:47:51.490283+0700 INFO Constructed message for Аня: Аня, ты как маяк, освещаешь путь другим.\n", "record": {"elapsed": {"repr": "0:00:06.182062", "seconds": 6.182062}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Аня: Аня, ты как маяк, освещаешь путь другим.", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.490283+07:00", "timestamp": 1749199671.490283}}}
{"text": "2025-06-06T15:47:51.505413+0700 INFO Constructed message for Даша: что сегодня станет твоим успехом?\n", "record": {"elapsed": {"repr": "0:00:06.197192", "seconds": 6.197192}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Даша: что сегодня станет твоим успехом?", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.505413+07:00", "timestamp": 1749199671.505413}}}
{"text": "2025-06-06T15:47:51.522674+0700 INFO Constructed message for Катя: Каждый день — новая возможность.\n", "record": {"elapsed": {"repr": "0:00:06.214453", "seconds": 6.214453}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 29, "message": "Constructed message for Катя: Каждый день — новая возможность.", "module": "publisher", "name": "services.publisher", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349871584960, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:47:51.522674+07:00", "timestamp": 1749199671.522674}}}
{"text": "2025-06-06T15:47:52.592335+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:07.284114", "seconds": 7.284114}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349969418048, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:47:52.592335+07:00", "timestamp": 1749199672.592335}}}
{"text": "2025-06-06T15:47:52.592697+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.284476", "seconds": 7.284476}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349969418048, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:47:52.592697+07:00", "timestamp": 1749199672.592697}}}
{"text": "2025-06-06T15:47:55.593359+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.285138", "seconds": 10.285138}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1144634, "name": "MainProcess"}, "thread": {"id": 131349969418048, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:47:55.593359+07:00", "timestamp": 1749199675.593359}}}
{"text": "2025-06-06T15:53:43.846302+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.031364", "seconds": 1.031364}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145099, "name": "MainProcess"}, "thread": {"id": 132016591210304, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:53:43.846302+07:00", "timestamp": 1749200023.846302}}}
{"text": "2025-06-06T15:53:43.848701+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.033763", "seconds": 1.033763}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145099, "name": "MainProcess"}, "thread": {"id": 132016591210304, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:53:43.848701+07:00", "timestamp": 1749200023.848701}}}
{"text": "2025-06-06T15:53:43.849259+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.034321", "seconds": 1.034321}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145099, "name": "MainProcess"}, "thread": {"id": 132016591210304, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:53:43.849259+07:00", "timestamp": 1749200023.849259}}}
{"text": "2025-06-06T15:53:43.881181+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.066243", "seconds": 1.066243}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1145099, "name": "MainProcess"}, "thread": {"id": 132016501683904, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:53:43.881181+07:00", "timestamp": 1749200023.881181}}}
{"text": "2025-06-06T15:53:48.847004+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.032066", "seconds": 6.032066}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 48, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1145099, "name": "MainProcess"}, "thread": {"id": 132016423040704, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:53:48.847004+07:00", "timestamp": 1749200028.847004}}}
{"text": "2025-06-06T15:53:50.191207+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:07.376269", "seconds": 7.376269}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145099, "name": "MainProcess"}, "thread": {"id": 132016591210304, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:53:50.191207+07:00", "timestamp": 1749200030.191207}}}
{"text": "2025-06-06T15:53:50.191697+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.376759", "seconds": 7.376759}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145099, "name": "MainProcess"}, "thread": {"id": 132016591210304, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:53:50.191697+07:00", "timestamp": 1749200030.191697}}}
{"text": "2025-06-06T15:53:53.192433+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.377495", "seconds": 10.377495}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145099, "name": "MainProcess"}, "thread": {"id": 132016591210304, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:53:53.192433+07:00", "timestamp": 1749200033.192433}}}
{"text": "2025-06-06T15:54:37.468085+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.035372", "seconds": 1.035372}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145295, "name": "MainProcess"}, "thread": {"id": 128918635697984, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:54:37.468085+07:00", "timestamp": 1749200077.468085}}}
{"text": "2025-06-06T15:54:37.470282+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.037569", "seconds": 1.037569}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145295, "name": "MainProcess"}, "thread": {"id": 128918635697984, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:54:37.470282+07:00", "timestamp": 1749200077.470282}}}
{"text": "2025-06-06T15:54:37.470867+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.038154", "seconds": 1.038154}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145295, "name": "MainProcess"}, "thread": {"id": 128918635697984, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:54:37.470867+07:00", "timestamp": 1749200077.470867}}}
{"text": "2025-06-06T15:54:37.501316+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.068603", "seconds": 1.068603}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1145295, "name": "MainProcess"}, "thread": {"id": 128918546806464, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:54:37.501316+07:00", "timestamp": 1749200077.501316}}}
{"text": "2025-06-06T15:54:42.468622+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.035909", "seconds": 6.035909}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1145295, "name": "MainProcess"}, "thread": {"id": 128918538413760, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:54:42.468622+07:00", "timestamp": 1749200082.468622}}}
{"text": "2025-06-06T15:54:42.468925+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:06.036212", "seconds": 6.036212}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1145295, "name": "MainProcess"}, "thread": {"id": 128918538413760, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:54:42.468925+07:00", "timestamp": 1749200082.468925}}}
{"text": "2025-06-06T15:54:43.165663+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:06.732950", "seconds": 6.73295}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145295, "name": "MainProcess"}, "thread": {"id": 128918635697984, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:54:43.165663+07:00", "timestamp": 1749200083.165663}}}
{"text": "2025-06-06T15:54:43.166079+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:06.733366", "seconds": 6.733366}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145295, "name": "MainProcess"}, "thread": {"id": 128918635697984, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:54:43.166079+07:00", "timestamp": 1749200083.166079}}}
{"text": "2025-06-06T15:54:46.166601+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:09.733888", "seconds": 9.733888}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145295, "name": "MainProcess"}, "thread": {"id": 128918635697984, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:54:46.166601+07:00", "timestamp": 1749200086.166601}}}
{"text": "2025-06-06T15:55:48.348471+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.092658", "seconds": 1.092658}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145510, "name": "MainProcess"}, "thread": {"id": 130187031566144, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:55:48.348471+07:00", "timestamp": 1749200148.348471}}}
{"text": "2025-06-06T15:55:48.350853+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.095040", "seconds": 1.09504}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145510, "name": "MainProcess"}, "thread": {"id": 130187031566144, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:55:48.350853+07:00", "timestamp": 1749200148.350853}}}
{"text": "2025-06-06T15:55:48.351457+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.095644", "seconds": 1.095644}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145510, "name": "MainProcess"}, "thread": {"id": 130187031566144, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:55:48.351457+07:00", "timestamp": 1749200148.351457}}}
{"text": "2025-06-06T15:55:48.394632+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.138819", "seconds": 1.138819}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1145510, "name": "MainProcess"}, "thread": {"id": 130186943133376, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:55:48.394632+07:00", "timestamp": 1749200148.394632}}}
{"text": "2025-06-06T15:55:53.348838+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.093025", "seconds": 6.093025}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1145510, "name": "MainProcess"}, "thread": {"id": 130186934740672, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:55:53.348838+07:00", "timestamp": 1749200153.348838}}}
{"text": "2025-06-06T15:55:53.349149+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:06.093336", "seconds": 6.093336}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1145510, "name": "MainProcess"}, "thread": {"id": 130186934740672, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:55:53.349149+07:00", "timestamp": 1749200153.349149}}}
{"text": "2025-06-06T15:55:54.839429+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:07.583616", "seconds": 7.583616}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145510, "name": "MainProcess"}, "thread": {"id": 130187031566144, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:55:54.839429+07:00", "timestamp": 1749200154.839429}}}
{"text": "2025-06-06T15:55:54.839786+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.583973", "seconds": 7.583973}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145510, "name": "MainProcess"}, "thread": {"id": 130187031566144, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:55:54.839786+07:00", "timestamp": 1749200154.839786}}}
{"text": "2025-06-06T15:55:57.840389+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.584576", "seconds": 10.584576}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145510, "name": "MainProcess"}, "thread": {"id": 130187031566144, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:55:57.840389+07:00", "timestamp": 1749200157.840389}}}
{"text": "2025-06-06T15:59:13.048038+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.047224", "seconds": 1.047224}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929773238080, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:13.048038+07:00", "timestamp": 1749200353.048038}}}
{"text": "2025-06-06T15:59:13.050377+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.049563", "seconds": 1.049563}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929773238080, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:13.050377+07:00", "timestamp": 1749200353.050377}}}
{"text": "2025-06-06T15:59:13.051067+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.050253", "seconds": 1.050253}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929773238080, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:13.051067+07:00", "timestamp": 1749200353.051067}}}
{"text": "2025-06-06T15:59:13.081835+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.081021", "seconds": 1.081021}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929685391040, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:59:13.081835+07:00", "timestamp": 1749200353.081835}}}
{"text": "2025-06-06T15:59:18.048755+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.047941", "seconds": 6.047941}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929603602112, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:59:18.048755+07:00", "timestamp": 1749200358.048755}}}
{"text": "2025-06-06T15:59:18.049131+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:06.048317", "seconds": 6.048317}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929603602112, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:59:18.049131+07:00", "timestamp": 1749200358.049131}}}
{"text": "2025-06-06T15:59:21.863536+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:09.862722", "seconds": 9.862722}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929773238080, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:21.863536+07:00", "timestamp": 1749200361.863536}}}
{"text": "2025-06-06T15:59:21.863856+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:09.863042", "seconds": 9.863042}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929773238080, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:21.863856+07:00", "timestamp": 1749200361.863856}}}
{"text": "2025-06-06T15:59:21.864018+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:09.863204", "seconds": 9.863204}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929773238080, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:21.864018+07:00", "timestamp": 1749200361.864018}}}
{"text": "2025-06-06T15:59:21.864165+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:09.863351", "seconds": 9.863351}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929773238080, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:21.864165+07:00", "timestamp": 1749200361.864165}}}
{"text": "2025-06-06T15:59:24.864762+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:12.863948", "seconds": 12.863948}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145821, "name": "MainProcess"}, "thread": {"id": 123929773238080, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:24.864762+07:00", "timestamp": 1749200364.864762}}}
{"text": "2025-06-06T15:59:27.128302+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.091883", "seconds": 1.091883}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707167057728, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:27.128302+07:00", "timestamp": 1749200367.128302}}}
{"text": "2025-06-06T15:59:27.130533+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.094114", "seconds": 1.094114}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707167057728, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:27.130533+07:00", "timestamp": 1749200367.130533}}}
{"text": "2025-06-06T15:59:27.131055+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.094636", "seconds": 1.094636}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707167057728, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:27.131055+07:00", "timestamp": 1749200367.131055}}}
{"text": "2025-06-06T15:59:27.162498+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.126079", "seconds": 1.126079}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707103049408, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 15:59:27.162498+07:00", "timestamp": 1749200367.162498}}}
{"text": "2025-06-06T15:59:32.128876+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.092457", "seconds": 6.092457}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707094656704, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:59:32.128876+07:00", "timestamp": 1749200372.128876}}}
{"text": "2025-06-06T15:59:32.129258+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:06.092839", "seconds": 6.092839}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707094656704, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 15:59:32.129258+07:00", "timestamp": 1749200372.129258}}}
{"text": "2025-06-06T15:59:36.063460+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:10.027041", "seconds": 10.027041}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707167057728, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:36.063460+07:00", "timestamp": 1749200376.06346}}}
{"text": "2025-06-06T15:59:36.063872+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:10.027453", "seconds": 10.027453}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707167057728, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:36.063872+07:00", "timestamp": 1749200376.063872}}}
{"text": "2025-06-06T15:59:36.063977+0700 INFO Scheduler shutdown initiated\n", "record": {"elapsed": {"repr": "0:00:10.027558", "seconds": 10.027558}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "Scheduler shutdown initiated", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707167057728, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:36.063977+07:00", "timestamp": 1749200376.063977}}}
{"text": "2025-06-06T15:59:36.064103+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:10.027684", "seconds": 10.027684}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707167057728, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:36.064103+07:00", "timestamp": 1749200376.064103}}}
{"text": "2025-06-06T15:59:39.064451+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:13.028032", "seconds": 13.028032}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1145983, "name": "MainProcess"}, "thread": {"id": 139707167057728, "name": "MainThread"}, "time": {"repr": "2025-06-06 15:59:39.064451+07:00", "timestamp": 1749200379.064451}}}
{"text": "2025-06-06T16:00:24.959078+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.047406", "seconds": 1.047406}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155558074176, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:00:24.959078+07:00", "timestamp": 1749200424.959078}}}
{"text": "2025-06-06T16:00:24.961423+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.049751", "seconds": 1.049751}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155558074176, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:00:24.961423+07:00", "timestamp": 1749200424.961423}}}
{"text": "2025-06-06T16:00:24.961965+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.050293", "seconds": 1.050293}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155558074176, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:00:24.961965+07:00", "timestamp": 1749200424.961965}}}
{"text": "2025-06-06T16:00:24.993375+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.081703", "seconds": 1.081703}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155468691136, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:00:24.993375+07:00", "timestamp": 1749200424.993375}}}
{"text": "2025-06-06T16:00:29.959947+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.048275", "seconds": 6.048275}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155460298432, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:00:29.959947+07:00", "timestamp": 1749200429.959947}}}
{"text": "2025-06-06T16:00:29.960329+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:06.048657", "seconds": 6.048657}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155460298432, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:00:29.960329+07:00", "timestamp": 1749200429.960329}}}
{"text": "2025-06-06T16:00:30.737576+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:06.825904", "seconds": 6.825904}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155558074176, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:00:30.737576+07:00", "timestamp": 1749200430.737576}}}
{"text": "2025-06-06T16:00:30.737889+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:06.826217", "seconds": 6.826217}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155558074176, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:00:30.737889+07:00", "timestamp": 1749200430.737889}}}
{"text": "2025-06-06T16:00:30.738011+0700 INFO tebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:06.826339", "seconds": 6.826339}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "tebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155558074176, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:00:30.738011+07:00", "timestamp": 1749200430.738011}}}
{"text": "2025-06-06T16:00:30.738155+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:06.826483", "seconds": 6.826483}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155558074176, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:00:30.738155+07:00", "timestamp": 1749200430.738155}}}
{"text": "2025-06-06T16:00:33.738900+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:09.827228", "seconds": 9.827228}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146168, "name": "MainProcess"}, "thread": {"id": 128155558074176, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:00:33.738900+07:00", "timestamp": 1749200433.7389}}}
{"text": "2025-06-06T16:01:57.570620+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.119820", "seconds": 1.11982}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484873639744, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:01:57.570620+07:00", "timestamp": 1749200517.57062}}}
{"text": "2025-06-06T16:01:57.573096+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.122296", "seconds": 1.122296}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484873639744, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:01:57.573096+07:00", "timestamp": 1749200517.573096}}}
{"text": "2025-06-06T16:01:57.573650+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.122850", "seconds": 1.12285}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 99, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484873639744, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:01:57.573650+07:00", "timestamp": 1749200517.57365}}}
{"text": "2025-06-06T16:01:57.610271+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.159471", "seconds": 1.159471}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484784244416, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:01:57.610271+07:00", "timestamp": 1749200517.610271}}}
{"text": "2025-06-06T16:02:02.571452+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.120652", "seconds": 6.120652}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484775851712, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:02:02.571452+07:00", "timestamp": 1749200522.571452}}}
{"text": "2025-06-06T16:02:02.571776+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:06.120976", "seconds": 6.120976}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484775851712, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:02:02.571776+07:00", "timestamp": 1749200522.571776}}}
{"text": "2025-06-06T16:02:03.537064+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:07.086264", "seconds": 7.086264}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484873639744, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:02:03.537064+07:00", "timestamp": 1749200523.537064}}}
{"text": "2025-06-06T16:02:03.537537+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:07.086737", "seconds": 7.086737}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484873639744, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:02:03.537537+07:00", "timestamp": 1749200523.537537}}}
{"text": "2025-06-06T16:02:03.537695+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:07.086895", "seconds": 7.086895}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484873639744, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:02:03.537695+07:00", "timestamp": 1749200523.537695}}}
{"text": "2025-06-06T16:02:03.537838+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.087038", "seconds": 7.087038}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484873639744, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:02:03.537838+07:00", "timestamp": 1749200523.537838}}}
{"text": "2025-06-06T16:02:06.538325+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.087525", "seconds": 10.087525}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146382, "name": "MainProcess"}, "thread": {"id": 135484873639744, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:02:06.538325+07:00", "timestamp": 1749200526.538325}}}
{"text": "2025-06-06T16:03:43.824316+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.123395", "seconds": 1.123395}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745544947520, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:03:43.824316+07:00", "timestamp": 1749200623.824316}}}
{"text": "2025-06-06T16:03:43.826593+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.125672", "seconds": 1.125672}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745544947520, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:03:43.826593+07:00", "timestamp": 1749200623.826593}}}
{"text": "2025-06-06T16:03:43.827052+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.126131", "seconds": 1.126131}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745544947520, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:03:43.827052+07:00", "timestamp": 1749200623.827052}}}
{"text": "2025-06-06T16:03:43.858763+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.157842", "seconds": 1.157842}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745456043712, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:03:43.858763+07:00", "timestamp": 1749200623.858763}}}
{"text": "2025-06-06T16:03:48.825461+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.124540", "seconds": 6.12454}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745447651008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:03:48.825461+07:00", "timestamp": 1749200628.825461}}}
{"text": "2025-06-06T16:03:48.825803+0700 DEBUG (1, '-1002392744548', 'Алина')\n", "record": {"elapsed": {"repr": "0:00:06.124882", "seconds": 6.124882}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "(1, '-1002392744548', 'Алина')", "module": "publisher", "name": "services.publisher", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745447651008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:03:48.825803+07:00", "timestamp": 1749200628.825803}}}
{"text": "2025-06-06T16:03:48.839804+0700 INFO Constructed message for Алина: Алина, ты сильнее, чем кажешься.\n", "record": {"elapsed": {"repr": "0:00:06.138883", "seconds": 6.138883}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Алина, ты сильнее, чем кажешься.", "module": "publisher", "name": "services.publisher", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745447651008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:03:48.839804+07:00", "timestamp": 1749200628.839804}}}
{"text": "2025-06-06T16:03:53.824705+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.123784", "seconds": 11.123784}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745447651008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:03:53.824705+07:00", "timestamp": 1749200633.824705}}}
{"text": "2025-06-06T16:03:53.825022+0700 DEBUG (1, '-1002392744548', 'Алина')\n", "record": {"elapsed": {"repr": "0:00:11.124101", "seconds": 11.124101}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "(1, '-1002392744548', 'Алина')", "module": "publisher", "name": "services.publisher", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745447651008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:03:53.825022+07:00", "timestamp": 1749200633.825022}}}
{"text": "2025-06-06T16:03:53.839284+0700 INFO Constructed message for Алина: Алина, забудь об их мнении, просто живи.\n", "record": {"elapsed": {"repr": "0:00:11.138363", "seconds": 11.138363}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Алина, забудь об их мнении, просто живи.", "module": "publisher", "name": "services.publisher", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745447651008, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:03:53.839284+07:00", "timestamp": 1749200633.839284}}}
{"text": "2025-06-06T16:03:54.586924+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:11.886003", "seconds": 11.886003}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745544947520, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:03:54.586924+07:00", "timestamp": 1749200634.586924}}}
{"text": "2025-06-06T16:03:54.587479+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:11.886558", "seconds": 11.886558}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745544947520, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:03:54.587479+07:00", "timestamp": 1749200634.587479}}}
{"text": "2025-06-06T16:03:54.587662+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:11.886741", "seconds": 11.886741}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745544947520, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:03:54.587662+07:00", "timestamp": 1749200634.587662}}}
{"text": "2025-06-06T16:03:54.587815+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:11.886894", "seconds": 11.886894}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745544947520, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:03:54.587815+07:00", "timestamp": 1749200634.587815}}}
{"text": "2025-06-06T16:03:57.588093+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:14.887172", "seconds": 14.887172}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146626, "name": "MainProcess"}, "thread": {"id": 135745544947520, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:03:57.588093+07:00", "timestamp": 1749200637.588093}}}
{"text": "2025-06-06T16:05:46.837273+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.058800", "seconds": 1.0588}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707208046400, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:05:46.837273+07:00", "timestamp": 1749200746.837273}}}
{"text": "2025-06-06T16:05:46.839474+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.061001", "seconds": 1.061001}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707208046400, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:05:46.839474+07:00", "timestamp": 1749200746.839474}}}
{"text": "2025-06-06T16:05:46.839947+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.061474", "seconds": 1.061474}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707208046400, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:05:46.839947+07:00", "timestamp": 1749200746.839947}}}
{"text": "2025-06-06T16:05:46.873145+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.094672", "seconds": 1.094672}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707119945408, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:05:46.873145+07:00", "timestamp": 1749200746.873145}}}
{"text": "2025-06-06T16:05:51.837790+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.059317", "seconds": 6.059317}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707038156480, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:05:51.837790+07:00", "timestamp": 1749200751.83779}}}
{"text": "2025-06-06T16:05:51.838186+0700 ERROR Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 126707208046400 and this is thread id 126707038156480.\n", "record": {"elapsed": {"repr": "0:00:06.059713", "seconds": 6.059713}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 126707208046400 and this is thread id 126707038156480.", "module": "database", "name": "core.database", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707038156480, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:05:51.838186+07:00", "timestamp": 1749200751.838186}}}
{"text": "2025-06-06T16:05:51.838341+0700 ERROR Failed query: SELECT * FROM channels\n", "record": {"elapsed": {"repr": "0:00:06.059868", "seconds": 6.059868}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 39, "message": "Failed query: SELECT * FROM channels", "module": "database", "name": "core.database", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707038156480, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:05:51.838341+07:00", "timestamp": 1749200751.838341}}}
{"text": "2025-06-06T16:05:51.838498+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1146899), thread 'ThreadPoolExecutor-0_0' (126707038156480):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x733d4f5aeca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 126707038156480)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x733d4f5aea20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 126707038156480)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 126707038156480)>\n    │    │        │    └ (<weakref at 0x733d4d128c70; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x733d4d28aa50>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 126707038156480)>\n    │    └ <function _worker at 0x733d4d10c860>\n    └ <Thread(ThreadPoolExecutor-0_0, started 126707038156480)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x733d4d10c9a0>\n    └ <concurrent.futures.thread._WorkItem object at 0x733d4d1302f0>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x733d4d1302f0>\n             │    │   │    └ (<Job (id=bea2312b7f4d400f804e739082bdb04a name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x733d4d1302f0>\n             │    └ <function run_job at 0x733d4ef62200>\n             └ <concurrent.futures.thread._WorkItem object at 0x733d4d1302f0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=bea2312b7f4d400f804e739082bdb04a name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=bea2312b7f4d400f804e739082bdb04a name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=bea2312b7f4d400f804e739082bdb04a name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 49, in scheduled_publish\n    result = self.data_base.select_value()\n             │    │         └ <function DataBase.select_value at 0x733d4ee1d120>\n             │    └ <core.database.DataBase object at 0x733d4d288ad0>\n             └ <services.publisher.MessagePublisher object at 0x733d4ef99be0>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 66, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x733d4ee1c900>\n             └ <core.database.DataBase object at 0x733d4d288ad0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 25, in SQL_request\n    self.cursor.execute(request, params)\n    │    │      │       │        └ ()\n    │    │      │       └ 'SELECT * FROM channels'\n    │    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    │    └ <sqlite3.Cursor object at 0x733d4d27b740>\n    └ <core.database.DataBase object at 0x733d4d288ad0>\n\nsqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 126707208046400 and this is thread id 126707038156480.\n", "record": {"elapsed": {"repr": "0:00:06.060025", "seconds": 6.060025}, "exception": {"type": "ProgrammingError", "value": "SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 126707208046400 and this is thread id 126707038156480.", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 66, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1146899), thread 'ThreadPoolExecutor-0_0' (126707038156480):", "module": "database", "name": "core.database", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707038156480, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:05:51.838498+07:00", "timestamp": 1749200751.838498}}}
{"text": "2025-06-06T16:05:51.840965+0700 ERROR error with publishing for every name: 'NoneType' object is not iterable\n", "record": {"elapsed": {"repr": "0:00:06.062492", "seconds": 6.062492}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 43, "message": "error with publishing for every name: 'NoneType' object is not iterable", "module": "publisher", "name": "services.publisher", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707038156480, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:05:51.840965+07:00", "timestamp": 1749200751.840965}}}
{"text": "2025-06-06T16:05:54.986152+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:09.207679", "seconds": 9.207679}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707208046400, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:05:54.986152+07:00", "timestamp": 1749200754.986152}}}
{"text": "2025-06-06T16:05:54.986837+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:09.208364", "seconds": 9.208364}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707208046400, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:05:54.986837+07:00", "timestamp": 1749200754.986837}}}
{"text": "2025-06-06T16:05:54.987157+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:09.208684", "seconds": 9.208684}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707208046400, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:05:54.987157+07:00", "timestamp": 1749200754.987157}}}
{"text": "2025-06-06T16:05:54.987385+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:09.208912", "seconds": 9.208912}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707208046400, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:05:54.987385+07:00", "timestamp": 1749200754.987385}}}
{"text": "2025-06-06T16:05:57.988042+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:12.209569", "seconds": 12.209569}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1146899, "name": "MainProcess"}, "thread": {"id": 126707208046400, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:05:57.988042+07:00", "timestamp": 1749200757.988042}}}
{"text": "2025-06-06T16:07:06.602655+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.155666", "seconds": 1.155666}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686255253312, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:07:06.602655+07:00", "timestamp": 1749200826.602655}}}
{"text": "2025-06-06T16:07:06.605276+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.158287", "seconds": 1.158287}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686255253312, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:07:06.605276+07:00", "timestamp": 1749200826.605276}}}
{"text": "2025-06-06T16:07:06.606038+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.159049", "seconds": 1.159049}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686255253312, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:07:06.606038+07:00", "timestamp": 1749200826.606038}}}
{"text": "2025-06-06T16:07:06.640306+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.193317", "seconds": 1.193317}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686166968000, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:07:06.640306+07:00", "timestamp": 1749200826.640306}}}
{"text": "2025-06-06T16:07:11.603228+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.156239", "seconds": 6.156239}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686158575296, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:07:11.603228+07:00", "timestamp": 1749200831.603228}}}
{"text": "2025-06-06T16:07:11.603653+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:06.156664", "seconds": 6.156664}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686158575296, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:07:11.603653+07:00", "timestamp": 1749200831.603653}}}
{"text": "2025-06-06T16:07:13.387068+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:07.940079", "seconds": 7.940079}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686255253312, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:07:13.387068+07:00", "timestamp": 1749200833.387068}}}
{"text": "2025-06-06T16:07:13.387623+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:07.940634", "seconds": 7.940634}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686255253312, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:07:13.387623+07:00", "timestamp": 1749200833.387623}}}
{"text": "2025-06-06T16:07:13.387854+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:07.940865", "seconds": 7.940865}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686255253312, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:07:13.387854+07:00", "timestamp": 1749200833.387854}}}
{"text": "2025-06-06T16:07:13.388034+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.941045", "seconds": 7.941045}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686255253312, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:07:13.388034+07:00", "timestamp": 1749200833.388034}}}
{"text": "2025-06-06T16:07:16.388431+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.941442", "seconds": 10.941442}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147099, "name": "MainProcess"}, "thread": {"id": 127686255253312, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:07:16.388431+07:00", "timestamp": 1749200836.388431}}}
{"text": "2025-06-06T16:08:05.236803+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.100260", "seconds": 1.10026}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600273659712, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:08:05.236803+07:00", "timestamp": 1749200885.236803}}}
{"text": "2025-06-06T16:08:05.239036+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.102493", "seconds": 1.102493}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600273659712, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:08:05.239036+07:00", "timestamp": 1749200885.239036}}}
{"text": "2025-06-06T16:08:05.239601+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.103058", "seconds": 1.103058}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600273659712, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:08:05.239601+07:00", "timestamp": 1749200885.239601}}}
{"text": "2025-06-06T16:08:05.272895+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.136352", "seconds": 1.136352}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600184559296, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:08:05.272895+07:00", "timestamp": 1749200885.272895}}}
{"text": "2025-06-06T16:08:10.237304+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.100761", "seconds": 6.100761}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:10.237304+07:00", "timestamp": 1749200890.237304}}}
{"text": "2025-06-06T16:08:10.237710+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:06.101167", "seconds": 6.101167}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:10.237710+07:00", "timestamp": 1749200890.23771}}}
{"text": "2025-06-06T16:08:10.255328+0700 INFO Constructed message for Алина: Не бойся делать ошибки, они ведут к росту.\n", "record": {"elapsed": {"repr": "0:00:06.118785", "seconds": 6.118785}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Не бойся делать ошибки, они ведут к росту.", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:10.255328+07:00", "timestamp": 1749200890.255328}}}
{"text": "2025-06-06T16:08:15.237564+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.101021", "seconds": 11.101021}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:15.237564+07:00", "timestamp": 1749200895.237564}}}
{"text": "2025-06-06T16:08:15.237816+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:11.101273", "seconds": 11.101273}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:15.237816+07:00", "timestamp": 1749200895.237816}}}
{"text": "2025-06-06T16:08:15.251917+0700 INFO Constructed message for Алина: сегодня ты вдохновляешь мир\n", "record": {"elapsed": {"repr": "0:00:11.115374", "seconds": 11.115374}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: сегодня ты вдохновляешь мир", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:15.251917+07:00", "timestamp": 1749200895.251917}}}
{"text": "2025-06-06T16:08:20.237114+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:16.100571", "seconds": 16.100571}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:20.237114+07:00", "timestamp": 1749200900.237114}}}
{"text": "2025-06-06T16:08:20.237387+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:16.100844", "seconds": 16.100844}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:20.237387+07:00", "timestamp": 1749200900.237387}}}
{"text": "2025-06-06T16:08:20.251238+0700 INFO Constructed message for Алина: Твой котик явно любит тебя больше, чем всех остальных.\n", "record": {"elapsed": {"repr": "0:00:16.114695", "seconds": 16.114695}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Твой котик явно любит тебя больше, чем всех остальных.", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:20.251238+07:00", "timestamp": 1749200900.251238}}}
{"text": "2025-06-06T16:08:25.237079+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:21.100536", "seconds": 21.100536}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:25.237079+07:00", "timestamp": 1749200905.237079}}}
{"text": "2025-06-06T16:08:25.237433+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:21.100890", "seconds": 21.10089}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:25.237433+07:00", "timestamp": 1749200905.237433}}}
{"text": "2025-06-06T16:08:25.252089+0700 INFO Constructed message for Алина: сегодня день для новых возможностей\n", "record": {"elapsed": {"repr": "0:00:21.115546", "seconds": 21.115546}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: сегодня день для новых возможностей", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:25.252089+07:00", "timestamp": 1749200905.252089}}}
{"text": "2025-06-06T16:08:30.237559+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:26.101016", "seconds": 26.101016}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:30.237559+07:00", "timestamp": 1749200910.237559}}}
{"text": "2025-06-06T16:08:30.237888+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:26.101345", "seconds": 26.101345}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:30.237888+07:00", "timestamp": 1749200910.237888}}}
{"text": "2025-06-06T16:08:30.251922+0700 INFO Constructed message for Алина: что сегодня сделает тебя счастливой?\n", "record": {"elapsed": {"repr": "0:00:26.115379", "seconds": 26.115379}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: что сегодня сделает тебя счастливой?", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:30.251922+07:00", "timestamp": 1749200910.251922}}}
{"text": "2025-06-06T16:08:35.237559+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:31.101016", "seconds": 31.101016}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:35.237559+07:00", "timestamp": 1749200915.237559}}}
{"text": "2025-06-06T16:08:35.237857+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:31.101314", "seconds": 31.101314}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:35.237857+07:00", "timestamp": 1749200915.237857}}}
{"text": "2025-06-06T16:08:35.254456+0700 INFO Constructed message for Алина: сегодняшний день изменит твою жизнь\n", "record": {"elapsed": {"repr": "0:00:31.117913", "seconds": 31.117913}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: сегодняшний день изменит твою жизнь", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:35.254456+07:00", "timestamp": 1749200915.254456}}}
{"text": "2025-06-06T16:08:40.237035+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:36.100492", "seconds": 36.100492}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:40.237035+07:00", "timestamp": 1749200920.237035}}}
{"text": "2025-06-06T16:08:40.237282+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:36.100739", "seconds": 36.100739}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:40.237282+07:00", "timestamp": 1749200920.237282}}}
{"text": "2025-06-06T16:08:40.254653+0700 INFO Constructed message for Алина: Ты уже на пути к своей цели, просто продолжай идти.\n", "record": {"elapsed": {"repr": "0:00:36.118110", "seconds": 36.11811}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Ты уже на пути к своей цели, просто продолжай идти.", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:40.254653+07:00", "timestamp": 1749200920.254653}}}
{"text": "2025-06-06T16:08:45.237100+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:41.100557", "seconds": 41.100557}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:45.237100+07:00", "timestamp": 1749200925.2371}}}
{"text": "2025-06-06T16:08:45.237359+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:41.100816", "seconds": 41.100816}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:45.237359+07:00", "timestamp": 1749200925.237359}}}
{"text": "2025-06-06T16:08:45.251926+0700 INFO Constructed message for Алина: сегодня — день, чтобы поверить в себя\n", "record": {"elapsed": {"repr": "0:00:41.115383", "seconds": 41.115383}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: сегодня — день, чтобы поверить в себя", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:45.251926+07:00", "timestamp": 1749200925.251926}}}
{"text": "2025-06-06T16:08:50.237192+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:46.100649", "seconds": 46.100649}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:50.237192+07:00", "timestamp": 1749200930.237192}}}
{"text": "2025-06-06T16:08:50.237751+0700 DEBUG [(1, '-1002392744548', 'Алина')]\n", "record": {"elapsed": {"repr": "0:00:46.101208", "seconds": 46.101208}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 23, "message": "[(1, '-1002392744548', 'Алина')]", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:50.237751+07:00", "timestamp": 1749200930.237751}}}
{"text": "2025-06-06T16:08:50.251663+0700 INFO Constructed message for Алина: Алина, жизнь любит таких, как ты, искренних и сильных.\n", "record": {"elapsed": {"repr": "0:00:46.115120", "seconds": 46.11512}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Алина, жизнь любит таких, как ты, искренних и сильных.", "module": "publisher", "name": "services.publisher", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600176166592, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:08:50.251663+07:00", "timestamp": 1749200930.251663}}}
{"text": "2025-06-06T16:08:53.010762+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:48.874219", "seconds": 48.874219}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600273659712, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:08:53.010762+07:00", "timestamp": 1749200933.010762}}}
{"text": "2025-06-06T16:08:53.011199+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:48.874656", "seconds": 48.874656}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600273659712, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:08:53.011199+07:00", "timestamp": 1749200933.011199}}}
{"text": "2025-06-06T16:08:53.011389+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:48.874846", "seconds": 48.874846}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600273659712, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:08:53.011389+07:00", "timestamp": 1749200933.011389}}}
{"text": "2025-06-06T16:08:53.011607+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:48.875064", "seconds": 48.875064}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600273659712, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:08:53.011607+07:00", "timestamp": 1749200933.011607}}}
{"text": "2025-06-06T16:08:56.012060+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:51.875517", "seconds": 51.875517}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147307, "name": "MainProcess"}, "thread": {"id": 134600273659712, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:08:56.012060+07:00", "timestamp": 1749200936.01206}}}
{"text": "2025-06-06T16:09:21.050924+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.172715", "seconds": 1.172715}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717415851840, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:09:21.050924+07:00", "timestamp": 1749200961.050924}}}
{"text": "2025-06-06T16:09:21.053640+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.175431", "seconds": 1.175431}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717415851840, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:09:21.053640+07:00", "timestamp": 1749200961.05364}}}
{"text": "2025-06-06T16:09:21.054323+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.176114", "seconds": 1.176114}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717415851840, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:09:21.054323+07:00", "timestamp": 1749200961.054323}}}
{"text": "2025-06-06T16:09:21.110453+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.232244", "seconds": 1.232244}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717351950016, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:09:21.110453+07:00", "timestamp": 1749200961.110453}}}
{"text": "2025-06-06T16:09:26.051248+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.173039", "seconds": 6.173039}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717343557312, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:09:26.051248+07:00", "timestamp": 1749200966.051248}}}
{"text": "2025-06-06T16:09:26.051664+0700 ERROR Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 126717415851840 and this is thread id 126717343557312.\n", "record": {"elapsed": {"repr": "0:00:06.173455", "seconds": 6.173455}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "Database error: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 126717415851840 and this is thread id 126717343557312.", "module": "database", "name": "core.database", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717343557312, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:09:26.051664+07:00", "timestamp": 1749200966.051664}}}
{"text": "2025-06-06T16:09:26.051819+0700 ERROR Failed query: SELECT * FROM channels\n", "record": {"elapsed": {"repr": "0:00:06.173610", "seconds": 6.17361}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 39, "message": "Failed query: SELECT * FROM channels", "module": "database", "name": "core.database", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717343557312, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:09:26.051819+07:00", "timestamp": 1749200966.051819}}}
{"text": "2025-06-06T16:09:26.051978+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1147688), thread 'ThreadPoolExecutor-0_0' (126717343557312):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x733fb14aeca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 126717343557312)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x733fb14aea20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 126717343557312)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 126717343557312)>\n    │    │        │    └ (<weakref at 0x733faf000c20; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x733faf15f0e0>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 126717343557312)>\n    │    └ <function _worker at 0x733faefe6480>\n    └ <Thread(ThreadPoolExecutor-0_0, started 126717343557312)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x733faefe65c0>\n    └ <concurrent.futures.thread._WorkItem object at 0x733faf0082f0>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x733faf0082f0>\n             │    │   │    └ (<Job (id=e7b296cafd104a77aac5bf3d53e9538c name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x733faf0082f0>\n             │    └ <function run_job at 0x733fb0e0a200>\n             └ <concurrent.futures.thread._WorkItem object at 0x733faf0082f0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=e7b296cafd104a77aac5bf3d53e9538c name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=e7b296cafd104a77aac5bf3d53e9538c name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=e7b296cafd104a77aac5bf3d53e9538c name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 49, in scheduled_publish\n    result = self.data_base.select_value()\n             │    │         └ <function DataBase.select_value at 0x733fb0cc9080>\n             │    └ <core.database.DataBase object at 0x733faf15cad0>\n             └ <services.publisher.MessagePublisher object at 0x733fb0e41be0>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 66, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x733fb0cc8860>\n             └ <core.database.DataBase object at 0x733faf15cad0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 25, in SQL_request\n    self.cursor.execute(request, params)\n    │    │      │       │        └ ()\n    │    │      │       └ 'SELECT * FROM channels'\n    │    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    │    └ <sqlite3.Cursor object at 0x733faf14f3c0>\n    └ <core.database.DataBase object at 0x733faf15cad0>\n\nsqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 126717415851840 and this is thread id 126717343557312.\n", "record": {"elapsed": {"repr": "0:00:06.173769", "seconds": 6.173769}, "exception": {"type": "ProgrammingError", "value": "SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 126717415851840 and this is thread id 126717343557312.", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 66, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1147688), thread 'ThreadPoolExecutor-0_0' (126717343557312):", "module": "database", "name": "core.database", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717343557312, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:09:26.051978+07:00", "timestamp": 1749200966.051978}}}
{"text": "2025-06-06T16:09:26.054444+0700 ERROR error with publishing for every name: 'NoneType' object is not iterable\n", "record": {"elapsed": {"repr": "0:00:06.176235", "seconds": 6.176235}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 43, "message": "error with publishing for every name: 'NoneType' object is not iterable", "module": "publisher", "name": "services.publisher", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717343557312, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:09:26.054444+07:00", "timestamp": 1749200966.054444}}}
{"text": "2025-06-06T16:09:27.860648+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:07.982439", "seconds": 7.982439}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717415851840, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:09:27.860648+07:00", "timestamp": 1749200967.860648}}}
{"text": "2025-06-06T16:09:27.861103+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:07.982894", "seconds": 7.982894}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717415851840, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:09:27.861103+07:00", "timestamp": 1749200967.861103}}}
{"text": "2025-06-06T16:09:27.861270+0700 INFO Connection Grasefully closed.\n", "record": {"elapsed": {"repr": "0:00:07.983061", "seconds": 7.983061}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "gracefully_stop", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 73, "message": "Connection Grasefully closed.", "module": "database", "name": "core.database", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717415851840, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:09:27.861270+07:00", "timestamp": 1749200967.86127}}}
{"text": "2025-06-06T16:09:27.861478+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.983269", "seconds": 7.983269}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717415851840, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:09:27.861478+07:00", "timestamp": 1749200967.861478}}}
{"text": "2025-06-06T16:09:30.861853+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.983644", "seconds": 10.983644}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1147688, "name": "MainProcess"}, "thread": {"id": 126717415851840, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:09:30.861853+07:00", "timestamp": 1749200970.861853}}}
{"text": "2025-06-06T16:20:48.856343+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.036029", "seconds": 1.036029}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216852416320, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:20:48.856343+07:00", "timestamp": 1749201648.856343}}}
{"text": "2025-06-06T16:20:48.858520+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.038206", "seconds": 1.038206}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216852416320, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:20:48.858520+07:00", "timestamp": 1749201648.85852}}}
{"text": "2025-06-06T16:20:48.859133+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.038819", "seconds": 1.038819}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216852416320, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:20:48.859133+07:00", "timestamp": 1749201648.859133}}}
{"text": "2025-06-06T16:20:48.889938+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.069624", "seconds": 1.069624}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216763479744, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:20:48.889938+07:00", "timestamp": 1749201648.889938}}}
{"text": "2025-06-06T16:20:53.856918+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.036604", "seconds": 6.036604}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216755087040, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:20:53.856918+07:00", "timestamp": 1749201653.856918}}}
{"text": "2025-06-06T16:20:53.858044+0700 ERROR An error has been caught in function 'select_value', process 'MainProcess' (1148486), thread 'ThreadPoolExecutor-0_0' (124216755087040):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x70f97a926ca0>\n    └ <Thread(ThreadPoolExecutor-0_0, started 124216755087040)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x70f97a926a20>\n    └ <Thread(ThreadPoolExecutor-0_0, started 124216755087040)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started 124216755087040)>\n    │    │        │    └ (<weakref at 0x70f978194ef0; to 'concurrent.futures.thread.ThreadPoolExecutor' at 0x70f9785bef90>, <_queue.SimpleQueue object...\n    │    │        └ <Thread(ThreadPoolExecutor-0_0, started 124216755087040)>\n    │    └ <function _worker at 0x70f97817a160>\n    └ <Thread(ThreadPoolExecutor-0_0, started 124216755087040)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 93, in _worker\n    work_item.run()\n    │         └ <function _WorkItem.run at 0x70f97817a2a0>\n    └ <concurrent.futures.thread._WorkItem object at 0x70f97819c1a0>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n             │    │   │    │       │    └ {}\n             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x70f97819c1a0>\n             │    │   │    └ (<Job (id=4d787feb0a994134b3f697609bc673f0 name=MessagePublisher.scheduled_publish)>, 'default', [datetime.datetime(2025, 6, ...\n             │    │   └ <concurrent.futures.thread._WorkItem object at 0x70f97819c1a0>\n             │    └ <function run_job at 0x70f97a28e200>\n             └ <concurrent.futures.thread._WorkItem object at 0x70f97819c1a0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/apscheduler/executors/base.py\", line 131, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n             │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>\n             │   │     │   │       └ <Job (id=4d787feb0a994134b3f697609bc673f0 name=MessagePublisher.scheduled_publish)>\n             │   │     │   └ <member 'args' of 'Job' objects>\n             │   │     └ <Job (id=4d787feb0a994134b3f697609bc673f0 name=MessagePublisher.scheduled_publish)>\n             │   └ <member 'func' of 'Job' objects>\n             └ <Job (id=4d787feb0a994134b3f697609bc673f0 name=MessagePublisher.scheduled_publish)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py\", line 49, in scheduled_publish\n    result = self.data_base.select_value()\n             │    │         └ <function DataBase.select_value at 0x70f97a14d1c0>\n             │    └ <core.database.DataBase object at 0x70f9785bc980>\n             └ <services.publisher.MessagePublisher object at 0x70f97a2c5a90>\n\n> File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 75, in select_value\n    result = self.SQL_request(\"\"\"SELECT * FROM channels\"\"\")\n             │    └ <function DataBase.SQL_request at 0x70f97a14c9a0>\n             └ <core.database.DataBase object at 0x70f9785bc980>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py\", line 37, in SQL_request\n    result = self.cursor.fetchall()\n             └ <core.database.DataBase object at 0x70f9785bc980>\n\nAttributeError: 'DataBase' object has no attribute 'cursor'\n", "record": {"elapsed": {"repr": "0:00:06.037730", "seconds": 6.03773}, "exception": {"type": "AttributeError", "value": "'DataBase' object has no attribute 'cursor'", "traceback": true}, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "select_value", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 75, "message": "An error has been caught in function 'select_value', process 'MainProcess' (1148486), thread 'ThreadPoolExecutor-0_0' (124216755087040):", "module": "database", "name": "core.database", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216755087040, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:20:53.858044+07:00", "timestamp": 1749201653.858044}}}
{"text": "2025-06-06T16:20:53.859979+0700 ERROR error with publishing for every name: 'NoneType' object is not iterable\n", "record": {"elapsed": {"repr": "0:00:06.039665", "seconds": 6.039665}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 43, "message": "error with publishing for every name: 'NoneType' object is not iterable", "module": "publisher", "name": "services.publisher", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216755087040, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:20:53.859979+07:00", "timestamp": 1749201653.859979}}}
{"text": "2025-06-06T16:20:55.108037+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:07.287723", "seconds": 7.287723}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216852416320, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:20:55.108037+07:00", "timestamp": 1749201655.108037}}}
{"text": "2025-06-06T16:20:55.108456+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.288142", "seconds": 7.288142}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216852416320, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:20:55.108456+07:00", "timestamp": 1749201655.108456}}}
{"text": "2025-06-06T16:20:58.108999+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.288685", "seconds": 10.288685}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148486, "name": "MainProcess"}, "thread": {"id": 124216852416320, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:20:58.108999+07:00", "timestamp": 1749201658.108999}}}
{"text": "2025-06-06T16:22:55.550000+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.052990", "seconds": 1.05299}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242561128256, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:22:55.550000+07:00", "timestamp": 1749201775.55}}}
{"text": "2025-06-06T16:22:55.552226+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.055216", "seconds": 1.055216}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242561128256, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:22:55.552226+07:00", "timestamp": 1749201775.552226}}}
{"text": "2025-06-06T16:22:55.552826+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.055816", "seconds": 1.055816}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242561128256, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:22:55.552826+07:00", "timestamp": 1749201775.552826}}}
{"text": "2025-06-06T16:22:55.584913+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.087903", "seconds": 1.087903}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242472625856, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:22:55.584913+07:00", "timestamp": 1749201775.584913}}}
{"text": "2025-06-06T16:23:00.550871+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.053861", "seconds": 6.053861}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242464233152, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:00.550871+07:00", "timestamp": 1749201780.550871}}}
{"text": "2025-06-06T16:23:00.551761+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:06.054751", "seconds": 6.054751}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 31, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242464233152, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:00.551761+07:00", "timestamp": 1749201780.551761}}}
{"text": "2025-06-06T16:23:00.551942+0700 ERROR error with publishing for every name: cannot unpack non-iterable int object\n", "record": {"elapsed": {"repr": "0:00:06.054932", "seconds": 6.054932}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 43, "message": "error with publishing for every name: cannot unpack non-iterable int object", "module": "publisher", "name": "services.publisher", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242464233152, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:00.551942+07:00", "timestamp": 1749201780.551942}}}
{"text": "2025-06-06T16:23:05.550607+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.053597", "seconds": 11.053597}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242464233152, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:05.550607+07:00", "timestamp": 1749201785.550607}}}
{"text": "2025-06-06T16:23:05.551279+0700 DEBUG \u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]\n", "record": {"elapsed": {"repr": "0:00:11.054269", "seconds": 11.054269}, "exception": null, "extra": {}, "file": {"name": "database.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/database.py"}, "function": "SQL_request", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 31, "message": "\u001b[34mSQL: SELECT * FROM channels\n                             Result: [(1, '-1002392744548', 'Алина'), (2, '-1002454106093', 'Вика'), (3, '-1002258674996', 'Настя'), (4, '-1002468795584', 'Лера'), (5, '-1002344839925', 'Ксюша'), (6, '-1002454378134', 'Лиза'), (7, '-1002470954597', 'Маша'), (8, '-1002434800529', 'Полина'), (9, '-1002458228603', 'Аня'), (10, '-1002351719046', 'Даша'), (11, '-1002418708714', 'Катя')]", "module": "database", "name": "core.database", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242464233152, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:05.551279+07:00", "timestamp": 1749201785.551279}}}
{"text": "2025-06-06T16:23:05.551549+0700 ERROR error with publishing for every name: cannot unpack non-iterable int object\n", "record": {"elapsed": {"repr": "0:00:11.054539", "seconds": 11.054539}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 43, "message": "error with publishing for every name: cannot unpack non-iterable int object", "module": "publisher", "name": "services.publisher", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242464233152, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:05.551549+07:00", "timestamp": 1749201785.551549}}}
{"text": "2025-06-06T16:23:06.982311+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:12.485301", "seconds": 12.485301}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242561128256, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:06.982311+07:00", "timestamp": 1749201786.982311}}}
{"text": "2025-06-06T16:23:06.982716+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:12.485706", "seconds": 12.485706}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242561128256, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:06.982716+07:00", "timestamp": 1749201786.982716}}}
{"text": "2025-06-06T16:23:09.983492+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:15.486482", "seconds": 15.486482}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148741, "name": "MainProcess"}, "thread": {"id": 133242561128256, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:09.983492+07:00", "timestamp": 1749201789.983492}}}
{"text": "2025-06-06T16:23:26.582993+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.119233", "seconds": 1.119233}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148960, "name": "MainProcess"}, "thread": {"id": 132508614350656, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:26.582993+07:00", "timestamp": 1749201806.582993}}}
{"text": "2025-06-06T16:23:26.585412+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.121652", "seconds": 1.121652}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148960, "name": "MainProcess"}, "thread": {"id": 132508614350656, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:26.585412+07:00", "timestamp": 1749201806.585412}}}
{"text": "2025-06-06T16:23:26.586143+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.122383", "seconds": 1.122383}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148960, "name": "MainProcess"}, "thread": {"id": 132508614350656, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:26.586143+07:00", "timestamp": 1749201806.586143}}}
{"text": "2025-06-06T16:23:26.619487+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.155727", "seconds": 1.155727}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1148960, "name": "MainProcess"}, "thread": {"id": 132508526048960, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:23:26.619487+07:00", "timestamp": 1749201806.619487}}}
{"text": "2025-06-06T16:23:31.583968+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.120208", "seconds": 6.120208}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1148960, "name": "MainProcess"}, "thread": {"id": 132508517656256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:31.583968+07:00", "timestamp": 1749201811.583968}}}
{"text": "2025-06-06T16:23:31.584998+0700 ERROR error with publishing for every name: cannot unpack non-iterable int object\n", "record": {"elapsed": {"repr": "0:00:06.121238", "seconds": 6.121238}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_names", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 43, "message": "error with publishing for every name: cannot unpack non-iterable int object", "module": "publisher", "name": "services.publisher", "process": {"id": 1148960, "name": "MainProcess"}, "thread": {"id": 132508517656256, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:31.584998+07:00", "timestamp": 1749201811.584998}}}
{"text": "2025-06-06T16:23:33.507392+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:08.043632", "seconds": 8.043632}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148960, "name": "MainProcess"}, "thread": {"id": 132508614350656, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:33.507392+07:00", "timestamp": 1749201813.507392}}}
{"text": "2025-06-06T16:23:33.507823+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:08.044063", "seconds": 8.044063}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148960, "name": "MainProcess"}, "thread": {"id": 132508614350656, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:33.507823+07:00", "timestamp": 1749201813.507823}}}
{"text": "2025-06-06T16:23:36.508182+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:11.044422", "seconds": 11.044422}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1148960, "name": "MainProcess"}, "thread": {"id": 132508614350656, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:36.508182+07:00", "timestamp": 1749201816.508182}}}
{"text": "2025-06-06T16:23:54.284763+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.067343", "seconds": 1.067343}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139728057911104, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:54.284763+07:00", "timestamp": 1749201834.284763}}}
{"text": "2025-06-06T16:23:54.287314+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.069894", "seconds": 1.069894}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139728057911104, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:54.287314+07:00", "timestamp": 1749201834.287314}}}
{"text": "2025-06-06T16:23:54.287969+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.070549", "seconds": 1.070549}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139728057911104, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:23:54.287969+07:00", "timestamp": 1749201834.287969}}}
{"text": "2025-06-06T16:23:54.318580+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.101160", "seconds": 1.10116}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727968663232, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:23:54.318580+07:00", "timestamp": 1749201834.31858}}}
{"text": "2025-06-06T16:23:59.285716+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.068296", "seconds": 6.068296}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.285716+07:00", "timestamp": 1749201839.285716}}}
{"text": "2025-06-06T16:23:59.300942+0700 INFO Constructed message for Алина: Твоя харизма — это твоё главное оружие.\n", "record": {"elapsed": {"repr": "0:00:06.083522", "seconds": 6.083522}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Твоя харизма — это твоё главное оружие.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.300942+07:00", "timestamp": 1749201839.300942}}}
{"text": "2025-06-06T16:23:59.315275+0700 INFO Constructed message for Вика: Этот момент — твой шанс на успех.\n", "record": {"elapsed": {"repr": "0:00:06.097855", "seconds": 6.097855}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Вика: Этот момент — твой шанс на успех.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.315275+07:00", "timestamp": 1749201839.315275}}}
{"text": "2025-06-06T16:23:59.329751+0700 INFO Constructed message for Настя: Ты невероятная и уникальная.\n", "record": {"elapsed": {"repr": "0:00:06.112331", "seconds": 6.112331}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Настя: Ты невероятная и уникальная.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.329751+07:00", "timestamp": 1749201839.329751}}}
{"text": "2025-06-06T16:23:59.344302+0700 INFO Constructed message for Лера: Лера, ты как Wi-Fi, всегда на связи.\n", "record": {"elapsed": {"repr": "0:00:06.126882", "seconds": 6.126882}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лера: Лера, ты как Wi-Fi, всегда на связи.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.344302+07:00", "timestamp": 1749201839.344302}}}
{"text": "2025-06-06T16:23:59.359277+0700 INFO Constructed message for Ксюша: сегодня мир ждёт твоего сияния\n", "record": {"elapsed": {"repr": "0:00:06.141857", "seconds": 6.141857}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Ксюша: сегодня мир ждёт твоего сияния", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.359277+07:00", "timestamp": 1749201839.359277}}}
{"text": "2025-06-06T16:23:59.374060+0700 INFO Constructed message for Лиза: Лиза, ты сильнее, чем кажешься.\n", "record": {"elapsed": {"repr": "0:00:06.156640", "seconds": 6.15664}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лиза: Лиза, ты сильнее, чем кажешься.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.374060+07:00", "timestamp": 1749201839.37406}}}
{"text": "2025-06-06T16:23:59.389030+0700 INFO Constructed message for Маша: Люди к тебе тянутся, потому что ты искренна.\n", "record": {"elapsed": {"repr": "0:00:06.171610", "seconds": 6.17161}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Маша: Люди к тебе тянутся, потому что ты искренна.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.389030+07:00", "timestamp": 1749201839.38903}}}
{"text": "2025-06-06T16:23:59.403748+0700 INFO Constructed message for Полина: Этот момент — начало чего-то великого.\n", "record": {"elapsed": {"repr": "0:00:06.186328", "seconds": 6.186328}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Полина: Этот момент — начало чего-то великого.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.403748+07:00", "timestamp": 1749201839.403748}}}
{"text": "2025-06-06T16:23:59.418496+0700 INFO Constructed message for Аня: сегодня день для великих дел\n", "record": {"elapsed": {"repr": "0:00:06.201076", "seconds": 6.201076}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Аня: сегодня день для великих дел", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.418496+07:00", "timestamp": 1749201839.418496}}}
{"text": "2025-06-06T16:23:59.433687+0700 INFO Constructed message for Даша: Твоя сила в твоей уверенности.\n", "record": {"elapsed": {"repr": "0:00:06.216267", "seconds": 6.216267}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Даша: Твоя сила в твоей уверенности.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.433687+07:00", "timestamp": 1749201839.433687}}}
{"text": "2025-06-06T16:23:59.448795+0700 INFO Constructed message for Катя: Ты создаёшь свою реальность.\n", "record": {"elapsed": {"repr": "0:00:06.231375", "seconds": 6.231375}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Катя: Ты создаёшь свою реальность.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139727960270528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:23:59.448795+07:00", "timestamp": 1749201839.448795}}}
{"text": "2025-06-06T16:24:01.856977+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:08.639557", "seconds": 8.639557}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139728057911104, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:01.856977+07:00", "timestamp": 1749201841.856977}}}
{"text": "2025-06-06T16:24:01.857365+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:08.639945", "seconds": 8.639945}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139728057911104, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:01.857365+07:00", "timestamp": 1749201841.857365}}}
{"text": "2025-06-06T16:24:04.857937+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:11.640517", "seconds": 11.640517}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149143, "name": "MainProcess"}, "thread": {"id": 139728057911104, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:04.857937+07:00", "timestamp": 1749201844.857937}}}
{"text": "2025-06-06T16:24:17.231181+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.074522", "seconds": 1.074522}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149305, "name": "MainProcess"}, "thread": {"id": 125045879826240, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:17.231181+07:00", "timestamp": 1749201857.231181}}}
{"text": "2025-06-06T16:24:17.233454+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.076795", "seconds": 1.076795}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149305, "name": "MainProcess"}, "thread": {"id": 125045879826240, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:17.233454+07:00", "timestamp": 1749201857.233454}}}
{"text": "2025-06-06T16:24:17.234062+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.077403", "seconds": 1.077403}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149305, "name": "MainProcess"}, "thread": {"id": 125045879826240, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:17.234062+07:00", "timestamp": 1749201857.234062}}}
{"text": "2025-06-06T16:24:17.271336+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.114677", "seconds": 1.114677}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1149305, "name": "MainProcess"}, "thread": {"id": 125045790734016, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:24:17.271336+07:00", "timestamp": 1749201857.271336}}}
{"text": "2025-06-06T16:24:22.232322+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.075663", "seconds": 6.075663}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1149305, "name": "MainProcess"}, "thread": {"id": 125045782341312, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:22.232322+07:00", "timestamp": 1749201862.232322}}}
{"text": "2025-06-06T16:24:22.251877+0700 INFO Constructed message for Алина: какой сегодня день и чем он особенный для тебя?\n", "record": {"elapsed": {"repr": "0:00:06.095218", "seconds": 6.095218}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: какой сегодня день и чем он особенный для тебя?", "module": "publisher", "name": "services.publisher", "process": {"id": 1149305, "name": "MainProcess"}, "thread": {"id": 125045782341312, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:22.251877+07:00", "timestamp": 1749201862.251877}}}
{"text": "2025-06-06T16:24:23.956525+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:07.799866", "seconds": 7.799866}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149305, "name": "MainProcess"}, "thread": {"id": 125045879826240, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:23.956525+07:00", "timestamp": 1749201863.956525}}}
{"text": "2025-06-06T16:24:23.957011+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.800352", "seconds": 7.800352}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149305, "name": "MainProcess"}, "thread": {"id": 125045879826240, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:23.957011+07:00", "timestamp": 1749201863.957011}}}
{"text": "2025-06-06T16:24:26.957504+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.800845", "seconds": 10.800845}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149305, "name": "MainProcess"}, "thread": {"id": 125045879826240, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:26.957504+07:00", "timestamp": 1749201866.957504}}}
{"text": "2025-06-06T16:24:29.842408+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.138169", "seconds": 1.138169}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242591123264, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:29.842408+07:00", "timestamp": 1749201869.842408}}}
{"text": "2025-06-06T16:24:29.844761+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.140522", "seconds": 1.140522}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242591123264, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:29.844761+07:00", "timestamp": 1749201869.844761}}}
{"text": "2025-06-06T16:24:29.845411+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.141172", "seconds": 1.141172}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242591123264, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:29.845411+07:00", "timestamp": 1749201869.845411}}}
{"text": "2025-06-06T16:24:29.877316+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.173077", "seconds": 1.173077}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242501707456, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:24:29.877316+07:00", "timestamp": 1749201869.877316}}}
{"text": "2025-06-06T16:24:34.843211+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.138972", "seconds": 6.138972}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.843211+07:00", "timestamp": 1749201874.843211}}}
{"text": "2025-06-06T16:24:34.858838+0700 INFO Constructed message for Алина: Алина, ты создаёшь вокруг себя магию.\n", "record": {"elapsed": {"repr": "0:00:06.154599", "seconds": 6.154599}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Алина, ты создаёшь вокруг себя магию.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.858838+07:00", "timestamp": 1749201874.858838}}}
{"text": "2025-06-06T16:24:34.873904+0700 INFO Constructed message for Вика: Вика, не парься о том, что думают другие.\n", "record": {"elapsed": {"repr": "0:00:06.169665", "seconds": 6.169665}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Вика: Вика, не парься о том, что думают другие.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.873904+07:00", "timestamp": 1749201874.873904}}}
{"text": "2025-06-06T16:24:34.888979+0700 INFO Constructed message for Настя: Ты уже достаточно сделала, чтобы собой гордиться.\n", "record": {"elapsed": {"repr": "0:00:06.184740", "seconds": 6.18474}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Настя: Ты уже достаточно сделала, чтобы собой гордиться.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.888979+07:00", "timestamp": 1749201874.888979}}}
{"text": "2025-06-06T16:24:34.903848+0700 INFO Constructed message for Лера: Лера, ты создаёшь свет в жизни других.\n", "record": {"elapsed": {"repr": "0:00:06.199609", "seconds": 6.199609}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лера: Лера, ты создаёшь свет в жизни других.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.903848+07:00", "timestamp": 1749201874.903848}}}
{"text": "2025-06-06T16:24:34.918712+0700 INFO Constructed message for Ксюша: Слушай своё сердце, оно знает, куда идти.\n", "record": {"elapsed": {"repr": "0:00:06.214473", "seconds": 6.214473}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Ксюша: Слушай своё сердце, оно знает, куда идти.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.918712+07:00", "timestamp": 1749201874.918712}}}
{"text": "2025-06-06T16:24:34.933689+0700 INFO Constructed message for Лиза: сегодня можно всё, что ты захочешь\n", "record": {"elapsed": {"repr": "0:00:06.229450", "seconds": 6.22945}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лиза: сегодня можно всё, что ты захочешь", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.933689+07:00", "timestamp": 1749201874.933689}}}
{"text": "2025-06-06T16:24:34.948888+0700 INFO Constructed message for Маша: Настюш, иногда нужно просто отпустить ситуацию.\n", "record": {"elapsed": {"repr": "0:00:06.244649", "seconds": 6.244649}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Маша: Настюш, иногда нужно просто отпустить ситуацию.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.948888+07:00", "timestamp": 1749201874.948888}}}
{"text": "2025-06-06T16:24:34.963921+0700 INFO Constructed message for Полина: Люди вокруг замечают твою силу, даже если ты её скрываешь.\n", "record": {"elapsed": {"repr": "0:00:06.259682", "seconds": 6.259682}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Полина: Люди вокруг замечают твою силу, даже если ты её скрываешь.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.963921+07:00", "timestamp": 1749201874.963921}}}
{"text": "2025-06-06T16:24:34.978952+0700 INFO Constructed message for Аня: Аня, ты фонарь, освещающий путь другим.\n", "record": {"elapsed": {"repr": "0:00:06.274713", "seconds": 6.274713}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Аня: Аня, ты фонарь, освещающий путь другим.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.978952+07:00", "timestamp": 1749201874.978952}}}
{"text": "2025-06-06T16:24:34.994187+0700 INFO Constructed message for Даша: Даша, забудь об их мнении, просто живи.\n", "record": {"elapsed": {"repr": "0:00:06.289948", "seconds": 6.289948}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Даша: Даша, забудь об их мнении, просто живи.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:34.994187+07:00", "timestamp": 1749201874.994187}}}
{"text": "2025-06-06T16:24:35.009888+0700 INFO Constructed message for Катя: Твоя сила в твоей уверенности.\n", "record": {"elapsed": {"repr": "0:00:06.305649", "seconds": 6.305649}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Катя: Твоя сила в твоей уверенности.", "module": "publisher", "name": "services.publisher", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242493314752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:24:35.009888+07:00", "timestamp": 1749201875.009888}}}
{"text": "2025-06-06T16:24:36.981876+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:08.277637", "seconds": 8.277637}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242591123264, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:36.981876+07:00", "timestamp": 1749201876.981876}}}
{"text": "2025-06-06T16:24:36.982336+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:08.278097", "seconds": 8.278097}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242591123264, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:36.982336+07:00", "timestamp": 1749201876.982336}}}
{"text": "2025-06-06T16:24:39.983137+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:11.278898", "seconds": 11.278898}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1149471, "name": "MainProcess"}, "thread": {"id": 137242591123264, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:24:39.983137+07:00", "timestamp": 1749201879.983137}}}
{"text": "2025-06-06T16:31:01.593415+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.040922", "seconds": 1.040922}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312581187392, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:31:01.593415+07:00", "timestamp": 1749202261.593415}}}
{"text": "2025-06-06T16:31:01.595593+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.043100", "seconds": 1.0431}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312581187392, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:31:01.595593+07:00", "timestamp": 1749202261.595593}}}
{"text": "2025-06-06T16:31:01.596160+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.043667", "seconds": 1.043667}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312581187392, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:31:01.596160+07:00", "timestamp": 1749202261.59616}}}
{"text": "2025-06-06T16:31:01.628013+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.075520", "seconds": 1.07552}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312493332160, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 16:31:01.628013+07:00", "timestamp": 1749202261.628013}}}
{"text": "2025-06-06T16:31:06.594135+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.041642", "seconds": 6.041642}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.594135+07:00", "timestamp": 1749202266.594135}}}
{"text": "2025-06-06T16:31:06.610508+0700 INFO Constructed message for Алина: Твоя душа — это произведение искусства.\n", "record": {"elapsed": {"repr": "0:00:06.058015", "seconds": 6.058015}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Твоя душа — это произведение искусства.", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.610508+07:00", "timestamp": 1749202266.610508}}}
{"text": "2025-06-06T16:31:06.626587+0700 INFO Constructed message for Вика: Ты создаёшь магию в жизни других.\n", "record": {"elapsed": {"repr": "0:00:06.074094", "seconds": 6.074094}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Вика: Ты создаёшь магию в жизни других.", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.626587+07:00", "timestamp": 1749202266.626587}}}
{"text": "2025-06-06T16:31:06.642457+0700 INFO Constructed message for Настя: Сегодня день для новых открытий, используй его.\n", "record": {"elapsed": {"repr": "0:00:06.089964", "seconds": 6.089964}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Настя: Сегодня день для новых открытий, используй его.", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.642457+07:00", "timestamp": 1749202266.642457}}}
{"text": "2025-06-06T16:31:06.658722+0700 INFO Constructed message for Лера: запомни этот день, ведь сегодня всё начнется заново\n", "record": {"elapsed": {"repr": "0:00:06.106229", "seconds": 6.106229}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лера: запомни этот день, ведь сегодня всё начнется заново", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.658722+07:00", "timestamp": 1749202266.658722}}}
{"text": "2025-06-06T16:31:06.677149+0700 INFO Constructed message for Ксюша: сегодняшний момент — твой шанс\n", "record": {"elapsed": {"repr": "0:00:06.124656", "seconds": 6.124656}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Ксюша: сегодняшний момент — твой шанс", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.677149+07:00", "timestamp": 1749202266.677149}}}
{"text": "2025-06-06T16:31:06.693451+0700 INFO Constructed message for Лиза: Настюш, иногда нужно просто отпустить ситуацию.\n", "record": {"elapsed": {"repr": "0:00:06.140958", "seconds": 6.140958}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лиза: Настюш, иногда нужно просто отпустить ситуацию.", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.693451+07:00", "timestamp": 1749202266.693451}}}
{"text": "2025-06-06T16:31:06.709345+0700 INFO Constructed message for Маша: Ты создаёшь магию в жизни других.\n", "record": {"elapsed": {"repr": "0:00:06.156852", "seconds": 6.156852}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Маша: Ты создаёшь магию в жизни других.", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.709345+07:00", "timestamp": 1749202266.709345}}}
{"text": "2025-06-06T16:31:06.725197+0700 INFO Constructed message for Полина: Полина, ты создаёшь тепло там, где его не было.\n", "record": {"elapsed": {"repr": "0:00:06.172704", "seconds": 6.172704}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Полина: Полина, ты создаёшь тепло там, где его не было.", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.725197+07:00", "timestamp": 1749202266.725197}}}
{"text": "2025-06-06T16:31:06.741503+0700 INFO Constructed message for Аня: Ты уже многого добилась, гордись собой.\n", "record": {"elapsed": {"repr": "0:00:06.189010", "seconds": 6.18901}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Аня: Ты уже многого добилась, гордись собой.", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.741503+07:00", "timestamp": 1749202266.741503}}}
{"text": "2025-06-06T16:31:06.757261+0700 INFO Constructed message for Даша: какой сегодня день и чем он особенный для тебя?\n", "record": {"elapsed": {"repr": "0:00:06.204768", "seconds": 6.204768}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Даша: какой сегодня день и чем он особенный для тебя?", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.757261+07:00", "timestamp": 1749202266.757261}}}
{"text": "2025-06-06T16:31:06.773074+0700 INFO Constructed message for Катя: Твой день сегодня будет полон чудес, Катя.\n", "record": {"elapsed": {"repr": "0:00:06.220581", "seconds": 6.220581}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Катя: Твой день сегодня будет полон чудес, Катя.", "module": "publisher", "name": "services.publisher", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312484939456, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 16:31:06.773074+07:00", "timestamp": 1749202266.773074}}}
{"text": "2025-06-06T16:31:08.154791+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:07.602298", "seconds": 7.602298}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312581187392, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:31:08.154791+07:00", "timestamp": 1749202268.154791}}}
{"text": "2025-06-06T16:31:08.155280+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.602787", "seconds": 7.602787}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312581187392, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:31:08.155280+07:00", "timestamp": 1749202268.15528}}}
{"text": "2025-06-06T16:31:11.156039+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.603546", "seconds": 10.603546}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1150166, "name": "MainProcess"}, "thread": {"id": 130312581187392, "name": "MainThread"}, "time": {"repr": "2025-06-06 16:31:11.156039+07:00", "timestamp": 1749202271.156039}}}
{"text": "2025-06-06T17:35:33.581108+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.070282", "seconds": 1.070282}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359465322304, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:35:33.581108+07:00", "timestamp": 1749206133.581108}}}
{"text": "2025-06-06T17:35:33.583477+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.072651", "seconds": 1.072651}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359465322304, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:35:33.583477+07:00", "timestamp": 1749206133.583477}}}
{"text": "2025-06-06T17:35:33.584122+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.073296", "seconds": 1.073296}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359465322304, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:35:33.584122+07:00", "timestamp": 1749206133.584122}}}
{"text": "2025-06-06T17:35:33.623509+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.112683", "seconds": 1.112683}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359376705216, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 17:35:33.623509+07:00", "timestamp": 1749206133.623509}}}
{"text": "2025-06-06T17:35:38.582029+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.071203", "seconds": 6.071203}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.582029+07:00", "timestamp": 1749206138.582029}}}
{"text": "2025-06-06T17:35:38.598217+0700 INFO Constructed message for Алина: Не бойся быть другой, это твоя особенность.\n", "record": {"elapsed": {"repr": "0:00:06.087391", "seconds": 6.087391}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Не бойся быть другой, это твоя особенность.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.598217+07:00", "timestamp": 1749206138.598217}}}
{"text": "2025-06-06T17:35:38.615724+0700 INFO Constructed message for Вика: У тебя есть всё, чтобы быть счастливой.\n", "record": {"elapsed": {"repr": "0:00:06.104898", "seconds": 6.104898}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Вика: У тебя есть всё, чтобы быть счастливой.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.615724+07:00", "timestamp": 1749206138.615724}}}
{"text": "2025-06-06T17:35:38.631786+0700 INFO Constructed message for Настя: Ты всегда удивляешь своей энергией, даже когда сама не замечаешь этого.\n", "record": {"elapsed": {"repr": "0:00:06.120960", "seconds": 6.12096}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Настя: Ты всегда удивляешь своей энергией, даже когда сама не замечаешь этого.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.631786+07:00", "timestamp": 1749206138.631786}}}
{"text": "2025-06-06T17:35:38.648565+0700 INFO Constructed message for Лера: сегодня день для новых возможностей\n", "record": {"elapsed": {"repr": "0:00:06.137739", "seconds": 6.137739}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лера: сегодня день для новых возможностей", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.648565+07:00", "timestamp": 1749206138.648565}}}
{"text": "2025-06-06T17:35:38.664644+0700 INFO Constructed message for Ксюша: сегодня отличное время, чтобы начать\n", "record": {"elapsed": {"repr": "0:00:06.153818", "seconds": 6.153818}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Ксюша: сегодня отличное время, чтобы начать", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.664644+07:00", "timestamp": 1749206138.664644}}}
{"text": "2025-06-06T17:35:38.680837+0700 INFO Constructed message for Лиза: Ты сильнее, чем кажешься, и это факт.\n", "record": {"elapsed": {"repr": "0:00:06.170011", "seconds": 6.170011}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лиза: Ты сильнее, чем кажешься, и это факт.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.680837+07:00", "timestamp": 1749206138.680837}}}
{"text": "2025-06-06T17:35:38.697661+0700 INFO Constructed message for Маша: сегодня время любить жизнь\n", "record": {"elapsed": {"repr": "0:00:06.186835", "seconds": 6.186835}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Маша: сегодня время любить жизнь", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.697661+07:00", "timestamp": 1749206138.697661}}}
{"text": "2025-06-06T17:35:38.714547+0700 INFO Constructed message for Полина: Не бойся быть другой, это твоя особенность.\n", "record": {"elapsed": {"repr": "0:00:06.203721", "seconds": 6.203721}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Полина: Не бойся быть другой, это твоя особенность.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.714547+07:00", "timestamp": 1749206138.714547}}}
{"text": "2025-06-06T17:35:38.733095+0700 INFO Constructed message for Аня: Ты как магнит, все к тебе тянутся.\n", "record": {"elapsed": {"repr": "0:00:06.222269", "seconds": 6.222269}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Аня: Ты как магнит, все к тебе тянутся.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.733095+07:00", "timestamp": 1749206138.733095}}}
{"text": "2025-06-06T17:35:38.751779+0700 INFO Constructed message for Даша: Даша, твоя улыбка — это маленькое солнце.\n", "record": {"elapsed": {"repr": "0:00:06.240953", "seconds": 6.240953}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Даша: Даша, твоя улыбка — это маленькое солнце.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.751779+07:00", "timestamp": 1749206138.751779}}}
{"text": "2025-06-06T17:35:38.777429+0700 INFO Constructed message for Катя: Ты достойна счастья каждый день.\n", "record": {"elapsed": {"repr": "0:00:06.266603", "seconds": 6.266603}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Катя: Ты достойна счастья каждый день.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:38.777429+07:00", "timestamp": 1749206138.777429}}}
{"text": "2025-06-06T17:35:43.581373+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.070547", "seconds": 11.070547}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.581373+07:00", "timestamp": 1749206143.581373}}}
{"text": "2025-06-06T17:35:43.597503+0700 INFO Constructed message for Алина: Ты сильнее, чем любые сомнения.\n", "record": {"elapsed": {"repr": "0:00:11.086677", "seconds": 11.086677}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Алина: Ты сильнее, чем любые сомнения.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.597503+07:00", "timestamp": 1749206143.597503}}}
{"text": "2025-06-06T17:35:43.613201+0700 INFO Constructed message for Вика: сегодня время новых побед\n", "record": {"elapsed": {"repr": "0:00:11.102375", "seconds": 11.102375}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Вика: сегодня время новых побед", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.613201+07:00", "timestamp": 1749206143.613201}}}
{"text": "2025-06-06T17:35:43.628865+0700 INFO Constructed message for Настя: Улыбка способна изменить мир вокруг тебя.\n", "record": {"elapsed": {"repr": "0:00:11.118039", "seconds": 11.118039}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Настя: Улыбка способна изменить мир вокруг тебя.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.628865+07:00", "timestamp": 1749206143.628865}}}
{"text": "2025-06-06T17:35:43.645552+0700 INFO Constructed message for Лера: сегодня время забыть прошлое\n", "record": {"elapsed": {"repr": "0:00:11.134726", "seconds": 11.134726}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лера: сегодня время забыть прошлое", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.645552+07:00", "timestamp": 1749206143.645552}}}
{"text": "2025-06-06T17:35:43.662342+0700 INFO Constructed message for Ксюша: Ксюша, ты вдохновение для тех, кто рядом.\n", "record": {"elapsed": {"repr": "0:00:11.151516", "seconds": 11.151516}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Ксюша: Ксюша, ты вдохновение для тех, кто рядом.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.662342+07:00", "timestamp": 1749206143.662342}}}
{"text": "2025-06-06T17:35:43.679209+0700 INFO Constructed message for Лиза: Не упускай свой шанс изменить всё.\n", "record": {"elapsed": {"repr": "0:00:11.168383", "seconds": 11.168383}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Лиза: Не упускай свой шанс изменить всё.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.679209+07:00", "timestamp": 1749206143.679209}}}
{"text": "2025-06-06T17:35:43.695620+0700 INFO Constructed message for Маша: какой сегодня момент станет твоим ярким воспоминанием?\n", "record": {"elapsed": {"repr": "0:00:11.184794", "seconds": 11.184794}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Маша: какой сегодня момент станет твоим ярким воспоминанием?", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.695620+07:00", "timestamp": 1749206143.69562}}}
{"text": "2025-06-06T17:35:43.712579+0700 INFO Constructed message for Полина: Каждое решение приближает тебя к цели.\n", "record": {"elapsed": {"repr": "0:00:11.201753", "seconds": 11.201753}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Полина: Каждое решение приближает тебя к цели.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.712579+07:00", "timestamp": 1749206143.712579}}}
{"text": "2025-06-06T17:35:43.729342+0700 INFO Constructed message for Аня: сегодня ты можешь всё изменить\n", "record": {"elapsed": {"repr": "0:00:11.218516", "seconds": 11.218516}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Аня: сегодня ты можешь всё изменить", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.729342+07:00", "timestamp": 1749206143.729342}}}
{"text": "2025-06-06T17:35:43.746783+0700 INFO Constructed message for Даша: Даша, ты как звезда, светишь даже сквозь тучи.\n", "record": {"elapsed": {"repr": "0:00:11.235957", "seconds": 11.235957}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Даша: Даша, ты как звезда, светишь даже сквозь тучи.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.746783+07:00", "timestamp": 1749206143.746783}}}
{"text": "2025-06-06T17:35:43.764194+0700 INFO Constructed message for Катя: Сегодня время для новых открытий и впечатлений.\n", "record": {"elapsed": {"repr": "0:00:11.253368", "seconds": 11.253368}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "Constructed message for Катя: Сегодня время для новых открытий и впечатлений.", "module": "publisher", "name": "services.publisher", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359368312512, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:35:43.764194+07:00", "timestamp": 1749206143.764194}}}
{"text": "2025-06-06T17:35:47.222251+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:14.711425", "seconds": 14.711425}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 62, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359465322304, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:35:47.222251+07:00", "timestamp": 1749206147.222251}}}
{"text": "2025-06-06T17:35:47.222739+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:14.711913", "seconds": 14.711913}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359465322304, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:35:47.222739+07:00", "timestamp": 1749206147.222739}}}
{"text": "2025-06-06T17:35:50.223445+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:17.712619", "seconds": 17.712619}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 107, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1154610, "name": "MainProcess"}, "thread": {"id": 138359465322304, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:35:50.223445+07:00", "timestamp": 1749206150.223445}}}
{"text": "2025-06-06T17:38:53.223945+0700 CRITICAL \u001b[31mService crashed: TelegramService.__init__() missing 1 required positional argument: 'loop'\n", "record": {"elapsed": {"repr": "0:00:01.038088", "seconds": 1.038088}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: TelegramService.__init__() missing 1 required positional argument: 'loop'", "module": "startup", "name": "__main__", "process": {"id": 1154979, "name": "MainProcess"}, "thread": {"id": 124619950229312, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:38:53.223945+07:00", "timestamp": 1749206333.223945}}}
{"text": "2025-06-06T17:43:18.405293+0700 CRITICAL \u001b[31mService crashed: 'SchedulerService' object has no attribute 'telegram_service'\n", "record": {"elapsed": {"repr": "0:00:01.051398", "seconds": 1.051398}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: 'SchedulerService' object has no attribute 'telegram_service'", "module": "startup", "name": "__main__", "process": {"id": 1155348, "name": "MainProcess"}, "thread": {"id": 131814048266048, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:43:18.405293+07:00", "timestamp": 1749206598.405293}}}
{"text": "2025-06-06T17:43:34.745377+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.085653", "seconds": 1.085653}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 49, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1155469, "name": "MainProcess"}, "thread": {"id": 136329814054720, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:43:34.745377+07:00", "timestamp": 1749206614.745377}}}
{"text": "2025-06-06T17:43:34.747791+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.088067", "seconds": 1.088067}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1155469, "name": "MainProcess"}, "thread": {"id": 136329814054720, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:43:34.747791+07:00", "timestamp": 1749206614.747791}}}
{"text": "2025-06-06T17:43:34.748402+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.088678", "seconds": 1.088678}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1155469, "name": "MainProcess"}, "thread": {"id": 136329814054720, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:43:34.748402+07:00", "timestamp": 1749206614.748402}}}
{"text": "2025-06-06T17:43:34.781173+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.121449", "seconds": 1.121449}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1155469, "name": "MainProcess"}, "thread": {"id": 136329725736640, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 17:43:34.781173+07:00", "timestamp": 1749206614.781173}}}
{"text": "2025-06-06T17:43:39.745882+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.086158", "seconds": 6.086158}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 48, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1155469, "name": "MainProcess"}, "thread": {"id": 136329643947712, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:43:39.745882+07:00", "timestamp": 1749206619.745882}}}
{"text": "2025-06-06T17:43:39.761985+0700 INFO Constructed message for Алина: сегодня мир ждёт твоего сияния\n", "record": {"elapsed": {"repr": "0:00:06.102261", "seconds": 6.102261}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 33, "message": "Constructed message for Алина: сегодня мир ждёт твоего сияния", "module": "publisher", "name": "services.publisher", "process": {"id": 1155469, "name": "MainProcess"}, "thread": {"id": 136329643947712, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:43:39.761985+07:00", "timestamp": 1749206619.761985}}}
{"text": "2025-06-06T17:43:41.594815+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:07.935091", "seconds": 7.935091}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1155469, "name": "MainProcess"}, "thread": {"id": 136329814054720, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:43:41.594815+07:00", "timestamp": 1749206621.594815}}}
{"text": "2025-06-06T17:43:41.595226+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.935502", "seconds": 7.935502}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 106, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1155469, "name": "MainProcess"}, "thread": {"id": 136329814054720, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:43:41.595226+07:00", "timestamp": 1749206621.595226}}}
{"text": "2025-06-06T17:43:44.595780+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.936056", "seconds": 10.936056}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 108, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1155469, "name": "MainProcess"}, "thread": {"id": 136329814054720, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:43:44.595780+07:00", "timestamp": 1749206624.59578}}}
{"text": "2025-06-06T17:46:51.683369+0700 CRITICAL \u001b[31mService crashed: 'NoneType' object has no attribute 'scheduled_publish'\n", "record": {"elapsed": {"repr": "0:00:01.048805", "seconds": 1.048805}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: 'NoneType' object has no attribute 'scheduled_publish'", "module": "startup", "name": "__main__", "process": {"id": 1155782, "name": "MainProcess"}, "thread": {"id": 123218178967360, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:46:51.683369+07:00", "timestamp": 1749206811.683369}}}
{"text": "2025-06-06T17:47:45.356053+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.027033", "seconds": 1.027033}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1155927, "name": "MainProcess"}, "thread": {"id": 125571183535936, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:47:45.356053+07:00", "timestamp": 1749206865.356053}}}
{"text": "2025-06-06T17:47:45.357221+0700 CRITICAL \u001b[31mService crashed: 'NoneType' object has no attribute 'scheduled_publish'\n", "record": {"elapsed": {"repr": "0:00:01.028201", "seconds": 1.028201}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: 'NoneType' object has no attribute 'scheduled_publish'", "module": "startup", "name": "__main__", "process": {"id": 1155927, "name": "MainProcess"}, "thread": {"id": 125571183535936, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:47:45.357221+07:00", "timestamp": 1749206865.357221}}}
{"text": "2025-06-06T17:48:30.867166+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.082283", "seconds": 1.082283}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1156066, "name": "MainProcess"}, "thread": {"id": 123253223794496, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:48:30.867166+07:00", "timestamp": 1749206910.867166}}}
{"text": "2025-06-06T17:48:30.879659+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.094776", "seconds": 1.094776}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 49, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1156066, "name": "MainProcess"}, "thread": {"id": 123253223794496, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:48:30.879659+07:00", "timestamp": 1749206910.879659}}}
{"text": "2025-06-06T17:48:30.880218+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.095335", "seconds": 1.095335}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1156066, "name": "MainProcess"}, "thread": {"id": 123253223794496, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:48:30.880218+07:00", "timestamp": 1749206910.880218}}}
{"text": "2025-06-06T17:48:30.912327+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.127444", "seconds": 1.127444}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1156066, "name": "MainProcess"}, "thread": {"id": 123253135767232, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 17:48:30.912327+07:00", "timestamp": 1749206910.912327}}}
{"text": "2025-06-06T17:48:35.880365+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.095482", "seconds": 6.095482}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 48, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1156066, "name": "MainProcess"}, "thread": {"id": 123253127374528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:48:35.880365+07:00", "timestamp": 1749206915.880365}}}
{"text": "2025-06-06T17:48:35.896758+0700 INFO Constructed message for Алина: Твоя жизнь — это твоё произведение искусства.\n", "record": {"elapsed": {"repr": "0:00:06.111875", "seconds": 6.111875}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 33, "message": "Constructed message for Алина: Твоя жизнь — это твоё произведение искусства.", "module": "publisher", "name": "services.publisher", "process": {"id": 1156066, "name": "MainProcess"}, "thread": {"id": 123253127374528, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 17:48:35.896758+07:00", "timestamp": 1749206915.896758}}}
{"text": "2025-06-06T17:48:38.120540+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:08.335657", "seconds": 8.335657}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1156066, "name": "MainProcess"}, "thread": {"id": 123253223794496, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:48:38.120540+07:00", "timestamp": 1749206918.12054}}}
{"text": "2025-06-06T17:48:38.121018+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:08.336135", "seconds": 8.336135}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 109, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1156066, "name": "MainProcess"}, "thread": {"id": 123253223794496, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:48:38.121018+07:00", "timestamp": 1749206918.121018}}}
{"text": "2025-06-06T17:48:41.122045+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:11.337162", "seconds": 11.337162}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 111, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1156066, "name": "MainProcess"}, "thread": {"id": 123253223794496, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:48:41.122045+07:00", "timestamp": 1749206921.122045}}}
{"text": "2025-06-06T17:49:57.106177+0700 CRITICAL \u001b[31mService crashed: TelegramService.__init__() missing 1 required positional argument: 'loop'\n", "record": {"elapsed": {"repr": "0:00:01.034028", "seconds": 1.034028}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: TelegramService.__init__() missing 1 required positional argument: 'loop'", "module": "startup", "name": "__main__", "process": {"id": 1156282, "name": "MainProcess"}, "thread": {"id": 136978991920960, "name": "MainThread"}, "time": {"repr": "2025-06-06 17:49:57.106177+07:00", "timestamp": 1749206997.106177}}}
{"text": "2025-06-06T18:02:15.485130+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.152575", "seconds": 1.152575}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 49, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580335880000, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:02:15.485130+07:00", "timestamp": 1749207735.48513}}}
{"text": "2025-06-06T18:02:15.488029+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.155474", "seconds": 1.155474}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580335880000, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:02:15.488029+07:00", "timestamp": 1749207735.488029}}}
{"text": "2025-06-06T18:02:15.488559+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.156004", "seconds": 1.156004}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580246603456, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:02:15.488559+07:00", "timestamp": 1749207735.488559}}}
{"text": "2025-06-06T18:02:15.488700+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.156145", "seconds": 1.156145}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580335880000, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:02:15.488700+07:00", "timestamp": 1749207735.4887}}}
{"text": "2025-06-06T18:02:20.485722+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.153167", "seconds": 6.153167}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580238210752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:02:20.485722+07:00", "timestamp": 1749207740.485722}}}
{"text": "2025-06-06T18:02:20.502496+0700 INFO Constructed message for Алина: Люди к тебе тянутся, потому что ты искренна.\n", "record": {"elapsed": {"repr": "0:00:06.169941", "seconds": 6.169941}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Алина: Люди к тебе тянутся, потому что ты искренна.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580238210752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:02:20.502496+07:00", "timestamp": 1749207740.502496}}}
{"text": "2025-06-06T18:02:25.485815+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:11.153260", "seconds": 11.15326}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580238210752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:02:25.485815+07:00", "timestamp": 1749207745.485815}}}
{"text": "2025-06-06T18:02:25.502517+0700 INFO Constructed message for Алина: сегодня ты способна на всё, просто верь в себя\n", "record": {"elapsed": {"repr": "0:00:11.169962", "seconds": 11.169962}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Алина: сегодня ты способна на всё, просто верь в себя", "module": "publisher", "name": "services.publisher", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580238210752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:02:25.502517+07:00", "timestamp": 1749207745.502517}}}
{"text": "2025-06-06T18:02:30.485672+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:16.153117", "seconds": 16.153117}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580238210752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:02:30.485672+07:00", "timestamp": 1749207750.485672}}}
{"text": "2025-06-06T18:02:30.502690+0700 INFO Constructed message for Алина: Алина, ты как огонь, согреваешь всех вокруг.\n", "record": {"elapsed": {"repr": "0:00:16.170135", "seconds": 16.170135}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Алина: Алина, ты как огонь, согреваешь всех вокруг.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580238210752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:02:30.502690+07:00", "timestamp": 1749207750.50269}}}
{"text": "2025-06-06T18:02:35.485692+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:21.153137", "seconds": 21.153137}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580238210752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:02:35.485692+07:00", "timestamp": 1749207755.485692}}}
{"text": "2025-06-06T18:02:35.502169+0700 INFO Constructed message for Алина: сегодня можно отпустить все сомнения\n", "record": {"elapsed": {"repr": "0:00:21.169614", "seconds": 21.169614}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Алина: сегодня можно отпустить все сомнения", "module": "publisher", "name": "services.publisher", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580238210752, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:02:35.502169+07:00", "timestamp": 1749207755.502169}}}
{"text": "2025-06-06T18:02:36.840617+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:22.508062", "seconds": 22.508062}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580335880000, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:02:36.840617+07:00", "timestamp": 1749207756.840617}}}
{"text": "2025-06-06T18:02:36.841050+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:22.508495", "seconds": 22.508495}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580335880000, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:02:36.841050+07:00", "timestamp": 1749207756.84105}}}
{"text": "2025-06-06T18:02:39.841325+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:25.508770", "seconds": 25.50877}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157028, "name": "MainProcess"}, "thread": {"id": 135580335880000, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:02:39.841325+07:00", "timestamp": 1749207759.841325}}}
{"text": "2025-06-06T18:03:21.036285+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.164083", "seconds": 1.164083}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 49, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:21.036285+07:00", "timestamp": 1749207801.036285}}}
{"text": "2025-06-06T18:03:21.039209+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.167007", "seconds": 1.167007}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:21.039209+07:00", "timestamp": 1749207801.039209}}}
{"text": "2025-06-06T18:03:21.039735+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.167533", "seconds": 1.167533}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693788018368, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:03:21.039735+07:00", "timestamp": 1749207801.039735}}}
{"text": "2025-06-06T18:03:21.039876+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.167674", "seconds": 1.167674}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:21.039876+07:00", "timestamp": 1749207801.039876}}}
{"text": "2025-06-06T18:03:26.037008+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.164806", "seconds": 6.164806}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.037008+07:00", "timestamp": 1749207806.037008}}}
{"text": "2025-06-06T18:03:26.054042+0700 INFO Constructed message for Алина: Не забывай, что ты уже многого добилась.\n", "record": {"elapsed": {"repr": "0:00:06.181840", "seconds": 6.18184}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Алина: Не забывай, что ты уже многого добилась.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.054042+07:00", "timestamp": 1749207806.054042}}}
{"text": "2025-06-06T18:03:26.076514+0700 INFO Constructed message for Вика: что сегодня может вдохновить тебя на мечту?\n", "record": {"elapsed": {"repr": "0:00:06.204312", "seconds": 6.204312}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Вика: что сегодня может вдохновить тебя на мечту?", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.076514+07:00", "timestamp": 1749207806.076514}}}
{"text": "2025-06-06T18:03:26.095984+0700 INFO Constructed message for Настя: сегодня можно всё, что ты захочешь\n", "record": {"elapsed": {"repr": "0:00:06.223782", "seconds": 6.223782}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Настя: сегодня можно всё, что ты захочешь", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.095984+07:00", "timestamp": 1749207806.095984}}}
{"text": "2025-06-06T18:03:26.114541+0700 INFO Constructed message for Лера: Лера, не парься о том, что думают другие.\n", "record": {"elapsed": {"repr": "0:00:06.242339", "seconds": 6.242339}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Лера: Лера, не парься о том, что думают другие.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.114541+07:00", "timestamp": 1749207806.114541}}}
{"text": "2025-06-06T18:03:26.132962+0700 INFO Constructed message for Ксюша: Ксюша, твоя улыбка — это маленькое солнце.\n", "record": {"elapsed": {"repr": "0:00:06.260760", "seconds": 6.26076}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Ксюша: Ксюша, твоя улыбка — это маленькое солнце.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.132962+07:00", "timestamp": 1749207806.132962}}}
{"text": "2025-06-06T18:03:26.151202+0700 INFO Constructed message for Лиза: что сегодня для тебя самое важное?\n", "record": {"elapsed": {"repr": "0:00:06.279000", "seconds": 6.279}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Лиза: что сегодня для тебя самое важное?", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.151202+07:00", "timestamp": 1749207806.151202}}}
{"text": "2025-06-06T18:03:26.171552+0700 INFO Constructed message for Маша: Твоя энергия заряжает всех вокруг.\n", "record": {"elapsed": {"repr": "0:00:06.299350", "seconds": 6.29935}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Маша: Твоя энергия заряжает всех вокруг.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.171552+07:00", "timestamp": 1749207806.171552}}}
{"text": "2025-06-06T18:03:26.190267+0700 INFO Constructed message for Полина: Твоя сила в твоей уверенности.\n", "record": {"elapsed": {"repr": "0:00:06.318065", "seconds": 6.318065}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Полина: Твоя сила в твоей уверенности.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.190267+07:00", "timestamp": 1749207806.190267}}}
{"text": "2025-06-06T18:03:26.208819+0700 INFO Constructed message for Аня: Сегодня у тебя появится новое вдохновение.\n", "record": {"elapsed": {"repr": "0:00:06.336617", "seconds": 6.336617}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Аня: Сегодня у тебя появится новое вдохновение.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.208819+07:00", "timestamp": 1749207806.208819}}}
{"text": "2025-06-06T18:03:26.227214+0700 INFO Constructed message for Даша: Сегодня тебе точно повезёт, будь готова.\n", "record": {"elapsed": {"repr": "0:00:06.355012", "seconds": 6.355012}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Даша: Сегодня тебе точно повезёт, будь готова.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.227214+07:00", "timestamp": 1749207806.227214}}}
{"text": "2025-06-06T18:03:26.252052+0700 INFO Constructed message for Катя: Если кто-то тебя не ценит, это их упущение.\n", "record": {"elapsed": {"repr": "0:00:06.379850", "seconds": 6.37985}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Катя: Если кто-то тебя не ценит, это их упущение.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693779625664, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:03:26.252052+07:00", "timestamp": 1749207806.252052}}}
{"text": "2025-06-06T18:03:27.039495+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:07.167293", "seconds": 7.167293}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:27.039495+07:00", "timestamp": 1749207807.039495}}}
{"text": "2025-06-06T18:03:27.039895+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.167693", "seconds": 7.167693}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:27.039895+07:00", "timestamp": 1749207807.039895}}}
{"text": "2025-06-06T18:03:27.149210+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7423095aeca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7423095aea20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x742309178ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x742308d23060>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7423093f2fc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7423093f2f20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7423093f4d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x74230931fb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 52, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'Лера, не парься о том, что думают другие.'\n          │    │   │            └ '-1002468795584'\n          │    │   └ <function Bot.send_message at 0x742307229ee0>\n          │    └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n          └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002468795584', text='Лера, не парься о том, что думают другие.', business_connection_id=None, message_...\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002468795584', text='Лера, не парься о том, что думают другие.', business_connection_id=None, message_...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002468795584', text='Лера, не парься о том, что думают другие.', business_connection_id=None, message_...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x742...\n           │    └ ~TelegramType\n           └ <function cast at 0x7423093de520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7423071f1f80>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 120, in check_response\n    raise TelegramBadRequest(method=method, message=description)\n          │                         │               └ 'Bad Request: chat not found'\n          │                         └ SendMessage(chat_id='-1002468795584', text='Лера, не парься о том, что думают другие.', business_connection_id=None, message_...\n          └ <class 'aiogram.exceptions.TelegramBadRequest'>\n\naiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: chat not found\n", "record": {"elapsed": {"repr": "0:00:07.277008", "seconds": 7.277008}, "exception": {"type": "TelegramBadRequest", "value": "Telegram server says - Bad Request: chat not found", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):", "module": "events", "name": "asyncio.events", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693788018368, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:03:27.149210+07:00", "timestamp": 1749207807.14921}}}
{"text": "2025-06-06T18:03:27.177025+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7423095aeca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7423095aea20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x742309178ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x742308d23060>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7423093f2fc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7423093f2f20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7423093f4d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x74230931fb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 52, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'Ксюша, твоя улыбка — это маленькое солнце.'\n          │    │   │            └ '-1002344839925'\n          │    │   └ <function Bot.send_message at 0x742307229ee0>\n          │    └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n          └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002344839925', text='Ксюша, твоя улыбка — это маленькое солнце.', business_connection_id=None, message...\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002344839925', text='Ксюша, твоя улыбка — это маленькое солнце.', business_connection_id=None, message...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002344839925', text='Ксюша, твоя улыбка — это маленькое солнце.', business_connection_id=None, message...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x742...\n           │    └ ~TelegramType\n           └ <function cast at 0x7423093de520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7423071f1f80>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 120, in check_response\n    raise TelegramBadRequest(method=method, message=description)\n          │                         │               └ 'Bad Request: chat not found'\n          │                         └ SendMessage(chat_id='-1002344839925', text='Ксюша, твоя улыбка — это маленькое солнце.', business_connection_id=None, message...\n          └ <class 'aiogram.exceptions.TelegramBadRequest'>\n\naiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: chat not found\n", "record": {"elapsed": {"repr": "0:00:07.304823", "seconds": 7.304823}, "exception": {"type": "TelegramBadRequest", "value": "Telegram server says - Bad Request: chat not found", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):", "module": "events", "name": "asyncio.events", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693788018368, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:03:27.177025+07:00", "timestamp": 1749207807.177025}}}
{"text": "2025-06-06T18:03:27.181397+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7423095aeca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7423095aea20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x742309178ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x742308d23060>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7423093f2fc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7423093f2f20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7423093f4d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x74230931fb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 52, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'Твоя энергия заряжает всех вокруг.'\n          │    │   │            └ '-1002470954597'\n          │    │   └ <function Bot.send_message at 0x742307229ee0>\n          │    └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n          └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002470954597', text='Твоя энергия заряжает всех вокруг.', business_connection_id=None, message_thread_...\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002470954597', text='Твоя энергия заряжает всех вокруг.', business_connection_id=None, message_thread_...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002470954597', text='Твоя энергия заряжает всех вокруг.', business_connection_id=None, message_thread_...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x742...\n           │    └ ~TelegramType\n           └ <function cast at 0x7423093de520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7423071f1f80>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 120, in check_response\n    raise TelegramBadRequest(method=method, message=description)\n          │                         │               └ 'Bad Request: chat not found'\n          │                         └ SendMessage(chat_id='-1002470954597', text='Твоя энергия заряжает всех вокруг.', business_connection_id=None, message_thread_...\n          └ <class 'aiogram.exceptions.TelegramBadRequest'>\n\naiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: chat not found\n", "record": {"elapsed": {"repr": "0:00:07.309195", "seconds": 7.309195}, "exception": {"type": "TelegramBadRequest", "value": "Telegram server says - Bad Request: chat not found", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):", "module": "events", "name": "asyncio.events", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693788018368, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:03:27.181397+07:00", "timestamp": 1749207807.181397}}}
{"text": "2025-06-06T18:03:27.185807+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7423095aeca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7423095aea20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x742309178ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x742308d23060>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7423093f2fc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7423093f2f20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7423093f4d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x74230931fb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 52, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'Твоя сила в твоей уверенности.'\n          │    │   │            └ '-1002434800529'\n          │    │   └ <function Bot.send_message at 0x742307229ee0>\n          │    └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n          └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002434800529', text='Твоя сила в твоей уверенности.', business_connection_id=None, message_thread_id=N...\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002434800529', text='Твоя сила в твоей уверенности.', business_connection_id=None, message_thread_id=N...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002434800529', text='Твоя сила в твоей уверенности.', business_connection_id=None, message_thread_id=N...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x742...\n           │    └ ~TelegramType\n           └ <function cast at 0x7423093de520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7423071f1f80>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 120, in check_response\n    raise TelegramBadRequest(method=method, message=description)\n          │                         │               └ 'Bad Request: chat not found'\n          │                         └ SendMessage(chat_id='-1002434800529', text='Твоя сила в твоей уверенности.', business_connection_id=None, message_thread_id=N...\n          └ <class 'aiogram.exceptions.TelegramBadRequest'>\n\naiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: chat not found\n", "record": {"elapsed": {"repr": "0:00:07.313605", "seconds": 7.313605}, "exception": {"type": "TelegramBadRequest", "value": "Telegram server says - Bad Request: chat not found", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):", "module": "events", "name": "asyncio.events", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693788018368, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:03:27.185807+07:00", "timestamp": 1749207807.185807}}}
{"text": "2025-06-06T18:03:27.207341+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7423095aeca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7423095aea20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x742309178ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x742308d23060>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7423093f2fc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7423093f2f20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7423093f4d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x74230931fb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 52, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'Сегодня тебе точно повезёт, будь готова.'\n          │    │   │            └ '-1002351719046'\n          │    │   └ <function Bot.send_message at 0x742307229ee0>\n          │    └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n          └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002351719046', text='Сегодня тебе точно повезёт, будь готова.', business_connection_id=None, message_t...\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002351719046', text='Сегодня тебе точно повезёт, будь готова.', business_connection_id=None, message_t...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002351719046', text='Сегодня тебе точно повезёт, будь готова.', business_connection_id=None, message_t...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x742...\n           │    └ ~TelegramType\n           └ <function cast at 0x7423093de520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7423071f1f80>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 120, in check_response\n    raise TelegramBadRequest(method=method, message=description)\n          │                         │               └ 'Bad Request: chat not found'\n          │                         └ SendMessage(chat_id='-1002351719046', text='Сегодня тебе точно повезёт, будь готова.', business_connection_id=None, message_t...\n          └ <class 'aiogram.exceptions.TelegramBadRequest'>\n\naiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: chat not found\n", "record": {"elapsed": {"repr": "0:00:07.335139", "seconds": 7.335139}, "exception": {"type": "TelegramBadRequest", "value": "Telegram server says - Bad Request: chat not found", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):", "module": "events", "name": "asyncio.events", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693788018368, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:03:27.207341+07:00", "timestamp": 1749207807.207341}}}
{"text": "2025-06-06T18:03:27.211414+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7423095aeca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7423095aea20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x742309178ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x742308d23060>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7423093f2fc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7423093f2f20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7423093f4d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x74230931fb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 52, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'Если кто-то тебя не ценит, это их упущение.'\n          │    │   │            └ '-1002418708714'\n          │    │   └ <function Bot.send_message at 0x742307229ee0>\n          │    └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n          └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002418708714', text='Если кто-то тебя не ценит, это их упущение.', business_connection_id=None, messag...\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002418708714', text='Если кто-то тебя не ценит, это их упущение.', business_connection_id=None, messag...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002418708714', text='Если кто-то тебя не ценит, это их упущение.', business_connection_id=None, messag...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x742...\n           │    └ ~TelegramType\n           └ <function cast at 0x7423093de520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7423071f1f80>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 120, in check_response\n    raise TelegramBadRequest(method=method, message=description)\n          │                         │               └ 'Bad Request: chat not found'\n          │                         └ SendMessage(chat_id='-1002418708714', text='Если кто-то тебя не ценит, это их упущение.', business_connection_id=None, messag...\n          └ <class 'aiogram.exceptions.TelegramBadRequest'>\n\naiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: chat not found\n", "record": {"elapsed": {"repr": "0:00:07.339212", "seconds": 7.339212}, "exception": {"type": "TelegramBadRequest", "value": "Telegram server says - Bad Request: chat not found", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):", "module": "events", "name": "asyncio.events", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693788018368, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:03:27.211414+07:00", "timestamp": 1749207807.211414}}}
{"text": "2025-06-06T18:03:27.215294+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7423095aeca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7423095aea20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x742309178ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x742308d23060>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7423093f2fc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7423093f2f20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7423093f4d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x74230931fb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 52, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'Сегодня у тебя появится новое вдохновение.'\n          │    │   │            └ '-1002458228603'\n          │    │   └ <function Bot.send_message at 0x742307229ee0>\n          │    └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n          └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002458228603', text='Сегодня у тебя появится новое вдохновение.', business_connection_id=None, message...\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002458228603', text='Сегодня у тебя появится новое вдохновение.', business_connection_id=None, message...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002458228603', text='Сегодня у тебя появится новое вдохновение.', business_connection_id=None, message...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x742...\n           │    └ ~TelegramType\n           └ <function cast at 0x7423093de520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7423071f1f80>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 120, in check_response\n    raise TelegramBadRequest(method=method, message=description)\n          │                         │               └ 'Bad Request: chat not found'\n          │                         └ SendMessage(chat_id='-1002458228603', text='Сегодня у тебя появится новое вдохновение.', business_connection_id=None, message...\n          └ <class 'aiogram.exceptions.TelegramBadRequest'>\n\naiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: chat not found\n", "record": {"elapsed": {"repr": "0:00:07.343092", "seconds": 7.343092}, "exception": {"type": "TelegramBadRequest", "value": "Telegram server says - Bad Request: chat not found", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):", "module": "events", "name": "asyncio.events", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693788018368, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:03:27.215294+07:00", "timestamp": 1749207807.215294}}}
{"text": "2025-06-06T18:03:27.223037+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7423095aeca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7423095aea20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x742309178ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 127693788018368)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x742308d23060>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7423093f2fc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x742309178ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7423093f2f20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7423093f4d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x74230931fb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 52, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'что сегодня для тебя самое важное?'\n          │    │   │            └ '-1002454378134'\n          │    │   └ <function Bot.send_message at 0x742307229ee0>\n          │    └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n          └ <services.telegram_bot.TelegramService object at 0x7423072892b0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002454378134', text='что сегодня для тебя самое важное?', business_connection_id=None, message_thread_...\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002454378134', text='что сегодня для тебя самое важное?', business_connection_id=None, message_thread_...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n                 └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002454378134', text='что сегодня для тебя самое важное?', business_connection_id=None, message_thread_...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7423070e42d0>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x742...\n           │    └ ~TelegramType\n           └ <function cast at 0x7423093de520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7423071f1f80>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7423070e4410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 120, in check_response\n    raise TelegramBadRequest(method=method, message=description)\n          │                         │               └ 'Bad Request: chat not found'\n          │                         └ SendMessage(chat_id='-1002454378134', text='что сегодня для тебя самое важное?', business_connection_id=None, message_thread_...\n          └ <class 'aiogram.exceptions.TelegramBadRequest'>\n\naiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: chat not found\n", "record": {"elapsed": {"repr": "0:00:07.350835", "seconds": 7.350835}, "exception": {"type": "TelegramBadRequest", "value": "Telegram server says - Bad Request: chat not found", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1157321), thread 'Thread-1 (_run_telegram_bot_loop)' (127693788018368):", "module": "events", "name": "asyncio.events", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693788018368, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:03:27.223037+07:00", "timestamp": 1749207807.223037}}}
{"text": "2025-06-06T18:03:29.014315+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:09.142113", "seconds": 9.142113}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:29.014315+07:00", "timestamp": 1749207809.014315}}}
{"text": "2025-06-06T18:03:29.014709+0700 ERROR \u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.\n", "record": {"elapsed": {"repr": "0:00:09.142507", "seconds": 9.142507}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 69, "message": "\u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:29.014709+07:00", "timestamp": 1749207809.014709}}}
{"text": "2025-06-06T18:03:29.216343+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:09.344141", "seconds": 9.344141}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:29.216343+07:00", "timestamp": 1749207809.216343}}}
{"text": "2025-06-06T18:03:29.216731+0700 ERROR \u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.\n", "record": {"elapsed": {"repr": "0:00:09.344529", "seconds": 9.344529}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 69, "message": "\u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:29.216731+07:00", "timestamp": 1749207809.216731}}}
{"text": "2025-06-06T18:03:30.041093+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.168891", "seconds": 10.168891}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157321, "name": "MainProcess"}, "thread": {"id": 127693876107072, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:03:30.041093+07:00", "timestamp": 1749207810.041093}}}
{"text": "2025-06-06T18:09:36.134928+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.123591", "seconds": 1.123591}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 49, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:36.134928+07:00", "timestamp": 1749208176.134928}}}
{"text": "2025-06-06T18:09:36.137751+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.126414", "seconds": 1.126414}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:36.137751+07:00", "timestamp": 1749208176.137751}}}
{"text": "2025-06-06T18:09:36.138291+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.126954", "seconds": 1.126954}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214711908032, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:09:36.138291+07:00", "timestamp": 1749208176.138291}}}
{"text": "2025-06-06T18:09:36.138671+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.127334", "seconds": 1.127334}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:36.138671+07:00", "timestamp": 1749208176.138671}}}
{"text": "2025-06-06T18:09:41.135508+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.124171", "seconds": 6.124171}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.135508+07:00", "timestamp": 1749208181.135508}}}
{"text": "2025-06-06T18:09:41.162065+0700 INFO Constructed message for Алина: запомни этот день, ведь сегодня всё начнется заново\n", "record": {"elapsed": {"repr": "0:00:06.150728", "seconds": 6.150728}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Алина: запомни этот день, ведь сегодня всё начнется заново", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.162065+07:00", "timestamp": 1749208181.162065}}}
{"text": "2025-06-06T18:09:41.191795+0700 INFO Constructed message for Вика: Сегодня всё будет в твою пользу, поверь.\n", "record": {"elapsed": {"repr": "0:00:06.180458", "seconds": 6.180458}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Вика: Сегодня всё будет в твою пользу, поверь.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.191795+07:00", "timestamp": 1749208181.191795}}}
{"text": "2025-06-06T18:09:41.220957+0700 INFO Constructed message for Настя: Каждая мечта заслуживает внимания.\n", "record": {"elapsed": {"repr": "0:00:06.209620", "seconds": 6.20962}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Настя: Каждая мечта заслуживает внимания.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.220957+07:00", "timestamp": 1749208181.220957}}}
{"text": "2025-06-06T18:09:41.248200+0700 INFO Constructed message for Лера: Всё, что тебе нужно, уже в твоих руках.\n", "record": {"elapsed": {"repr": "0:00:06.236863", "seconds": 6.236863}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Лера: Всё, что тебе нужно, уже в твоих руках.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.248200+07:00", "timestamp": 1749208181.2482}}}
{"text": "2025-06-06T18:09:41.275484+0700 INFO Constructed message for Ксюша: что сегодня станет твоим успехом?\n", "record": {"elapsed": {"repr": "0:00:06.264147", "seconds": 6.264147}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Ксюша: что сегодня станет твоим успехом?", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.275484+07:00", "timestamp": 1749208181.275484}}}
{"text": "2025-06-06T18:09:41.302685+0700 INFO Constructed message for Лиза: Иногда нужно просто остановиться и подышать.\n", "record": {"elapsed": {"repr": "0:00:06.291348", "seconds": 6.291348}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Лиза: Иногда нужно просто остановиться и подышать.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.302685+07:00", "timestamp": 1749208181.302685}}}
{"text": "2025-06-06T18:09:41.333958+0700 INFO Constructed message for Маша: Сегодня время для творчества, открой в себе что-то новое.\n", "record": {"elapsed": {"repr": "0:00:06.322621", "seconds": 6.322621}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Маша: Сегодня время для творчества, открой в себе что-то новое.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.333958+07:00", "timestamp": 1749208181.333958}}}
{"text": "2025-06-06T18:09:41.368081+0700 INFO Constructed message for Полина: Полина, ты вдохновение для тех, кто рядом.\n", "record": {"elapsed": {"repr": "0:00:06.356744", "seconds": 6.356744}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Полина: Полина, ты вдохновение для тех, кто рядом.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.368081+07:00", "timestamp": 1749208181.368081}}}
{"text": "2025-06-06T18:09:41.398231+0700 INFO Constructed message for Аня: Твоя сила в твоей искренности.\n", "record": {"elapsed": {"repr": "0:00:06.386894", "seconds": 6.386894}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Аня: Твоя сила в твоей искренности.", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.398231+07:00", "timestamp": 1749208181.398231}}}
{"text": "2025-06-06T18:09:41.427109+0700 INFO Constructed message for Даша: сегодня день, чтобы быть самой собой\n", "record": {"elapsed": {"repr": "0:00:06.415772", "seconds": 6.415772}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Даша: сегодня день, чтобы быть самой собой", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.427109+07:00", "timestamp": 1749208181.427109}}}
{"text": "2025-06-06T18:09:41.456865+0700 INFO Constructed message for Катя: что сегодня дарит тебе надежду?\n", "record": {"elapsed": {"repr": "0:00:06.445528", "seconds": 6.445528}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 30, "message": "Constructed message for Катя: что сегодня дарит тебе надежду?", "module": "publisher", "name": "services.publisher", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214703515328, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 18:09:41.456865+07:00", "timestamp": 1749208181.456865}}}
{"text": "2025-06-06T18:09:44.037396+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:09.026059", "seconds": 9.026059}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:44.037396+07:00", "timestamp": 1749208184.037396}}}
{"text": "2025-06-06T18:09:44.037861+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:09.026524", "seconds": 9.026524}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:44.037861+07:00", "timestamp": 1749208184.037861}}}
{"text": "2025-06-06T18:09:44.237324+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:09.225987", "seconds": 9.225987}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:44.237324+07:00", "timestamp": 1749208184.237324}}}
{"text": "2025-06-06T18:09:44.237692+0700 ERROR \u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.\n", "record": {"elapsed": {"repr": "0:00:09.226355", "seconds": 9.226355}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 69, "message": "\u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:44.237692+07:00", "timestamp": 1749208184.237692}}}
{"text": "2025-06-06T18:09:44.438361+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:09.427024", "seconds": 9.427024}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:44.438361+07:00", "timestamp": 1749208184.438361}}}
{"text": "2025-06-06T18:09:44.438707+0700 ERROR \u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.\n", "record": {"elapsed": {"repr": "0:00:09.427370", "seconds": 9.42737}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 69, "message": "\u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:44.438707+07:00", "timestamp": 1749208184.438707}}}
{"text": "2025-06-06T18:09:47.039023+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:12.027686", "seconds": 12.027686}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1157764, "name": "MainProcess"}, "thread": {"id": 132214801278784, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:09:47.039023+07:00", "timestamp": 1749208187.039023}}}
{"text": "2025-06-06T18:14:17.958733+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.142637", "seconds": 1.142637}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1158209, "name": "MainProcess"}, "thread": {"id": 139569945167680, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:14:17.958733+07:00", "timestamp": 1749208457.958733}}}
{"text": "2025-06-06T18:14:17.961864+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.145768", "seconds": 1.145768}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1158209, "name": "MainProcess"}, "thread": {"id": 139569945167680, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:14:17.961864+07:00", "timestamp": 1749208457.961864}}}
{"text": "2025-06-06T18:14:17.962461+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.146365", "seconds": 1.146365}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1158209, "name": "MainProcess"}, "thread": {"id": 139569945167680, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:14:17.962461+07:00", "timestamp": 1749208457.962461}}}
{"text": "2025-06-06T18:14:17.962623+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.146527", "seconds": 1.146527}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1158209, "name": "MainProcess"}, "thread": {"id": 139569855985344, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:14:17.962623+07:00", "timestamp": 1749208457.962623}}}
{"text": "2025-06-06T18:19:51.038155+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:05:34.222059", "seconds": 334.222059}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1158209, "name": "MainProcess"}, "thread": {"id": 139569945167680, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:19:51.038155+07:00", "timestamp": 1749208791.038155}}}
{"text": "2025-06-06T18:19:51.038880+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:05:34.222784", "seconds": 334.222784}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1158209, "name": "MainProcess"}, "thread": {"id": 139569945167680, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:19:51.038880+07:00", "timestamp": 1749208791.03888}}}
{"text": "2025-06-06T18:19:54.039518+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:05:37.223422", "seconds": 337.223422}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1158209, "name": "MainProcess"}, "thread": {"id": 139569945167680, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:19:54.039518+07:00", "timestamp": 1749208794.039518}}}
{"text": "2025-06-06T18:24:26.708852+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.290823", "seconds": 1.290823}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1159637, "name": "MainProcess"}, "thread": {"id": 134093501581120, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:24:26.708852+07:00", "timestamp": 1749209066.708852}}}
{"text": "2025-06-06T18:24:26.712398+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:01.294369", "seconds": 1.294369}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFk4zcdHiEcipfWNCXNWabf70lFJch9LAQ | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1159637, "name": "MainProcess"}, "thread": {"id": 134093501581120, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:24:26.712398+07:00", "timestamp": 1749209066.712398}}}
{"text": "2025-06-06T18:24:26.712968+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.294939", "seconds": 1.294939}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1159637, "name": "MainProcess"}, "thread": {"id": 134093413021376, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 18:24:26.712968+07:00", "timestamp": 1749209066.712968}}}
{"text": "2025-06-06T18:24:26.713109+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.295080", "seconds": 1.29508}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1159637, "name": "MainProcess"}, "thread": {"id": 134093501581120, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:24:26.713109+07:00", "timestamp": 1749209066.713109}}}
{"text": "2025-06-06T18:24:28.587839+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:03.169810", "seconds": 3.16981}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1159637, "name": "MainProcess"}, "thread": {"id": 134093501581120, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:24:28.587839+07:00", "timestamp": 1749209068.587839}}}
{"text": "2025-06-06T18:24:28.588294+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:03.170265", "seconds": 3.170265}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1159637, "name": "MainProcess"}, "thread": {"id": 134093501581120, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:24:28.588294+07:00", "timestamp": 1749209068.588294}}}
{"text": "2025-06-06T18:24:31.588983+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:06.170954", "seconds": 6.170954}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1159637, "name": "MainProcess"}, "thread": {"id": 134093501581120, "name": "MainThread"}, "time": {"repr": "2025-06-06 18:24:31.588983+07:00", "timestamp": 1749209071.588983}}}
{"text": "2025-06-06T20:11:07.176962+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:02.393670", "seconds": 2.39367}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1166677, "name": "MainProcess"}, "thread": {"id": 140126277912384, "name": "MainThread"}, "time": {"repr": "2025-06-06 20:11:07.176962+07:00", "timestamp": 1749215467.176962}}}
{"text": "2025-06-06T20:11:07.179925+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFlY067U4GIQIUK2YWV3VGtqi9PQkpx788 | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n", "record": {"elapsed": {"repr": "0:00:02.396633", "seconds": 2.396633}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   | bot_token                                      | channels_ids       | admins_ids                   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+================================================+====================+==============================+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     | 7064737344:AAFlY067U4GIQIUK2YWV3VGtqi9PQkpx788 | ['-1002392744548'] | ['1051917971', '6406151982'] |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+------------------------------------------------+--------------------+------------------------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1166677, "name": "MainProcess"}, "thread": {"id": 140126277912384, "name": "MainThread"}, "time": {"repr": "2025-06-06 20:11:07.179925+07:00", "timestamp": 1749215467.179925}}}
{"text": "2025-06-06T20:11:07.180394+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:02.397102", "seconds": 2.397102}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1166677, "name": "MainProcess"}, "thread": {"id": 140126188467904, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 20:11:07.180394+07:00", "timestamp": 1749215467.180394}}}
{"text": "2025-06-06T20:11:07.180557+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:02.397265", "seconds": 2.397265}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1166677, "name": "MainProcess"}, "thread": {"id": 140126277912384, "name": "MainThread"}, "time": {"repr": "2025-06-06 20:11:07.180557+07:00", "timestamp": 1749215467.180557}}}
{"text": "2025-06-06T20:11:10.071493+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:05.288201", "seconds": 5.288201}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1166677, "name": "MainProcess"}, "thread": {"id": 140126277912384, "name": "MainThread"}, "time": {"repr": "2025-06-06 20:11:10.071493+07:00", "timestamp": 1749215470.071493}}}
{"text": "2025-06-06T20:11:10.071854+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:05.288562", "seconds": 5.288562}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1166677, "name": "MainProcess"}, "thread": {"id": 140126277912384, "name": "MainThread"}, "time": {"repr": "2025-06-06 20:11:10.071854+07:00", "timestamp": 1749215470.071854}}}
{"text": "2025-06-06T20:11:13.072430+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:08.289138", "seconds": 8.289138}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1166677, "name": "MainProcess"}, "thread": {"id": 140126277912384, "name": "MainThread"}, "time": {"repr": "2025-06-06 20:11:13.072430+07:00", "timestamp": 1749215473.07243}}}
{"text": "2025-06-06T21:14:30.040046+0700 CRITICAL \u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.\n", "record": {"elapsed": {"repr": "0:00:01.282124", "seconds": 1.282124}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.", "module": "startup", "name": "__main__", "process": {"id": 1168587, "name": "MainProcess"}, "thread": {"id": 138881691924288, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:14:30.040046+07:00", "timestamp": 1749219270.040046}}}
{"text": "2025-06-06T21:14:42.325290+0700 CRITICAL \u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.\n", "record": {"elapsed": {"repr": "0:00:01.181473", "seconds": 1.181473}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.", "module": "startup", "name": "__main__", "process": {"id": 1168708, "name": "MainProcess"}, "thread": {"id": 139311133882176, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:14:42.325290+07:00", "timestamp": 1749219282.32529}}}
{"text": "2025-06-06T21:17:05.747739+0700 CRITICAL \u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.\n", "record": {"elapsed": {"repr": "0:00:01.051211", "seconds": 1.051211}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.", "module": "startup", "name": "__main__", "process": {"id": 1168973, "name": "MainProcess"}, "thread": {"id": 140105705051968, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:17:05.747739+07:00", "timestamp": 1749219425.747739}}}
{"text": "2025-06-06T21:17:12.523290+0700 CRITICAL \u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.\n", "record": {"elapsed": {"repr": "0:00:01.032095", "seconds": 1.032095}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.", "module": "startup", "name": "__main__", "process": {"id": 1169083, "name": "MainProcess"}, "thread": {"id": 139240471893824, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:17:12.523290+07:00", "timestamp": 1749219432.52329}}}
{"text": "2025-06-06T21:18:09.057642+0700 CRITICAL \u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.\n", "record": {"elapsed": {"repr": "0:00:01.091470", "seconds": 1.09147}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.", "module": "startup", "name": "__main__", "process": {"id": 1169219, "name": "MainProcess"}, "thread": {"id": 124265341060928, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:18:09.057642+07:00", "timestamp": 1749219489.057642}}}
{"text": "2025-06-06T21:18:36.957940+0700 CRITICAL \u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.\n", "record": {"elapsed": {"repr": "0:00:01.018552", "seconds": 1.018552}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.", "module": "startup", "name": "__main__", "process": {"id": 1169358, "name": "MainProcess"}, "thread": {"id": 128315000698688, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:18:36.957940+07:00", "timestamp": 1749219516.95794}}}
{"text": "2025-06-06T21:23:34.147473+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.116734", "seconds": 1.116734}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169681, "name": "MainProcess"}, "thread": {"id": 124097695074112, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:23:34.147473+07:00", "timestamp": 1749219814.147473}}}
{"text": "2025-06-06T21:23:34.150560+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.119821", "seconds": 1.119821}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169681, "name": "MainProcess"}, "thread": {"id": 124097695074112, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:23:34.150560+07:00", "timestamp": 1749219814.15056}}}
{"text": "2025-06-06T21:23:34.151092+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.120353", "seconds": 1.120353}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1169681, "name": "MainProcess"}, "thread": {"id": 124097605400256, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:23:34.151092+07:00", "timestamp": 1749219814.151092}}}
{"text": "2025-06-06T21:23:34.151212+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.120473", "seconds": 1.120473}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169681, "name": "MainProcess"}, "thread": {"id": 124097695074112, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:23:34.151212+07:00", "timestamp": 1749219814.151212}}}
{"text": "2025-06-06T21:23:38.991917+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:05.961178", "seconds": 5.961178}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169681, "name": "MainProcess"}, "thread": {"id": 124097695074112, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:23:38.991917+07:00", "timestamp": 1749219818.991917}}}
{"text": "2025-06-06T21:23:38.992396+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:05.961657", "seconds": 5.961657}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169681, "name": "MainProcess"}, "thread": {"id": 124097695074112, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:23:38.992396+07:00", "timestamp": 1749219818.992396}}}
{"text": "2025-06-06T21:23:41.992857+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:08.962118", "seconds": 8.962118}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169681, "name": "MainProcess"}, "thread": {"id": 124097695074112, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:23:41.992857+07:00", "timestamp": 1749219821.992857}}}
{"text": "2025-06-06T21:24:11.322225+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.099962", "seconds": 1.099962}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169833, "name": "MainProcess"}, "thread": {"id": 123427176867648, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:11.322225+07:00", "timestamp": 1749219851.322225}}}
{"text": "2025-06-06T21:24:11.324396+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.102133", "seconds": 1.102133}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169833, "name": "MainProcess"}, "thread": {"id": 123427176867648, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:11.324396+07:00", "timestamp": 1749219851.324396}}}
{"text": "2025-06-06T21:24:11.324975+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.102712", "seconds": 1.102712}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169833, "name": "MainProcess"}, "thread": {"id": 123427176867648, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:11.324975+07:00", "timestamp": 1749219851.324975}}}
{"text": "2025-06-06T21:24:11.325569+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.103306", "seconds": 1.103306}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1169833, "name": "MainProcess"}, "thread": {"id": 123427088234176, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:24:11.325569+07:00", "timestamp": 1749219851.325569}}}
{"text": "2025-06-06T21:24:13.616729+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:03.394466", "seconds": 3.394466}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169833, "name": "MainProcess"}, "thread": {"id": 123427176867648, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:13.616729+07:00", "timestamp": 1749219853.616729}}}
{"text": "2025-06-06T21:24:13.617124+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:03.394861", "seconds": 3.394861}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169833, "name": "MainProcess"}, "thread": {"id": 123427176867648, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:13.617124+07:00", "timestamp": 1749219853.617124}}}
{"text": "2025-06-06T21:24:16.617552+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:06.395289", "seconds": 6.395289}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169833, "name": "MainProcess"}, "thread": {"id": 123427176867648, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:16.617552+07:00", "timestamp": 1749219856.617552}}}
{"text": "2025-06-06T21:24:24.862967+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.115906", "seconds": 1.115906}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169993, "name": "MainProcess"}, "thread": {"id": 133614998710080, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:24.862967+07:00", "timestamp": 1749219864.862967}}}
{"text": "2025-06-06T21:24:24.865405+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.118344", "seconds": 1.118344}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169993, "name": "MainProcess"}, "thread": {"id": 133614998710080, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:24.865405+07:00", "timestamp": 1749219864.865405}}}
{"text": "2025-06-06T21:24:24.866219+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.119158", "seconds": 1.119158}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1169993, "name": "MainProcess"}, "thread": {"id": 133614908995264, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:24:24.866219+07:00", "timestamp": 1749219864.866219}}}
{"text": "2025-06-06T21:24:24.866354+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.119293", "seconds": 1.119293}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169993, "name": "MainProcess"}, "thread": {"id": 133614998710080, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:24.866354+07:00", "timestamp": 1749219864.866354}}}
{"text": "2025-06-06T21:24:30.191830+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:06.444769", "seconds": 6.444769}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169993, "name": "MainProcess"}, "thread": {"id": 133614998710080, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:30.191830+07:00", "timestamp": 1749219870.19183}}}
{"text": "2025-06-06T21:24:30.192210+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:06.445149", "seconds": 6.445149}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169993, "name": "MainProcess"}, "thread": {"id": 133614998710080, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:30.192210+07:00", "timestamp": 1749219870.19221}}}
{"text": "2025-06-06T21:24:33.192904+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:09.445843", "seconds": 9.445843}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1169993, "name": "MainProcess"}, "thread": {"id": 133614998710080, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:24:33.192904+07:00", "timestamp": 1749219873.192904}}}
{"text": "2025-06-06T21:25:01.849629+0700 CRITICAL \u001b[31mService crashed: 'NoneType' object is not subscriptable\n", "record": {"elapsed": {"repr": "0:00:01.109319", "seconds": 1.109319}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: 'NoneType' object is not subscriptable", "module": "startup", "name": "__main__", "process": {"id": 1170138, "name": "MainProcess"}, "thread": {"id": 124199338288960, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:25:01.849629+07:00", "timestamp": 1749219901.849629}}}
{"text": "2025-06-06T21:25:18.085240+0700 CRITICAL \u001b[31mService crashed: 'NoneType' object is not subscriptable\n", "record": {"elapsed": {"repr": "0:00:01.138896", "seconds": 1.138896}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: 'NoneType' object is not subscriptable", "module": "startup", "name": "__main__", "process": {"id": 1170247, "name": "MainProcess"}, "thread": {"id": 132657602602816, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:25:18.085240+07:00", "timestamp": 1749219918.08524}}}
{"text": "2025-06-06T21:25:24.956582+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.052781", "seconds": 1.052781}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170358, "name": "MainProcess"}, "thread": {"id": 125418477057856, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:25:24.956582+07:00", "timestamp": 1749219924.956582}}}
{"text": "2025-06-06T21:25:24.958790+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.054989", "seconds": 1.054989}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170358, "name": "MainProcess"}, "thread": {"id": 125418477057856, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:25:24.958790+07:00", "timestamp": 1749219924.95879}}}
{"text": "2025-06-06T21:25:24.959295+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.055494", "seconds": 1.055494}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1170358, "name": "MainProcess"}, "thread": {"id": 125418387535552, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:25:24.959295+07:00", "timestamp": 1749219924.959295}}}
{"text": "2025-06-06T21:25:24.959534+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.055733", "seconds": 1.055733}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170358, "name": "MainProcess"}, "thread": {"id": 125418477057856, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:25:24.959534+07:00", "timestamp": 1749219924.959534}}}
{"text": "2025-06-06T21:25:28.567776+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:04.663975", "seconds": 4.663975}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170358, "name": "MainProcess"}, "thread": {"id": 125418477057856, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:25:28.567776+07:00", "timestamp": 1749219928.567776}}}
{"text": "2025-06-06T21:25:28.568235+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:04.664434", "seconds": 4.664434}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170358, "name": "MainProcess"}, "thread": {"id": 125418477057856, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:25:28.568235+07:00", "timestamp": 1749219928.568235}}}
{"text": "2025-06-06T21:25:31.568982+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:07.665181", "seconds": 7.665181}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170358, "name": "MainProcess"}, "thread": {"id": 125418477057856, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:25:31.568982+07:00", "timestamp": 1749219931.568982}}}
{"text": "2025-06-06T21:27:01.555456+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.111445", "seconds": 1.111445}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170661, "name": "MainProcess"}, "thread": {"id": 123259061237568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:01.555456+07:00", "timestamp": 1749220021.555456}}}
{"text": "2025-06-06T21:27:01.557978+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.113967", "seconds": 1.113967}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170661, "name": "MainProcess"}, "thread": {"id": 123259061237568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:01.557978+07:00", "timestamp": 1749220021.557978}}}
{"text": "2025-06-06T21:27:01.558523+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.114512", "seconds": 1.114512}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1170661, "name": "MainProcess"}, "thread": {"id": 123258997307072, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:27:01.558523+07:00", "timestamp": 1749220021.558523}}}
{"text": "2025-06-06T21:27:01.558704+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.114693", "seconds": 1.114693}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170661, "name": "MainProcess"}, "thread": {"id": 123259061237568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:01.558704+07:00", "timestamp": 1749220021.558704}}}
{"text": "2025-06-06T21:27:03.694506+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:03.250495", "seconds": 3.250495}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170661, "name": "MainProcess"}, "thread": {"id": 123259061237568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:03.694506+07:00", "timestamp": 1749220023.694506}}}
{"text": "2025-06-06T21:27:03.694914+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:03.250903", "seconds": 3.250903}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170661, "name": "MainProcess"}, "thread": {"id": 123259061237568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:03.694914+07:00", "timestamp": 1749220023.694914}}}
{"text": "2025-06-06T21:27:06.695423+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:06.251412", "seconds": 6.251412}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170661, "name": "MainProcess"}, "thread": {"id": 123259061237568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:06.695423+07:00", "timestamp": 1749220026.695423}}}
{"text": "2025-06-06T21:27:31.105202+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.212708", "seconds": 1.212708}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170854, "name": "MainProcess"}, "thread": {"id": 123178933233472, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:31.105202+07:00", "timestamp": 1749220051.105202}}}
{"text": "2025-06-06T21:27:31.107270+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.214776", "seconds": 1.214776}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170854, "name": "MainProcess"}, "thread": {"id": 123178933233472, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:31.107270+07:00", "timestamp": 1749220051.10727}}}
{"text": "2025-06-06T21:27:31.107723+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.215229", "seconds": 1.215229}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1170854, "name": "MainProcess"}, "thread": {"id": 123178869323456, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:27:31.107723+07:00", "timestamp": 1749220051.107723}}}
{"text": "2025-06-06T21:27:31.107860+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.215366", "seconds": 1.215366}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170854, "name": "MainProcess"}, "thread": {"id": 123178933233472, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:31.107860+07:00", "timestamp": 1749220051.10786}}}
{"text": "2025-06-06T21:27:32.101979+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:02.209485", "seconds": 2.209485}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170854, "name": "MainProcess"}, "thread": {"id": 123178933233472, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:32.101979+07:00", "timestamp": 1749220052.101979}}}
{"text": "2025-06-06T21:27:32.102373+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:02.209879", "seconds": 2.209879}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170854, "name": "MainProcess"}, "thread": {"id": 123178933233472, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:32.102373+07:00", "timestamp": 1749220052.102373}}}
{"text": "2025-06-06T21:27:35.102995+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:05.210501", "seconds": 5.210501}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1170854, "name": "MainProcess"}, "thread": {"id": 123178933233472, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:27:35.102995+07:00", "timestamp": 1749220055.102995}}}
{"text": "2025-06-06T21:29:42.766972+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.965925", "seconds": 1.965925}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1171188, "name": "MainProcess"}, "thread": {"id": 123457474418496, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:29:42.766972+07:00", "timestamp": 1749220182.766972}}}
{"text": "2025-06-06T21:29:42.780437+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.979390", "seconds": 1.97939}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n|   retry_count |   retry_delay | timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+===============+===============+==============+================+=============+======================+==============+===============+============+\n|            10 |            30 | Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+---------------+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1171188, "name": "MainProcess"}, "thread": {"id": 123457474418496, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:29:42.780437+07:00", "timestamp": 1749220182.780437}}}
{"text": "2025-06-06T21:29:42.781091+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.980044", "seconds": 1.980044}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1171188, "name": "MainProcess"}, "thread": {"id": 123457383691968, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:29:42.781091+07:00", "timestamp": 1749220182.781091}}}
{"text": "2025-06-06T21:29:42.781317+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.980270", "seconds": 1.98027}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1171188, "name": "MainProcess"}, "thread": {"id": 123457474418496, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:29:42.781317+07:00", "timestamp": 1749220182.781317}}}
{"text": "2025-06-06T21:29:48.172965+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:07.371918", "seconds": 7.371918}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1171188, "name": "MainProcess"}, "thread": {"id": 123457474418496, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:29:48.172965+07:00", "timestamp": 1749220188.172965}}}
{"text": "2025-06-06T21:29:48.173420+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:07.372373", "seconds": 7.372373}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1171188, "name": "MainProcess"}, "thread": {"id": 123457474418496, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:29:48.173420+07:00", "timestamp": 1749220188.17342}}}
{"text": "2025-06-06T21:29:51.173786+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:10.372739", "seconds": 10.372739}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1171188, "name": "MainProcess"}, "thread": {"id": 123457474418496, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:29:51.173786+07:00", "timestamp": 1749220191.173786}}}
{"text": "2025-06-06T21:37:22.164495+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.146249", "seconds": 1.146249}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173047, "name": "MainProcess"}, "thread": {"id": 139463678916416, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:22.164495+07:00", "timestamp": 1749220642.164495}}}
{"text": "2025-06-06T21:37:22.167825+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.149579", "seconds": 1.149579}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173047, "name": "MainProcess"}, "thread": {"id": 139463678916416, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:22.167825+07:00", "timestamp": 1749220642.167825}}}
{"text": "2025-06-06T21:37:22.168386+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.150140", "seconds": 1.15014}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1173047, "name": "MainProcess"}, "thread": {"id": 139463590147776, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:37:22.168386+07:00", "timestamp": 1749220642.168386}}}
{"text": "2025-06-06T21:37:22.168588+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.150342", "seconds": 1.150342}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173047, "name": "MainProcess"}, "thread": {"id": 139463678916416, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:22.168588+07:00", "timestamp": 1749220642.168588}}}
{"text": "2025-06-06T21:37:24.706691+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:03.688445", "seconds": 3.688445}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173047, "name": "MainProcess"}, "thread": {"id": 139463678916416, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:24.706691+07:00", "timestamp": 1749220644.706691}}}
{"text": "2025-06-06T21:37:24.707158+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:03.688912", "seconds": 3.688912}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173047, "name": "MainProcess"}, "thread": {"id": 139463678916416, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:24.707158+07:00", "timestamp": 1749220644.707158}}}
{"text": "2025-06-06T21:37:27.707659+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:06.689413", "seconds": 6.689413}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173047, "name": "MainProcess"}, "thread": {"id": 139463678916416, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:27.707659+07:00", "timestamp": 1749220647.707659}}}
{"text": "2025-06-06T21:37:44.758993+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.068907", "seconds": 1.068907}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173282, "name": "MainProcess"}, "thread": {"id": 129765652653888, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:44.758993+07:00", "timestamp": 1749220664.758993}}}
{"text": "2025-06-06T21:37:44.761120+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.071034", "seconds": 1.071034}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173282, "name": "MainProcess"}, "thread": {"id": 129765652653888, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:44.761120+07:00", "timestamp": 1749220664.76112}}}
{"text": "2025-06-06T21:37:44.761633+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.071547", "seconds": 1.071547}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1173282, "name": "MainProcess"}, "thread": {"id": 129765564479168, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:37:44.761633+07:00", "timestamp": 1749220664.761633}}}
{"text": "2025-06-06T21:37:44.761771+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.071685", "seconds": 1.071685}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173282, "name": "MainProcess"}, "thread": {"id": 129765652653888, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:44.761771+07:00", "timestamp": 1749220664.761771}}}
{"text": "2025-06-06T21:37:47.282496+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:03.592410", "seconds": 3.59241}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173282, "name": "MainProcess"}, "thread": {"id": 129765652653888, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:47.282496+07:00", "timestamp": 1749220667.282496}}}
{"text": "2025-06-06T21:37:47.282975+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:03.592889", "seconds": 3.592889}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173282, "name": "MainProcess"}, "thread": {"id": 129765652653888, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:47.282975+07:00", "timestamp": 1749220667.282975}}}
{"text": "2025-06-06T21:37:50.283660+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:06.593574", "seconds": 6.593574}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173282, "name": "MainProcess"}, "thread": {"id": 129765652653888, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:37:50.283660+07:00", "timestamp": 1749220670.28366}}}
{"text": "2025-06-06T21:41:48.681926+0700 CRITICAL Config load failed: File must be opened in binary mode, e.g. use `open('foo.toml', 'rb')`\n", "record": {"elapsed": {"repr": "0:00:01.021224", "seconds": 1.021224}, "exception": null, "extra": {"error": "File must be opened in binary mode, e.g. use `open('foo.toml', 'rb')`"}, "file": {"name": "config.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/config.py"}, "function": "_load", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 26, "message": "Config load failed: File must be opened in binary mode, e.g. use `open('foo.toml', 'rb')`", "module": "config", "name": "core.config", "process": {"id": 1173747, "name": "MainProcess"}, "thread": {"id": 124237083604800, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:41:48.681926+07:00", "timestamp": 1749220908.681926}}}
{"text": "2025-06-06T21:41:48.682302+0700 CRITICAL \u001b[31mService crashed: File must be opened in binary mode, e.g. use `open('foo.toml', 'rb')`\n", "record": {"elapsed": {"repr": "0:00:01.021600", "seconds": 1.0216}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: File must be opened in binary mode, e.g. use `open('foo.toml', 'rb')`", "module": "startup", "name": "__main__", "process": {"id": 1173747, "name": "MainProcess"}, "thread": {"id": 124237083604800, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:41:48.682302+07:00", "timestamp": 1749220908.682302}}}
{"text": "2025-06-06T21:43:18.941667+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.138876", "seconds": 1.138876}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173887, "name": "MainProcess"}, "thread": {"id": 130073611253568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:43:18.941667+07:00", "timestamp": 1749220998.941667}}}
{"text": "2025-06-06T21:43:18.943914+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.141123", "seconds": 1.141123}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173887, "name": "MainProcess"}, "thread": {"id": 130073611253568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:43:18.943914+07:00", "timestamp": 1749220998.943914}}}
{"text": "2025-06-06T21:43:18.944496+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.141705", "seconds": 1.141705}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1173887, "name": "MainProcess"}, "thread": {"id": 130073522861760, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:43:18.944496+07:00", "timestamp": 1749220998.944496}}}
{"text": "2025-06-06T21:43:18.944630+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.141839", "seconds": 1.141839}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173887, "name": "MainProcess"}, "thread": {"id": 130073611253568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:43:18.944630+07:00", "timestamp": 1749220998.94463}}}
{"text": "2025-06-06T21:43:32.814438+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:15.011647", "seconds": 15.011647}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173887, "name": "MainProcess"}, "thread": {"id": 130073611253568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:43:32.814438+07:00", "timestamp": 1749221012.814438}}}
{"text": "2025-06-06T21:43:32.814953+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:15.012162", "seconds": 15.012162}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173887, "name": "MainProcess"}, "thread": {"id": 130073611253568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:43:32.814953+07:00", "timestamp": 1749221012.814953}}}
{"text": "2025-06-06T21:43:35.815344+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:18.012553", "seconds": 18.012553}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1173887, "name": "MainProcess"}, "thread": {"id": 130073611253568, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:43:35.815344+07:00", "timestamp": 1749221015.815344}}}
{"text": "2025-06-06T21:44:39.428283+0700 INFO Job scheduled: 8, 14, 20:00\n", "record": {"elapsed": {"repr": "0:00:01.080632", "seconds": 1.080632}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "Job scheduled: 8, 14, 20:00", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1174100, "name": "MainProcess"}, "thread": {"id": 128478433437504, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:44:39.428283+07:00", "timestamp": 1749221079.428283}}}
{"text": "2025-06-06T21:44:39.430488+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.082837", "seconds": 1.082837}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1174100, "name": "MainProcess"}, "thread": {"id": 128478433437504, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:44:39.430488+07:00", "timestamp": 1749221079.430488}}}
{"text": "2025-06-06T21:44:39.431004+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.083353", "seconds": 1.083353}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1174100, "name": "MainProcess"}, "thread": {"id": 128478344115904, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 21:44:39.431004+07:00", "timestamp": 1749221079.431004}}}
{"text": "2025-06-06T21:44:39.431141+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.083490", "seconds": 1.08349}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1174100, "name": "MainProcess"}, "thread": {"id": 128478433437504, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:44:39.431141+07:00", "timestamp": 1749221079.431141}}}
{"text": "2025-06-06T21:44:43.190734+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:04.843083", "seconds": 4.843083}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1174100, "name": "MainProcess"}, "thread": {"id": 128478433437504, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:44:43.190734+07:00", "timestamp": 1749221083.190734}}}
{"text": "2025-06-06T21:44:43.191151+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:04.843500", "seconds": 4.8435}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1174100, "name": "MainProcess"}, "thread": {"id": 128478433437504, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:44:43.191151+07:00", "timestamp": 1749221083.191151}}}
{"text": "2025-06-06T21:44:46.191546+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:07.843895", "seconds": 7.843895}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1174100, "name": "MainProcess"}, "thread": {"id": 128478433437504, "name": "MainThread"}, "time": {"repr": "2025-06-06 21:44:46.191546+07:00", "timestamp": 1749221086.191546}}}
{"text": "2025-06-06T22:03:25.004991+0700 INFO load_env_var\n", "record": {"elapsed": {"repr": "0:00:01.122327", "seconds": 1.122327}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "load_env_var", "module": "utils", "name": "core.utils", "process": {"id": 1175190, "name": "MainProcess"}, "thread": {"id": 134126569641792, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:03:25.004991+07:00", "timestamp": 1749222205.004991}}}
{"text": "2025-06-06T22:03:25.005666+0700 CRITICAL Error with load_env_var\n'bot_token'\n", "record": {"elapsed": {"repr": "0:00:01.123002", "seconds": 1.123002}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 14, "message": "Error with load_env_var\n'bot_token'", "module": "utils", "name": "core.utils", "process": {"id": 1175190, "name": "MainProcess"}, "thread": {"id": 134126569641792, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:03:25.005666+07:00", "timestamp": 1749222205.005666}}}
{"text": "2025-06-06T22:03:25.005929+0700 INFO load_env_var\n", "record": {"elapsed": {"repr": "0:00:01.123265", "seconds": 1.123265}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "load_env_var", "module": "utils", "name": "core.utils", "process": {"id": 1175190, "name": "MainProcess"}, "thread": {"id": 134126569641792, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:03:25.005929+07:00", "timestamp": 1749222205.005929}}}
{"text": "2025-06-06T22:03:25.006199+0700 CRITICAL Error with load_env_var\n'admin_id'\n", "record": {"elapsed": {"repr": "0:00:01.123535", "seconds": 1.123535}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 14, "message": "Error with load_env_var\n'admin_id'", "module": "utils", "name": "core.utils", "process": {"id": 1175190, "name": "MainProcess"}, "thread": {"id": 134126569641792, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:03:25.006199+07:00", "timestamp": 1749222205.006199}}}
{"text": "2025-06-06T22:03:25.006363+0700 CRITICAL \u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.\n", "record": {"elapsed": {"repr": "0:00:01.123699", "seconds": 1.123699}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.", "module": "startup", "name": "__main__", "process": {"id": 1175190, "name": "MainProcess"}, "thread": {"id": 134126569641792, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:03:25.006363+07:00", "timestamp": 1749222205.006363}}}
{"text": "2025-06-06T22:04:10.399487+0700 INFO load_env_var\n", "record": {"elapsed": {"repr": "0:00:01.059307", "seconds": 1.059307}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "load_env_var", "module": "utils", "name": "core.utils", "process": {"id": 1175314, "name": "MainProcess"}, "thread": {"id": 126625692239680, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:04:10.399487+07:00", "timestamp": 1749222250.399487}}}
{"text": "2025-06-06T22:04:10.399916+0700 CRITICAL Error with load_env_var\n'bot_token'\n", "record": {"elapsed": {"repr": "0:00:01.059736", "seconds": 1.059736}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 14, "message": "Error with load_env_var\n'bot_token'", "module": "utils", "name": "core.utils", "process": {"id": 1175314, "name": "MainProcess"}, "thread": {"id": 126625692239680, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:04:10.399916+07:00", "timestamp": 1749222250.399916}}}
{"text": "2025-06-06T22:04:10.400156+0700 INFO load_env_var\n", "record": {"elapsed": {"repr": "0:00:01.059976", "seconds": 1.059976}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "load_env_var", "module": "utils", "name": "core.utils", "process": {"id": 1175314, "name": "MainProcess"}, "thread": {"id": 126625692239680, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:04:10.400156+07:00", "timestamp": 1749222250.400156}}}
{"text": "2025-06-06T22:04:10.400357+0700 CRITICAL Error with load_env_var\n'admin_id'\n", "record": {"elapsed": {"repr": "0:00:01.060177", "seconds": 1.060177}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 14, "message": "Error with load_env_var\n'admin_id'", "module": "utils", "name": "core.utils", "process": {"id": 1175314, "name": "MainProcess"}, "thread": {"id": 126625692239680, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:04:10.400357+07:00", "timestamp": 1749222250.400357}}}
{"text": "2025-06-06T22:04:10.400489+0700 CRITICAL \u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.\n", "record": {"elapsed": {"repr": "0:00:01.060309", "seconds": 1.060309}, "exception": null, "extra": {}, "file": {"name": "startup.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/startup.py"}, "function": "<module>", "level": {"icon": "☠️", "name": "CRITICAL", "no": 50}, "line": 61, "message": "\u001b[31mService crashed: Token is invalid! It must be 'str' type instead of <class 'NoneType'> type.", "module": "startup", "name": "__main__", "process": {"id": 1175314, "name": "MainProcess"}, "thread": {"id": 126625692239680, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:04:10.400489+07:00", "timestamp": 1749222250.400489}}}
{"text": "2025-06-06T22:06:45.957107+0700 INFO load_env_var\n", "record": {"elapsed": {"repr": "0:00:01.110214", "seconds": 1.110214}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "load_env_var", "module": "utils", "name": "core.utils", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:45.957107+07:00", "timestamp": 1749222405.957107}}}
{"text": "2025-06-06T22:06:45.957808+0700 INFO load_env_var\n", "record": {"elapsed": {"repr": "0:00:01.110915", "seconds": 1.110915}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "load_env_var", "module": "utils", "name": "core.utils", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:45.957808+07:00", "timestamp": 1749222405.957808}}}
{"text": "2025-06-06T22:06:46.001084+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.154191", "seconds": 1.154191}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 49, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:46.001084+07:00", "timestamp": 1749222406.001084}}}
{"text": "2025-06-06T22:06:46.004166+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.157273", "seconds": 1.157273}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:46.004166+07:00", "timestamp": 1749222406.004166}}}
{"text": "2025-06-06T22:06:46.004580+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.157687", "seconds": 1.157687}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340761999040, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 22:06:46.004580+07:00", "timestamp": 1749222406.00458}}}
{"text": "2025-06-06T22:06:46.004702+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.157809", "seconds": 1.157809}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:46.004702+07:00", "timestamp": 1749222406.004702}}}
{"text": "2025-06-06T22:06:51.001737+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.154844", "seconds": 6.154844}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340753606336, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:06:51.001737+07:00", "timestamp": 1749222411.001737}}}
{"text": "2025-06-06T22:06:51.005073+0700 INFO load_env_var\n", "record": {"elapsed": {"repr": "0:00:06.158180", "seconds": 6.15818}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "load_env_var", "module": "utils", "name": "core.utils", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340753606336, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:06:51.005073+07:00", "timestamp": 1749222411.005073}}}
{"text": "2025-06-06T22:06:51.005501+0700 INFO load_env_var\n", "record": {"elapsed": {"repr": "0:00:06.158608", "seconds": 6.158608}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "load_env_var", "module": "utils", "name": "core.utils", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340753606336, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:06:51.005501+07:00", "timestamp": 1749222411.005501}}}
{"text": "2025-06-06T22:06:51.005845+0700 INFO load_env_var\n", "record": {"elapsed": {"repr": "0:00:06.158952", "seconds": 6.158952}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "load_env_var", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "load_env_var", "module": "utils", "name": "core.utils", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340753606336, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:06:51.005845+07:00", "timestamp": 1749222411.005845}}}
{"text": "2025-06-06T22:06:51.031249+0700 INFO Constructed message for Алина: сегодня день для великих дел\n", "record": {"elapsed": {"repr": "0:00:06.184356", "seconds": 6.184356}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Алина: сегодня день для великих дел", "module": "publisher", "name": "services.publisher", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340753606336, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:06:51.031249+07:00", "timestamp": 1749222411.031249}}}
{"text": "2025-06-06T22:06:53.089830+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:08.242937", "seconds": 8.242937}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:53.089830+07:00", "timestamp": 1749222413.08983}}}
{"text": "2025-06-06T22:06:53.090290+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:08.243397", "seconds": 8.243397}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:53.090290+07:00", "timestamp": 1749222413.09029}}}
{"text": "2025-06-06T22:06:53.762167+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1175556), thread 'Thread-1 (_run_telegram_bot_loop)' (136340761999040):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7c0051322ca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 136340761999040)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7c0051322a20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 136340761999040)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 136340761999040)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 136340761999040)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x7c0050e98ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 136340761999040)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x7c004fd056c0>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7c004efb57f0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x7c0050e98ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7c0050f0afc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x7c0050e98ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7c0050f0af20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7c0050f10d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7c005109bb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 57, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'сегодня день для великих дел'\n          │    │   │            └ '-1002392744548'\n          │    │   └ <function Bot.send_message at 0x7c004ef889a0>\n          │    └ <aiogram.client.bot.Bot object at 0x7c004eb50410>\n          └ <services.telegram_bot.TelegramService object at 0x7c004efb57f0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002392744548', text='сегодня день для великих дел', business_connection_id=None, message_thread_id=Non...\n                 └ <aiogram.client.bot.Bot object at 0x7c004eb50410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002392744548', text='сегодня день для великих дел', business_connection_id=None, message_thread_id=Non...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7c004eb50410>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7c004eb50550>\n                 └ <aiogram.client.bot.Bot object at 0x7c004eb50410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002392744548', text='сегодня день для великих дел', business_connection_id=None, message_thread_id=Non...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7c004eb50410>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x7c0...\n           │    └ ~TelegramType\n           └ <function cast at 0x7c005115a520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7c004ef414e0>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7c004eb50550>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 126, in check_response\n    raise TelegramUnauthorizedError(method=method, message=description)\n          │                                │               └ 'Unauthorized'\n          │                                └ SendMessage(chat_id='-1002392744548', text='сегодня день для великих дел', business_connection_id=None, message_thread_id=Non...\n          └ <class 'aiogram.exceptions.TelegramUnauthorizedError'>\n\naiogram.exceptions.TelegramUnauthorizedError: Telegram server says - Unauthorized\n", "record": {"elapsed": {"repr": "0:00:08.915274", "seconds": 8.915274}, "exception": {"type": "TelegramUnauthorizedError", "value": "Telegram server says - Unauthorized", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1175556), thread 'Thread-1 (_run_telegram_bot_loop)' (136340761999040):", "module": "events", "name": "asyncio.events", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340761999040, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 22:06:53.762167+07:00", "timestamp": 1749222413.762167}}}
{"text": "2025-06-06T22:06:55.014734+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:10.167841", "seconds": 10.167841}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:55.014734+07:00", "timestamp": 1749222415.014734}}}
{"text": "2025-06-06T22:06:55.015058+0700 ERROR \u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.\n", "record": {"elapsed": {"repr": "0:00:10.168165", "seconds": 10.168165}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 69, "message": "\u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:55.015058+07:00", "timestamp": 1749222415.015058}}}
{"text": "2025-06-06T22:06:55.216615+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:10.369722", "seconds": 10.369722}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:55.216615+07:00", "timestamp": 1749222415.216615}}}
{"text": "2025-06-06T22:06:55.216913+0700 ERROR \u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.\n", "record": {"elapsed": {"repr": "0:00:10.370020", "seconds": 10.37002}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 69, "message": "\u001b[31mError during tebe_znak_telegram shutdown: Scheduler is not running.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:55.216913+07:00", "timestamp": 1749222415.216913}}}
{"text": "2025-06-06T22:06:56.091585+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:11.244692", "seconds": 11.244692}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175556, "name": "MainProcess"}, "thread": {"id": 136340824999744, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:06:56.091585+07:00", "timestamp": 1749222416.091585}}}
{"text": "2025-06-06T22:08:29.882405+0700 ERROR YA EBLAN\n", "record": {"elapsed": {"repr": "0:00:01.070752", "seconds": 1.070752}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "__init__", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 10, "message": "YA EBLAN", "module": "utils", "name": "core.utils", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096303773504, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:08:29.882405+07:00", "timestamp": 1749222509.882405}}}
{"text": "2025-06-06T22:08:29.912315+0700 ERROR YA EBLAN\n", "record": {"elapsed": {"repr": "0:00:01.100662", "seconds": 1.100662}, "exception": null, "extra": {}, "file": {"name": "utils.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/core/utils.py"}, "function": "__init__", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 10, "message": "YA EBLAN", "module": "utils", "name": "core.utils", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096303773504, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:08:29.912315+07:00", "timestamp": 1749222509.912315}}}
{"text": "2025-06-06T22:08:29.924092+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.112439", "seconds": 1.112439}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 49, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096303773504, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:08:29.924092+07:00", "timestamp": 1749222509.924092}}}
{"text": "2025-06-06T22:08:29.927233+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.115580", "seconds": 1.11558}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096303773504, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:08:29.927233+07:00", "timestamp": 1749222509.927233}}}
{"text": "2025-06-06T22:08:29.927922+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.116269", "seconds": 1.116269}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096215254720, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 22:08:29.927922+07:00", "timestamp": 1749222509.927922}}}
{"text": "2025-06-06T22:08:29.928141+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.116488", "seconds": 1.116488}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096303773504, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:08:29.928141+07:00", "timestamp": 1749222509.928141}}}
{"text": "2025-06-06T22:08:34.924527+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.112874", "seconds": 6.112874}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096206862016, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:08:34.924527+07:00", "timestamp": 1749222514.924527}}}
{"text": "2025-06-06T22:08:34.950216+0700 INFO Constructed message for Алина: сегодня ты сможешь всё\n", "record": {"elapsed": {"repr": "0:00:06.138563", "seconds": 6.138563}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Алина: сегодня ты сможешь всё", "module": "publisher", "name": "services.publisher", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096206862016, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:08:34.950216+07:00", "timestamp": 1749222514.950216}}}
{"text": "2025-06-06T22:08:36.168860+0700 ERROR An error has been caught in function '_run', process 'MainProcess' (1175840), thread 'Thread-1 (_run_telegram_bot_loop)' (139096215254720):\nTraceback (most recent call last):\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7e81defaeca0>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 139096215254720)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7e81defaea20>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 139096215254720)>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 139096215254720)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 139096215254720)>\n    │    └ <bound method SchedulerService._run_telegram_bot_loop of <services.scheduler.SchedulerService object at 0x7e81deb78ad0>>\n    └ <Thread(Thread-1 (_run_telegram_bot_loop), started daemon 139096215254720)>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py\", line 77, in _run_telegram_bot_loop\n    self.bot_loop.run_until_complete(self.telegram_service.start_bot())\n    │    │        │                  │    │                └ <function TelegramService.start_bot at 0x7e81ddbdd620>\n    │    │        │                  │    └ <services.telegram_bot.TelegramService object at 0x7e81dccbd6a0>\n    │    │        │                  └ <services.scheduler.SchedulerService object at 0x7e81deb78ad0>\n    │    │        └ <function BaseEventLoop.run_until_complete at 0x7e81dedeefc0>\n    │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n    └ <services.scheduler.SchedulerService object at 0x7e81deb78ad0>\n\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7e81dedeef20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7e81dedf4d60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7e81ded1fb00>\n    └ <Handle Task.task_wakeup()>\n> File \"/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py\", line 57, in send_message\n    await self.bot.send_message(tg_id, message)\n          │    │   │            │      └ 'сегодня ты сможешь всё'\n          │    │   │            └ '-1002392744548'\n          │    │   └ <function Bot.send_message at 0x7e81dcc90900>\n          │    └ <aiogram.client.bot.Bot object at 0x7e81dcb20410>\n          └ <services.telegram_bot.TelegramService object at 0x7e81dccbd6a0>\n\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 2850, in send_message\n    return await self(call, request_timeout=request_timeout)\n                 │    │                     └ None\n                 │    └ SendMessage(chat_id='-1002392744548', text='сегодня ты сможешь всё', business_connection_id=None, message_thread_id=None, par...\n                 └ <aiogram.client.bot.Bot object at 0x7e81dcb20410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/bot.py\", line 478, in __call__\n    return await self.session(self, method, timeout=request_timeout)\n                 │    │       │     │               └ None\n                 │    │       │     └ SendMessage(chat_id='-1002392744548', text='сегодня ты сможешь всё', business_connection_id=None, message_thread_id=None, par...\n                 │    │       └ <aiogram.client.bot.Bot object at 0x7e81dcb20410>\n                 │    └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7e81dcb20550>\n                 └ <aiogram.client.bot.Bot object at 0x7e81dcb20410>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 254, in __call__\n    return cast(TelegramType, await middleware(bot, method))\n           │    │                   │          │    └ SendMessage(chat_id='-1002392744548', text='сегодня ты сможешь всё', business_connection_id=None, message_thread_id=None, par...\n           │    │                   │          └ <aiogram.client.bot.Bot object at 0x7e81dcb20410>\n           │    │                   └ functools.partial(<bound method AiohttpSession.make_request of <aiogram.client.session.aiohttp.AiohttpSession object at 0x7e8...\n           │    └ ~TelegramType\n           └ <function cast at 0x7e81dedde520>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py\", line 185, in make_request\n    response = self.check_response(\n               │    └ <function BaseSession.check_response at 0x7e81dcc49440>\n               └ <aiogram.client.session.aiohttp.AiohttpSession object at 0x7e81dcb20550>\n  File \"/home/usov/myprojects/Tebe_Znak_Telegram/.venv/lib/python3.13/site-packages/aiogram/client/session/base.py\", line 126, in check_response\n    raise TelegramUnauthorizedError(method=method, message=description)\n          │                                │               └ 'Unauthorized'\n          │                                └ SendMessage(chat_id='-1002392744548', text='сегодня ты сможешь всё', business_connection_id=None, message_thread_id=None, par...\n          └ <class 'aiogram.exceptions.TelegramUnauthorizedError'>\n\naiogram.exceptions.TelegramUnauthorizedError: Telegram server says - Unauthorized\n", "record": {"elapsed": {"repr": "0:00:07.357207", "seconds": 7.357207}, "exception": {"type": "TelegramUnauthorizedError", "value": "Telegram server says - Unauthorized", "traceback": true}, "extra": {}, "file": {"name": "events.py", "path": "/home/usov/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/asyncio/events.py"}, "function": "_run", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 89, "message": "An error has been caught in function '_run', process 'MainProcess' (1175840), thread 'Thread-1 (_run_telegram_bot_loop)' (139096215254720):", "module": "events", "name": "asyncio.events", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096215254720, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 22:08:36.168860+07:00", "timestamp": 1749222516.16886}}}
{"text": "2025-06-06T22:08:37.692163+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:08.880510", "seconds": 8.88051}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096303773504, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:08:37.692163+07:00", "timestamp": 1749222517.692163}}}
{"text": "2025-06-06T22:08:37.692569+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:08.880916", "seconds": 8.880916}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096303773504, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:08:37.692569+07:00", "timestamp": 1749222517.692569}}}
{"text": "2025-06-06T22:08:40.693581+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:11.881928", "seconds": 11.881928}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1175840, "name": "MainProcess"}, "thread": {"id": 139096303773504, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:08:40.693581+07:00", "timestamp": 1749222520.693581}}}
{"text": "2025-06-06T22:19:10.351454+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.123416", "seconds": 1.123416}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 49, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296765908800, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:10.351454+07:00", "timestamp": 1749223150.351454}}}
{"text": "2025-06-06T22:19:10.354278+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.126240", "seconds": 1.12624}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296765908800, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:10.354278+07:00", "timestamp": 1749223150.354278}}}
{"text": "2025-06-06T22:19:10.354714+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.126676", "seconds": 1.126676}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296676771520, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 22:19:10.354714+07:00", "timestamp": 1749223150.354714}}}
{"text": "2025-06-06T22:19:10.354851+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.126813", "seconds": 1.126813}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296765908800, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:10.354851+07:00", "timestamp": 1749223150.354851}}}
{"text": "2025-06-06T22:19:15.352203+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.124165", "seconds": 6.124165}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296593934016, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:19:15.352203+07:00", "timestamp": 1749223155.352203}}}
{"text": "2025-06-06T22:19:15.377936+0700 INFO Constructed message for Алина: Сегодня время для радости и вдохновения.\n", "record": {"elapsed": {"repr": "0:00:06.149898", "seconds": 6.149898}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Алина: Сегодня время для радости и вдохновения.", "module": "publisher", "name": "services.publisher", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296593934016, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:19:15.377936+07:00", "timestamp": 1749223155.377936}}}
{"text": "2025-06-06T22:19:19.227806+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:09.999768", "seconds": 9.999768}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296765908800, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:19.227806+07:00", "timestamp": 1749223159.227806}}}
{"text": "2025-06-06T22:19:19.228269+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:10.000231", "seconds": 10.000231}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296765908800, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:19.228269+07:00", "timestamp": 1749223159.228269}}}
{"text": "2025-06-06T22:19:19.758489+0700 ERROR ajajaja name_of_method\n", "record": {"elapsed": {"repr": "0:00:10.530451", "seconds": 10.530451}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "send_message", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 59, "message": "ajajaja name_of_method", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296676771520, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 22:19:19.758489+07:00", "timestamp": 1749223159.758489}}}
{"text": "2025-06-06T22:19:22.229602+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:13.001564", "seconds": 13.001564}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176484, "name": "MainProcess"}, "thread": {"id": 139296765908800, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:22.229602+07:00", "timestamp": 1749223162.229602}}}
{"text": "2025-06-06T22:19:49.644840+0700 WARNING Running in DEBUG mode\n", "record": {"elapsed": {"repr": "0:00:01.081589", "seconds": 1.081589}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "setup_jobs", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 49, "message": "Running in DEBUG mode", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064258307904, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:49.644840+07:00", "timestamp": 1749223189.64484}}}
{"text": "2025-06-06T22:19:49.648168+0700 INFO tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n", "record": {"elapsed": {"repr": "0:00:01.084917", "seconds": 1.084917}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "service_start_message", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "tebe_znak_telegram started with parameters:\n\n                +---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+\n| timezone      | post_hours   |   post_minutes | data_path   | message_history      | messages     |   max_history | artifact   |\n+===============+==============+================+=============+======================+==============+===============+============+\n| Europe/Moscow | 8, 14, 20    |             00 | data        | message_history.json | message.json |           200 | %name%     |\n+---------------+--------------+----------------+-------------+----------------------+--------------+---------------+------------+", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064258307904, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:49.648168+07:00", "timestamp": 1749223189.648168}}}
{"text": "2025-06-06T22:19:49.648692+0700 INFO Starting Telegram bot polling\n", "record": {"elapsed": {"repr": "0:00:01.085441", "seconds": 1.085441}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "start_bot", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 42, "message": "Starting Telegram bot polling", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064194397888, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 22:19:49.648692+07:00", "timestamp": 1749223189.648692}}}
{"text": "2025-06-06T22:19:49.648815+0700 INFO Scheduler is starting...\n", "record": {"elapsed": {"repr": "0:00:01.085564", "seconds": 1.085564}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 97, "message": "Scheduler is starting...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064258307904, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:49.648815+07:00", "timestamp": 1749223189.648815}}}
{"text": "2025-06-06T22:19:54.645263+0700 INFO Starting scheduled publish\n", "record": {"elapsed": {"repr": "0:00:06.082012", "seconds": 6.082012}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "scheduled_publish", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Starting scheduled publish", "module": "publisher", "name": "services.publisher", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064186005184, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:19:54.645263+07:00", "timestamp": 1749223194.645263}}}
{"text": "2025-06-06T22:19:54.670889+0700 INFO Constructed message for Алина: Каждое новое утро — шанс на лучшее.\n", "record": {"elapsed": {"repr": "0:00:06.107638", "seconds": 6.107638}, "exception": null, "extra": {}, "file": {"name": "publisher.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/publisher.py"}, "function": "publish_for_name", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "Constructed message for Алина: Каждое новое утро — шанс на лучшее.", "module": "publisher", "name": "services.publisher", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064186005184, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2025-06-06 22:19:54.670889+07:00", "timestamp": 1749223194.670889}}}
{"text": "2025-06-06T22:19:54.719773+0700 ERROR ajajaja send_message\n", "record": {"elapsed": {"repr": "0:00:06.156522", "seconds": 6.156522}, "exception": null, "extra": {}, "file": {"name": "telegram_bot.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/telegram_bot.py"}, "function": "send_message", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 58, "message": "ajajaja send_message", "module": "telegram_bot", "name": "services.telegram_bot", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064194397888, "name": "Thread-1 (_run_telegram_bot_loop)"}, "time": {"repr": "2025-06-06 22:19:54.719773+07:00", "timestamp": 1749223194.719773}}}
{"text": "2025-06-06T22:19:58.578284+0700 INFO \u001b[36mtebe_znak_telegram shutdown initiated.\n", "record": {"elapsed": {"repr": "0:00:10.015033", "seconds": 10.015033}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "handle_sigint", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "\u001b[36mtebe_znak_telegram shutdown initiated.", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064258307904, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:58.578284+07:00", "timestamp": 1749223198.578284}}}
{"text": "2025-06-06T22:19:58.578719+0700 INFO \u001b[36mWaiting for Telegram bot to shutdown...\n", "record": {"elapsed": {"repr": "0:00:10.015468", "seconds": 10.015468}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 101, "message": "\u001b[36mWaiting for Telegram bot to shutdown...", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064258307904, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:19:58.578719+07:00", "timestamp": 1749223198.578719}}}
{"text": "2025-06-06T22:20:01.579617+0700 INFO \u001b[36mService 'tebe_znak_telegram' gracefully stopped\n", "record": {"elapsed": {"repr": "0:00:13.016366", "seconds": 13.016366}, "exception": null, "extra": {}, "file": {"name": "scheduler.py", "path": "/home/usov/myprojects/Tebe_Znak_Telegram/src/services/scheduler.py"}, "function": "run_service", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "\u001b[36mService 'tebe_znak_telegram' gracefully stopped", "module": "scheduler", "name": "services.scheduler", "process": {"id": 1176658, "name": "MainProcess"}, "thread": {"id": 131064258307904, "name": "MainThread"}, "time": {"repr": "2025-06-06 22:20:01.579617+07:00", "timestamp": 1749223201.579617}}}
